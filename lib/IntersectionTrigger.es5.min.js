/*
* IntersectionTrigger v1.0.0
* https://sunshine-themes.com/intersectionTrigger
*
* @license Copyright 2022, Sunshine. All rights reserved.
* Subject to the terms at https://sunshine-themes.com/intersectionTrigger/standard-licensew.
* @author: Sherif magdy, sherifmagdy@sunshine-themes.com
*/
                  
var intersectiontrigger=(function(){var Pt=Object.defineProperty;var It=function(n,e){for(var t in e)Pt(n,t,{get:e[t],enumerable:!0})};var zt={};It(zt,{default:function(){return D}});var V=function(){},At=["add","remove","add","remove"],Lt=["play","finish","reverse","finish"],ct={to:null,after:1,speed:600,maxDistance:500},ft={defaults:{once:!1,onEnter:V,onLeave:V,onEnterBack:V,onLeaveBack:V,toggleClass:null,animation:null},enter:"0% 100%",leave:"100% 0%",axis:"y",name:"",root:null,onScroll:V},gt={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:null,animate:null},ids:{snapTimeOutId:0}};var nt={targets:null,toggleActions:At,classNames:null},q={instance:null,toggleActions:Lt,control:!1,snap:!1};function Dt(n,e){return jt(n)||Rt(n,e)||xt(n,e)||Ct()}function Ct(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xt(n,e){if(!!n){if(typeof n=="string")return ht(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ht(n,e)}}function ht(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Rt(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,u;try{for(t=t.call(n);!(i=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(s){o=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return r}}function jt(n){if(Array.isArray(n))return n}function at(n){return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(n)}var f={function:function(e){return typeof e=="function"},string:function(e){return typeof e=="string"},boolean:function(e){return typeof e=="boolean"},object:function(e){return e&&at(e)==="object"&&!(e instanceof Array)},inObject:function(e,t){return f.object(e)&&t in e},num:function(e){return typeof e=="number"},percent:function(e){return e&&e.includes("%")},pixel:function(e){return e&&e.includes("px")},array:function(e){return e instanceof Array},element:function(e){return e instanceof HTMLElement||e instanceof Element},doc:function(e){return e&&e.nodeType===9},scrollable:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t?t==="y"?e.scrollHeight>e.clientHeight:e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},anime:function(e){return f.object(e)&&e.hasOwnProperty("animatables")&&!e.hasOwnProperty("add")},tl:function(e){return f.object(e)&&e.hasOwnProperty("add")&&f.function(e.add)},animeInstance:function(e){return f.anime(e)||f.tl(e)}},vt=function(e,t,r){return Math.min(Math.max(e,t),r)},F=function(e){return e.split(/\s+/)},dt=function(e,t){return e&&e.getBoundingClientRect()[t]},pt=function(e,t){return t==="y"?e.scrollHeight:e.scrollWidth},A=function(e,t){f.string(e)&&(e=parseFloat(e));var r=Math.pow(10,t||0);return Math.round(e*r)/r};var y=function n(e,t){var r=e,i=t;return Object.entries(r).forEach(function(o){var a=Dt(o,2),u=a[0],s=a[1];f.object(s)?n(s,i[u]=i[u]||{}):u in i||(i[u]=s)}),i},S=function(e){throw new Error(e)},mt=function(e){var t=e.getBoundingClientRect(),r=t.top,i=t.bottom,o=t.right,a=t.left,u=t.height,s=t.width,l=t.x,d=t.y;return{top:r,left:a,height:u,width:s,x:l,y:d,right:o-(o-a-e.clientWidth),bottom:i-(i-r-e.clientHeight)}};function Mt(n,e){var t=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=bt(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,a=!1,u;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return o=l.done,l},e:function(l){a=!0,u=l},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}}}function _t(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function b(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(t),!0).forEach(function(r){T(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function T(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B(n){return Ft(n)||Vt(n)||bt(n)||Ht()}function Ht(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bt(n,e){if(!!n){if(typeof n=="string")return it(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return it(n,e)}}function Vt(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ft(n){if(Array.isArray(n))return it(n)}function it(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Bt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Wt(n,e,t){return e&&yt(n.prototype,e),t&&yt(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var St=function(){function n(e){return Bt(this,n),this._it=e,this.setUtils(),this}return Wt(n,[{key:"setUtils",value:function(){var t=this;this.isVirtical=function(){return t._it.axis==="y"},this.isRootViewport=function(){return!t._it._root},this.getRoot=function(){var r;return(r=t._it._root)!==null&&r!==void 0?r:window},this.dirProps=function(){return t.isVirtical()?{ref:"top",length:"height",refOpposite:"bottom",innerLength:innerHeight}:{ref:"left",length:"width",refOpposite:"right",innerLength:innerWidth}},this.setRootMargin=function(){var r=pt(t.isRootViewport()?document.body:t._it._root,t.isVirtical()?"x":"y");return t.isVirtical()?"".concat(t._it._positions.rootLeavePosition.strValue," ").concat(r,"px ").concat(t._it._positions.rootEnterPosition.strValue," ").concat(r,"px"):"".concat(r,"px ").concat(t._it._positions.rootEnterPosition.strValue," ").concat(r,"px ").concat(t._it._positions.rootLeavePosition.strValue)},this.setThreshold=function(){var r=[0,t._it._triggerParams.enter,t._it._triggerParams.leave,A(1-t._it._triggerParams.leave,2),1];return t._it.triggers.forEach(function(i){var o=t.getTriggerData(i),a=o.enter,u=o.leave;r.push(a,u,A(1-u,2))}),B(new Set(r))},this.parseQuery=function(r,i){switch(!0){case f.string(r):return B(document.querySelectorAll(r));case f.array(r):return r;case f.element(r):return[r];default:S("".concat(i," parameter must be a valid selector, an element or array of elements"))}},this.customParseQuery=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger",o=i==="trigger",a=o?[]:{};return o?t.parseQuery(r,"trigger"):(a=f.string(r)?document.querySelector(r):f.element(r)?r:S("root parameter must be a valid selector or an element"),a)},this.validatePosition=function(r,i){return f.function(i)&&(i=i(t._it)),f.string(i)||S("".concat(r," parameter must be a string.")),i},this.setPositionData=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=t.validatePosition(o?"enter":"leave",r);var a=r.trim(),u=f.percent(a),s=f.pixel(a),l={};if(a=u?a.replace("%",""):s?a.replace("px",""):a,a=A(a),l.type=u?"percent":"pixel",u&&i)return l.value=a/100,l.strValue="".concat(a,"%"),l;var d=t.dirProps(),p=d.length,v=d.innerLength,c=t._it._root?dt(t._it._root,p):v;switch(!0){case(u&&o):l.value=A(a/100-1,2),l.strValue="".concat(l.value*100,"%");break;case(u&&!o):l.value=-a/100,l.strValue="".concat(l.value*100,"%");break;case(s&&o):l.value=A(a-c,2),l.strValue="".concat(l.value,"px");break;case(s&&!o):l.value=-a,l.strValue="".concat(-a,"px");break}return l.guide=r,l},this.parsePositions=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";r=t.validatePosition("enter",r),i=t.validatePosition("leave",i);var o=r.trim().split(/\s+/g,2),a=i.trim().split(/\s+/g,2),u=[].concat(B(o),B(a));return{triggerEnterPosition:t.setPositionData(u[0]),rootEnterPosition:t.setPositionData(u[1],!1),triggerLeavePosition:t.setPositionData(u[2]),rootLeavePosition:t.setPositionData(u[3],!1,!1)}},this.deleteTriggerData=function(r){t._it._triggersData.delete(r)},this.hasTriggerData=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=t._it._triggersData.has(r);return i?o&&i in t.getTriggerData(r):o},this.getTriggerData=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?t.hasTriggerData(r,i)?t._it._triggersData.get(r)[i]:{}:t.hasTriggerData(r)&&t._it._triggersData.get(r)||{}},this.setTriggerData=function(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(o){var a=t.getTriggerData(r);f.object(a)&&t._it._triggersData.set(r,b(b({},a),o));return}t._it._triggersData.set(r,i)},this.getTriggerStates=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=t.getTriggerData(r,"states"),a=o.hasEntered||o.hasEnteredBack;return i?o[i]:b(b({},o),{},{hasEnteredFromOneSide:a})},this.setTriggerStates=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.getTriggerData(r),a=o&&b(b({},o.states),i);t.setTriggerData(r,null,{states:a})},this.setTriggerScrollStates=function(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=t.getTriggerStates(r,"onScroll");if(a[i]=o,t.setTriggerStates(r,{onscroll:b({},a)}),o){t._it._states.runningScrollCbs===0&&t._it.addScrollListener(t._it._onScrollHandler),t._it._states.runningScrollCbs++;return}0<t._it._states.runningScrollCbs&&t._it._states.runningScrollCbs--,t._it._states.runningScrollCbs===0&&t._it.removeScrollListener(t._it._onScrollHandler)},this.onTriggerEnter=function(r){var i,o,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Enter",u=t.getTriggerStates(r),s=u.hasEnteredOnce,l=t.getTriggerData(r),d=l.onEnter,p=l.onEnterBack,v=l.toggleClass,c=l.animation,h=a==="Enter",m={callback:h?d:p,enterProp:h?"hasEntered":"hasEnteredBack",leaveProp:h?"hasLeftBack":"hasLeft",eventIndex:h?0:2};m.callback(r,t),v&&t.toggleClass(r,v,m.eventIndex),c&&t.animate(r,c,m.eventIndex);var g=s?(i={},T(i,m.enterProp,!0),T(i,m.leaveProp,!1),i):(o={},T(o,m.enterProp,!0),T(o,"hasLeft",!1),T(o,"hasLeftBack",!1),o);t.setTriggerStates(r,g),s||t.setTriggerStates(r,{hasEnteredOnce:!0})},this.onTriggerLeave=function(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Leave",a=t.getTriggerData(r),u=a.once,s=t.getTriggerStates(r),l=s.hasEnteredOnce,d=t.getTriggerData(r),p=d.onLeave,v=d.onLeaveBack,c=d.toggleClass,h=d.animation,m=o==="Leave",g={callback:m?p:v,leaveProp:m?"hasLeft":"hasLeftBack",eventIndex:m?1:3};g.callback(r,t),c&&t.toggleClass(r,c,g.eventIndex),h&&t.animate(r,h,g.eventIndex),t.setTriggerStates(r,(i={},T(i,g.leaveProp,!0),T(i,"hasEntered",!1),T(i,"hasEnteredBack",!1),i)),u&&l&&t._it.remove(r)},this.animate=function(r,i,o){var a=i.instance,u=i.toggleActions,s=i.control,l=i.snap;if(!!a){if(s){var d=t.getTriggerStates(r,"onScroll"),p=d.animate,v=t.getTriggerStates(r,"ids"),c=t.getTriggerData(r),h=c.enter,m=c.leave,g=t.dirProps(),O=g.ref,W=g.refOpposite,k=g.length,w=t.isVirtical(),_=r.getBoundingClientRect(),$=_[k]-(h*_[k]+(1-m)*_[k]),C=t.getRoot(),U=a.duration,N=function(P){var x=P.getBoundingClientRect(),Q=t.getTriggerStates(P,"ids");t._it.rootBounds=t.getRootRect(t._it.observer.rootMargin);var G=t._it.rootBounds,K=$+G[k],I=0,z=G[W]-(x[O]+h*x[k]);if(z>0&&(I=U*z/K,f.num(s)?setTimeout(function(){return a.seek(I)},s*1e3):a.seek(I)),l){var R=l.speed*17/1e3,j=0,J=function X(M){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=H?-1:1;if(w?C.scrollBy({top:R*Y,behavior:"instant"}):C.scrollBy({left:R*Y,behavior:"instant"}),j+=R,j>=M){j=0;return}requestAnimationFrame(function(){return X(M,H)})};clearTimeout(Q.snapTimeOutId);var wt=setTimeout(function(){var X=l.to.map(function(rt){return I-rt}),M=X.map(function(rt){return Math.abs(rt)}),H=Math.min.apply(Math,B(M)),Y=X[M.indexOf(H)],Z=K*H/U;if(!(Z>=l.maxDistance||Z<10)){if(Y<0){J(Z);return}J(Z,!0)}},l.after*1e3);t.setTriggerStates(P,{ids:b(b({},Q),{},{snapTimeOutId:wt})})}};switch(o){case 0:case 2:if(t._it._states.oCbFirstInvoke&&N(r),p)break;t.setTriggerScrollStates(r,"animate",N);break;case 1:case 3:clearTimeout(v.snapTimeOutId),t.setTriggerScrollStates(r,"animate",null);break}return}var E=u[o];if(E!=="none")switch(E){case"play":a.reversed&&a.reverse(),1>a.progress&&a[E]();break;case"restart":case"reset":a.reversed&&a.reverse(),a[E]();break;case"pause":break;case"finish":a.pause(),a.seek(a.reversed?0:a.duration);break;case"reverse":if(a.reversed)break;a[E](),a.paused&&a.play();break;case"kill":f.inObject(a,"kill")&&a.kill(),t.setTriggerData(r,null,{animation:b({},q)});break}}},this.parseAnimation=function(r){var i={};switch(!0){case f.animeInstance(r):i=y(q,{instance:r});break;case f.object(r):{var o=y(q,r),a=o.instance,u=o.toggleActions,s=o.snap;f.animeInstance(a)||S("Invalid anime instance");var l=function(c){for(var h=[],m=c;m<1;)h.push(vt(m,0,1)),m=m+c;return h.map(function(g){return Math.round(g*a.duration)})},d=function(c){if(f.num(c))return l(c);if(f.string(c))return[];if(f.array(c))return c},p={};switch(!0){case(f.boolean(s)&&s):p.to=[];break;case f.array(s):p.to=s;break;case f.num(s):p.to=l(s);break;case f.object(s):p=s,p.to=d(p.to);break}o.snap=y(ct,p),f.string(u)&&(o.toggleActions=F(u)),i=o}break}return f.inObject(i,"instance")&&i.instance.reset(),i},this.toggleClass=function(r,i,o){var a=Mt(i),u;try{var s=function(){var p=u.value,v=p.targets,c=p.toggleActions,h=p.classNames;if(c[o]==="none")return"continue";h.forEach(function(m){return v.forEach(function(g){return g==="trigger"?r.classList[c[o]](m):g.classList[c[o]](m)})})};for(a.s();!(u=a.n()).done;)var l=s()}catch(d){a.e(d)}finally{a.f()}},this.parseToggleClass=function(r){var i=[];if(f.string(r)){var o=y(nt,{targets:["trigger"],classNames:F(r)});return i.push([o]),i}return f.array(r)&&(i=r.map(function(a){var u=y(nt,a),s=u.targets,l=u.classNames,d=u.toggleActions;return s&&(u.targets=t.parseQuery(s,"targets")),l&&(u.classNames=F(l)),f.string(d)&&(u.toggleActions=F(d)),u})),i},this.toggleActions=function(r){var i=r.getBoundingClientRect();t._it.rootBounds=t.getRootRect(t._it.observer.rootMargin);var o=t._it.rootBounds,a=t.getTriggerData(r),u=a.enter,s=a.leave,l=t.getTriggerStates(r),d=l.hasEnteredFromOneSide,p=l.hasLeft,v=l.hasLeftBack,c=t.dirProps(),h=c.ref,m=c.refOpposite,g=c.length,O=!0;switch(!0){case(v&&i[h]+u*i[g]<=o[m]&&i[h]+u*i[g]>o[h]):t.onTriggerEnter(r);break;case(d&&i[h]+s*i[g]<=o[h]):t.onTriggerLeave(r);break;case(p&&i[h]+s*i[g]>=o[h]&&i[h]+s*i[g]<o[m]):t.onTriggerEnter(r,"EnterBack");break;case(d&&i[h]+u*i[g]>=o[m]):t.onTriggerLeave(r,"hasLeftBack");break;default:O=!1;break}return O},this.parseString=function(r){var i=r.split(/\s+/).map(function(o){var a=/^(-?\d*\.?\d+)(px|%)$/.exec(o);return{value:parseFloat(a[1]),unit:a[2]}});return i},this.parseRootMargin=function(r){var i=r||"0px",o=t.parseString(i);return o[1]=o[1]||o[0],o[2]=o[2]||o[0],o[3]=o[3]||o[1],o},this.expandRectByRootMargin=function(r,i){var o=t.parseRootMargin(i).map(function(u,s){return u.unit=="px"?u.value:u.value*(s%2?r.width:r.height)/100}),a={top:r.top-o[0],right:r.right+o[1],bottom:r.bottom+o[2],left:r.left-o[3]};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},this.getRootRect=function(r){var i;if(t._it._root&&!f.doc(t._it._root))return i=mt(t._it._root),t.expandRectByRootMargin(i,r);var o=f.doc(t._it._root)?t._it._root:document,a=o.documentElement,u=o.body;return i={top:0,left:0,right:a.clientWidth||u.clientWidth,width:a.clientWidth||u.clientWidth,bottom:a.clientHeight||u.clientHeight,height:a.clientHeight||u.clientHeight},t.expandRectByRootMargin(i,r)}}}]),n}();function tt(n){return Nt(n)||Ut(n)||kt(n)||$t()}function $t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ut(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Nt(n){if(Array.isArray(n))return st(n)}function Tt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ot(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tt(Object(t),!0).forEach(function(r){et(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tt(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Qt(n,e){var t=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=kt(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,a=!1,u;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return o=l.done,l},e:function(l){a=!0,u=l},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}}}function kt(n,e){if(!!n){if(typeof n=="string")return st(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return st(n,e)}}function st(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Gt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Kt(n,e,t){return e&&Ot(n.prototype,e),t&&Ot(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function et(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ut=[],L=[],Et=0,D=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gt(this,n),et(this,"_rAFCallback",function(r){e.triggers.forEach(function(i){var o=e._utils.getTriggerStates(i,"onScroll");for(var a in o)o[a]&&f.function(o[a])&&o[a](i,r)})}),et(this,"_onScrollHandler",function(){return requestAnimationFrame(e._rAFCallback)}),et(this,"_observerCallback",function(r,i){var o=e._utils.dirProps(),a=o.ref,u=o.refOpposite,s=o.length,l=Qt(r),d;try{for(l.s();!(d=l.n()).done;){var p=d.value,v=p.target,c=p.boundingClientRect,h=p.isIntersecting,m=p.intersectionRatio;e.rootBounds=p.rootBounds||e._utils.getRootRect(i.rootMargin);var g=e.rootBounds,O=g[s],W=O/c[s],k=e._utils.getTriggerData(v),w=k.enter,_=k.leave,$=e._utils.getTriggerStates(v),C=$.hasEnteredFromOneSide,U=$.onScroll.backup,N=c[s]>=O,E=w>W,lt=1-_>W,P=N&&(E||lt),x=!!U,Q=c[a]+w*c[s]<g[u]&&c[a]+w*c[s]>g[a],G=c[a]+_*c[s]<g[u]&&c[a]+_*c[s]>g[a],K=c[a]+w*c[s]<g[a],I=c[a]+_*c[s]>g[u],z=c[a]+_*c[s]<g[a]&&m<1-_,R=c[a]<g[a],j=c[u]<g[a];switch(!0){case e._states.oCbFirstInvoke:switch(!0){case(!h&&R&&j):e._utils.onTriggerEnter(v),e._utils.onTriggerLeave(v);break;case h:switch(!0){case(Q||G||K&&I):e._utils.onTriggerEnter(v);break;case z:e._utils.onTriggerEnter(v),e._utils.onTriggerLeave(v);break}P&&e._utils.setTriggerScrollStates(v,"backup",e._utils.toggleActions);break}break;case!h:switch(x&&e._utils.setTriggerScrollStates(v,"backup",null),!0){case(C&&c[u]<g[a]):e._utils.onTriggerLeave(v);break;case(C&&c[a]>g[u]):e._utils.onTriggerLeave(v,"onLeaveBack");break}break;case(h&&!x):e._utils.toggleActions(v),P&&e._utils.setTriggerScrollStates(v,"backup",e._utils.toggleActions);break}}}catch(J){l.e(J)}finally{l.f()}e._states.oCbFirstInvoke=!1}),this._userOptions=t,this.triggers=[],this._triggersData=new WeakMap,this._guidesInstance=null,this._utils=new St(this),this.id=Et,Et++,L.push(this),this._setStates(),this._setInstance()}return Kt(n,[{key:"_setStates",value:function(){this._states={},this._states.oCbFirstInvoke=!0,this._states.runningScrollCbs=0}},{key:"addScrollListener",value:function(t){this._utils.getRoot().addEventListener("scroll",t,!1)}},{key:"removeScrollListener",value:function(t){this._utils.getRoot().removeEventListener("scroll",t,!1)}},{key:"_createInstance",value:function(){this._threshold=this._utils.setThreshold(),this._observerOptions={root:this._root,rootMargin:this._rootMargin,threshold:this._threshold},this.observer=new IntersectionObserver(this._observerCallback,this._observerOptions),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin),this._isRootViewport=this._utils.isRootViewport()}},{key:"_setInstance",value:function(){this._defaultOptions=ft,this._options=y(this._defaultOptions,this._userOptions),this.axis=f.string(this._options.axis)?this._options.axis:S("axis parameter must be a string."),this.name=f.string(this._options.name)?this._options.name:S("name parameter must be a string."),this._root=!!this._options.root&&this._utils.customParseQuery(this._options.root,"root")||null,this._positions=this._utils.parsePositions(this._options.enter,this._options.leave),this.customScrollHandler=this._options.onScroll;var t=this._options.defaults,r=t.once,i=t.onEnter,o=t.onLeave,a=t.onEnterBack,u=t.onLeaveBack,s=t.toggleClass,l=t.animation;return this._triggerParams={enter:this._positions.triggerEnterPosition.value,leave:this._positions.triggerLeavePosition.value,once:r,onEnter:i,onLeave:o,onEnterBack:a,onLeaveBack:u,toggleClass:s,animation:l},this._rootMargin=this._utils.setRootMargin(),this._createInstance(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),this}},{key:"add",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this._utils.customParseQuery(r);"enter"in i&&(i.enter=this._utils.setPositionData(i.enter).value),"leave"in i&&(i.leave=this._utils.setPositionData(i.leave).value);var a=ot(ot({},y(this._triggerParams,i)),{},{states:ot({},gt)});a.toggleClass&&(a.toggleClass=this._utils.parseToggleClass(a.toggleClass)),a.animation&&(a.animation=this._utils.parseAnimation(a.animation)),this.triggers=tt(new Set([].concat(tt(this.triggers),tt(o))));var u=!1;return[i.enter,i.leave].forEach(function(s){return!t._threshold.some(function(l){return s===l})&&(u=!0)}),u?(this._disconnect(),o.forEach(function(s){return t._utils.setTriggerData(s,a)}),this._createInstance(),this.triggers.forEach(function(s){return t.observer.observe(s)})):o.forEach(function(s){t._utils.setTriggerData(s,a),t.observer.observe(s)}),this._guidesInstance&&this._guidesInstance.refresh(),this}},{key:"remove",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this._utils.customParseQuery(r);i.forEach(function(a){t._utils.deleteTriggerData(a),t.observer.unobserve(a)});var o=this.triggers.filter(function(a){var u=i.some(function(s){return a===s});return!u});return this.triggers=o,this._guidesInstance&&this._guidesInstance.refresh(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}},{key:"kill",value:function(){this._disconnect(),this.removeScrollListener(this.customScrollHandler),this.triggers=[],this.removeGuides();var t=L.indexOf(this);~t&&L.splice(t,1)}},{key:"addGuides",value:function(t){return f.inObject(t,"_registerIntersectionTrigger")||S("Invalid Guides Instance."),t._registerIntersectionTrigger(this),t.refresh(),this._guidesInstance=t,this}},{key:"removeGuides",value:function(){return this._guidesInstance&&this._guidesInstance.kill(),this._guidesInstance=null,this}},{key:"update",value:function(){this._guidesInstance&&this._guidesInstance.refresh()}}]),n}();D.getInstances=function(){return L};D.getInstanceById=function(n){return L.find(function(e){return e.id===n})};D.update=function(){return L.forEach(function(n){return n.update()})};D.registerPlugins=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ut.push.apply(ut,tt(n))};D.getRegisteredPlugins=function(){return ut};return zt;})();
