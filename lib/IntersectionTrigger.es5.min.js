/*
* IntersectionTrigger v1.0.0
* https://sunshine-themes.com/intersectionTrigger
*
* @license Copyright 2022, Sunshine. All rights reserved.
* Subject to the terms at https://sunshine-themes.com/intersectionTrigger/standard-licensew.
* @author: Sherif magdy, sherifmagdy@sunshine-themes.com
*/
                  
var intersectiontrigger=(function(){var dt=Object.defineProperty;var pt=function(r,e){for(var t in e)dt(r,t,{get:e[t],enumerable:!0})};var Rt={};pt(Rt,{default:function(){return k}});var E=function(){};var U={defaults:{once:!1,onEnter:E,onLeave:E,onEnterBack:E,onLeaveBack:E,toggleClass:null,animation:null},enter:"0% 100%",leave:"100% 0%",axis:"y",name:"",root:null,onScroll:E},G={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:null,animate:null},ids:{snapTimeOutId:0}};function mt(r,e){return St(r)||yt(r,e)||bt(r,e)||_t()}function _t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bt(r,e){if(!!r){if(typeof r=="string")return Q(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(r,e)}}function Q(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function yt(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],a=!0,o=!1,i,s;try{for(t=t.call(r);!(a=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function St(r){if(Array.isArray(r))return r}function x(r){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(r)}var f={function:function(e){return typeof e=="function"},string:function(e){return typeof e=="string"},boolean:function(e){return typeof e=="boolean"},object:function(e){return e&&x(e)==="object"&&!(e instanceof Array)},inObject:function(e,t){return f.object(e)&&t in e},num:function(e){return typeof e=="number"},percent:function(e){return e&&e.includes("%")},pixel:function(e){return e&&e.includes("px")},array:function(e){return e instanceof Array},element:function(e){return e instanceof HTMLElement||e instanceof Element},doc:function(e){return e&&e.nodeType===9},scrollable:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t?t==="y"?e.scrollHeight>e.clientHeight:e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},anime:function(e){return f.object(e)&&e.hasOwnProperty("animatables")&&!e.hasOwnProperty("add")},tl:function(e){return f.object(e)&&e.hasOwnProperty("add")&&f.function(e.add)},animeInstance:function(e){return f.anime(e)||f.tl(e)}};var N=function(e,t){return e&&e.getBoundingClientRect()[t]},K=function(e,t){return t==="y"?e.scrollHeight:e.scrollWidth},P=function(e,t){f.string(e)&&(e=parseFloat(e));var n=Math.pow(10,t||0);return Math.round(e*n)/n};var A=function r(e,t){var n=e,a=t;return Object.entries(n).forEach(function(o){var i=mt(o,2),s=i[0],u=i[1];f.object(u)?r(u,a[s]=a[s]||{}):s in a||(a[s]=u)}),a},b=function(e){throw new Error(e)},z=function(e){var t=e.getBoundingClientRect(),n=t.top,a=t.bottom,o=t.right,i=t.left,s=t.height,u=t.width,l=t.x,d=t.y;return{top:n,left:i,height:s,width:u,x:l,y:d,right:o-(o-i-e.clientWidth),bottom:a-(a-n-e.clientHeight)}},J=function(e){var t=e.split(/\s+/).map(function(n){var a=/^(-?\d*\.?\d+)(px|%)$/.exec(n);return{value:parseFloat(a[1]),unit:a[2]}});return t};function X(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function y(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X(Object(t),!0).forEach(function(n){_(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function L(r){return Ot(r)||kt(r)||Tt(r)||Pt()}function Pt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tt(r,e){if(!!r){if(typeof r=="string")return C(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(r,e)}}function kt(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ot(r){if(Array.isArray(r))return C(r)}function C(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Et(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function wt(r,e,t){return e&&Y(r.prototype,e),t&&Y(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}var Z=function(){function r(e){return Et(this,r),this._it=e,this.setUtils(),this}return wt(r,[{key:"setUtils",value:function(){var t=this;this.isVirtical=function(){return t._it.axis==="y"},this.isRootViewport=function(){return!t._it._root},this.getRoot=function(){var n;return(n=t._it._root)!==null&&n!==void 0?n:window},this.dirProps=function(){return t.isVirtical()?{ref:"top",length:"height",refOpposite:"bottom",innerLength:innerHeight}:{ref:"left",length:"width",refOpposite:"right",innerLength:innerWidth}},this.setRootMargin=function(){var n=K(t.isRootViewport()?document.body:t._it._root,t.isVirtical()?"x":"y");return t.isVirtical()?"".concat(t._it._positions.rootLeavePosition.strValue," ").concat(n,"px ").concat(t._it._positions.rootEnterPosition.strValue," ").concat(n,"px"):"".concat(n,"px ").concat(t._it._positions.rootEnterPosition.strValue," ").concat(n,"px ").concat(t._it._positions.rootLeavePosition.strValue)},this.setThreshold=function(){var n=[0,t._it._triggerParams.enter,t._it._triggerParams.leave,P(1-t._it._triggerParams.leave,2),1];return t._it.triggers.forEach(function(a){var o=t.getTriggerData(a),i=o.enter,s=o.leave;n.push(i,s,P(1-s,2))}),L(new Set(n))},this.parseQuery=function(n,a){switch(!0){case f.string(n):return L(document.querySelectorAll(n));case f.array(n):return n;case f.element(n):return[n];default:b("".concat(a," parameter must be a valid selector, an element or array of elements"))}},this.customParseQuery=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger",o=a==="trigger",i=o?[]:{};return o?t.parseQuery(n,"trigger"):(i=f.string(n)?document.querySelector(n):f.element(n)?n:b("root parameter must be a valid selector or an element"),i)},this.validatePosition=function(n,a){return f.function(a)&&(a=a(t._it)),f.string(a)||b("".concat(n," parameter must be a string.")),a},this.setPositionData=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;n=t.validatePosition(o?"enter":"leave",n);var i=n.trim(),s=f.percent(i),u=f.pixel(i),l={};if(i=s?i.replace("%",""):u?i.replace("px",""):i,i=P(i),l.type=s?"percent":"pixel",s&&a)return l.value=i/100,l.strValue="".concat(i,"%"),l;var d=t.dirProps(),m=d.length,h=d.innerLength,c=t._it._root?N(t._it._root,m):h;switch(!0){case(s&&o):l.value=P(i/100-1,2),l.strValue="".concat(l.value*100,"%");break;case(s&&!o):l.value=-i/100,l.strValue="".concat(l.value*100,"%");break;case(u&&o):l.value=P(i-c,2),l.strValue="".concat(l.value,"px");break;case(u&&!o):l.value=-i,l.strValue="".concat(-i,"px");break}return l.guide=n,l},this.parsePositions=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";n=t.validatePosition("enter",n),a=t.validatePosition("leave",a);var o=n.trim().split(/\s+/g,2),i=a.trim().split(/\s+/g,2),s=[].concat(L(o),L(i));return{triggerEnterPosition:t.setPositionData(s[0]),rootEnterPosition:t.setPositionData(s[1],!1),triggerLeavePosition:t.setPositionData(s[2]),rootLeavePosition:t.setPositionData(s[3],!1,!1)}},this.deleteTriggerData=function(n){t._it._triggersData.delete(n)},this.hasTriggerData=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=t._it._triggersData.has(n);return a?o&&a in t.getTriggerData(n):o},this.getTriggerData=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a?t.hasTriggerData(n,a)?t._it._triggersData.get(n)[a]:{}:t.hasTriggerData(n)&&t._it._triggersData.get(n)||{}},this.setTriggerData=function(n,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(o){var i=t.getTriggerData(n);f.object(i)&&t._it._triggersData.set(n,y(y({},i),o));return}t._it._triggersData.set(n,a)},this.getTriggerStates=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=t.getTriggerData(n,"states"),i=o.hasEntered||o.hasEnteredBack;return a?o[a]:y(y({},o),{},{hasEnteredFromOneSide:i})},this.setTriggerStates=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.getTriggerData(n),i=o&&y(y({},o.states),a);t.setTriggerData(n,null,{states:i})},this.setTriggerScrollStates=function(n,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=t.getTriggerStates(n,"onScroll");if(i[a]=o,t.setTriggerStates(n,{onscroll:y({},i)}),o){t._it._states.runningScrollCbs===0&&t._it.addScrollListener(t._it._onScrollHandler),t._it._states.runningScrollCbs++;return}0<t._it._states.runningScrollCbs&&t._it._states.runningScrollCbs--,t._it._states.runningScrollCbs===0&&t._it.removeScrollListener(t._it._onScrollHandler)},this.onTriggerEnter=function(n){var a,o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Enter",s=t.getTriggerStates(n),u=s.hasEnteredOnce,l=t.getTriggerData(n),d=l.onEnter,m=l.onEnterBack,h=l.toggleClass,c=l.animation,v=i==="Enter",p={callback:v?d:m,enterProp:v?"hasEntered":"hasEnteredBack",leaveProp:v?"hasLeftBack":"hasLeft",eventIndex:v?0:2};p.callback(n,t),h&&t._it.toggleClass.toggle(n,h,p.eventIndex),c&&t._it.animation.animate(n,c,p.eventIndex);var g=u?(a={},_(a,p.enterProp,!0),_(a,p.leaveProp,!1),a):(o={},_(o,p.enterProp,!0),_(o,"hasLeft",!1),_(o,"hasLeftBack",!1),o);t.setTriggerStates(n,g),u||t.setTriggerStates(n,{hasEnteredOnce:!0})},this.onTriggerLeave=function(n){var a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Leave",i=t.getTriggerData(n),s=i.once,u=t.getTriggerStates(n),l=u.hasEnteredOnce,d=t.getTriggerData(n),m=d.onLeave,h=d.onLeaveBack,c=d.toggleClass,v=d.animation,p=o==="Leave",g={callback:p?m:h,leaveProp:p?"hasLeft":"hasLeftBack",eventIndex:p?1:3};g.callback(n,t),c&&t._it.toggleClass.toggle(n,c,g.eventIndex),v&&t._it.animation.animate(n,v,g.eventIndex),t.setTriggerStates(n,(a={},_(a,g.leaveProp,!0),_(a,"hasEntered",!1),_(a,"hasEnteredBack",!1),a)),s&&l&&t._it.remove(n)},this.toggleActions=function(n){var a=n.getBoundingClientRect();t._it.rootBounds=t.getRootRect(t._it.observer.rootMargin);var o=t._it.rootBounds,i=t.getTriggerData(n),s=i.enter,u=i.leave,l=t.getTriggerStates(n),d=l.hasEnteredFromOneSide,m=l.hasLeft,h=l.hasLeftBack,c=t.dirProps(),v=c.ref,p=c.refOpposite,g=c.length,O=!0;switch(!0){case(h&&a[v]+s*a[g]<=o[p]&&a[v]+s*a[g]>o[v]):t.onTriggerEnter(n);break;case(d&&a[v]+u*a[g]<=o[v]):t.onTriggerLeave(n);break;case(m&&a[v]+u*a[g]>=o[v]&&a[v]+u*a[g]<o[p]):t.onTriggerEnter(n,"EnterBack");break;case(d&&a[v]+s*a[g]>=o[p]):t.onTriggerLeave(n,"hasLeftBack");break;default:O=!1;break}return O},this.parseRootMargin=function(n){var a=n||"0px",o=J(a);return o[1]=o[1]||o[0],o[2]=o[2]||o[0],o[3]=o[3]||o[1],o},this.expandRectByRootMargin=function(n,a){var o=t.parseRootMargin(a).map(function(s,u){return s.unit=="px"?s.value:s.value*(u%2?n.width:n.height)/100}),i={top:n.top-o[0],right:n.right+o[1],bottom:n.bottom+o[2],left:n.left-o[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},this.getRootRect=function(n){var a;if(t._it._root&&!f.doc(t._it._root))return a=z(t._it._root),t.expandRectByRootMargin(a,n);var o=f.doc(t._it._root)?t._it._root:document,i=o.documentElement,s=o.body;return a={top:0,left:0,right:i.clientWidth||s.clientWidth,width:i.clientWidth||s.clientWidth,bottom:i.clientHeight||s.clientHeight,height:i.clientHeight||s.clientHeight},t.expandRectByRootMargin(a,n)}}}]),r}();function I(r){return Dt(r)||It(r)||tt(r)||Lt()}function Lt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function It(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Dt(r){if(Array.isArray(r))return j(r)}function q(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function R(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q(Object(t),!0).forEach(function(n){D(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xt(r,e){var t=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=tt(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,i=!1,s;return{s:function(){t=t.call(r)},n:function(){var l=t.next();return o=l.done,l},e:function(l){i=!0,s=l},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(i)throw s}}}}function tt(r,e){if(!!r){if(typeof r=="string")return j(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(r,e)}}function j(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function At(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function et(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Ct(r,e,t){return e&&et(r.prototype,e),t&&et(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function D(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var M=[],T=[],rt=0,k=function(){function r(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};At(this,r),D(this,"_rAFCallback",function(n){e.triggers.forEach(function(a){var o=e._utils.getTriggerStates(a,"onScroll");for(var i in o)o[i]&&f.function(o[i])&&o[i](a,n)})}),D(this,"_onScrollHandler",function(){return requestAnimationFrame(e._rAFCallback)}),D(this,"_observerCallback",function(n,a){var o=e._utils.dirProps(),i=o.ref,s=o.refOpposite,u=o.length,l=xt(n),d;try{for(l.s();!(d=l.n()).done;){var m=d.value,h=m.target,c=m.boundingClientRect,v=m.isIntersecting,p=m.intersectionRatio;e.rootBounds=m.rootBounds||e._utils.getRootRect(a.rootMargin);var g=e.rootBounds,O=g[u],H=O/c[u],V=e._utils.getTriggerData(h),w=V.enter,S=V.leave,$=e._utils.getTriggerStates(h),F=$.hasEnteredFromOneSide,nt=$.onScroll.backup,at=c[u]>=O,it=w>H,ot=1-S>H,W=at&&(it||ot),B=!!nt,st=c[i]+w*c[u]<g[s]&&c[i]+w*c[u]>g[i],ut=c[i]+S*c[u]<g[s]&&c[i]+S*c[u]>g[i],lt=c[i]+w*c[u]<g[i],ct=c[i]+S*c[u]>g[s],gt=c[i]+S*c[u]<g[i]&&p<1-S,ft=c[i]<g[i],ht=c[s]<g[i];switch(!0){case e._states.oCbFirstInvoke:switch(!0){case(!v&&ft&&ht):e._utils.onTriggerEnter(h),e._utils.onTriggerLeave(h);break;case v:switch(!0){case(st||ut||lt&&ct):e._utils.onTriggerEnter(h);break;case gt:e._utils.onTriggerEnter(h),e._utils.onTriggerLeave(h);break}W&&e._utils.setTriggerScrollStates(h,"backup",e._utils.toggleActions);break}break;case!v:switch(B&&e._utils.setTriggerScrollStates(h,"backup",null),!0){case(F&&c[s]<g[i]):e._utils.onTriggerLeave(h);break;case(F&&c[i]>g[s]):e._utils.onTriggerLeave(h,"onLeaveBack");break}break;case(v&&!B):e._utils.toggleActions(h),W&&e._utils.setTriggerScrollStates(h,"backup",e._utils.toggleActions);break}}}catch(vt){l.e(vt)}finally{l.f()}e._states.oCbFirstInvoke=!1}),this._userOptions=t,this.triggers=[],this._triggersData=new WeakMap,this._guidesInstance=null,this._utils=new Z(this),this.id=rt,rt++,T.push(this),this.animation=null,this.toggleClass=null,this._setStates(),this._setPlugins(),this._setInstance()}return Ct(r,[{key:"_setPlugins",value:function(){var t=this,n=r.getRegisteredPlugins();n.forEach(function(a){switch(a.name){case"Animation":t.animation=new a(t);break;case"ToggleClass":t.toggleClass=new a(t);break}})}},{key:"_setStates",value:function(){this._states={},this._states.oCbFirstInvoke=!0,this._states.runningScrollCbs=0}},{key:"addScrollListener",value:function(t){this._utils.getRoot().addEventListener("scroll",t,!1)}},{key:"removeScrollListener",value:function(t){this._utils.getRoot().removeEventListener("scroll",t,!1)}},{key:"_createInstance",value:function(){this._threshold=this._utils.setThreshold(),this._observerOptions={root:this._root,rootMargin:this._rootMargin,threshold:this._threshold},this.observer=new IntersectionObserver(this._observerCallback,this._observerOptions),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin),this._isRootViewport=this._utils.isRootViewport()}},{key:"_setInstance",value:function(){this._defaultOptions=U,this._options=A(this._defaultOptions,this._userOptions),this.axis=f.string(this._options.axis)?this._options.axis:b("axis parameter must be a string."),this.name=f.string(this._options.name)?this._options.name:b("name parameter must be a string."),this._root=!!this._options.root&&this._utils.customParseQuery(this._options.root,"root")||null,this._positions=this._utils.parsePositions(this._options.enter,this._options.leave),this.customScrollHandler=this._options.onScroll;var t=this._options.defaults,n=t.once,a=t.onEnter,o=t.onLeave,i=t.onEnterBack,s=t.onLeaveBack,u=t.toggleClass,l=t.animation;return this._triggerParams={enter:this._positions.triggerEnterPosition.value,leave:this._positions.triggerLeavePosition.value,once:n,onEnter:a,onLeave:o,onEnterBack:i,onLeaveBack:s,toggleClass:u,animation:l},this._rootMargin=this._utils.setRootMargin(),this._createInstance(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),this}},{key:"add",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this._utils.customParseQuery(n);"enter"in a&&(a.enter=this._utils.setPositionData(a.enter).value),"leave"in a&&(a.leave=this._utils.setPositionData(a.leave).value);var i=R(R({},A(this._triggerParams,a)),{},{states:R({},G)});i.toggleClass&&(i.toggleClass=this.toggleClass.parse(i.toggleClass)),i.animation&&(i.animation=this.animation.parse(i.animation)),this.triggers=I(new Set([].concat(I(this.triggers),I(o))));var s=!1;return[a.enter,a.leave].forEach(function(u){return!t._threshold.some(function(l){return u===l})&&(s=!0)}),s?(this._disconnect(),o.forEach(function(u){return t._utils.setTriggerData(u,i)}),this._createInstance(),this.triggers.forEach(function(u){return t.observer.observe(u)})):o.forEach(function(u){t._utils.setTriggerData(u,i),t.observer.observe(u)}),this._guidesInstance&&this._guidesInstance.refresh(),this}},{key:"remove",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=this._utils.customParseQuery(n);a.forEach(function(i){t._utils.deleteTriggerData(i),t.observer.unobserve(i)});var o=this.triggers.filter(function(i){var s=a.some(function(u){return i===u});return!s});return this.triggers=o,this._guidesInstance&&this._guidesInstance.refresh(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}},{key:"kill",value:function(){this._disconnect(),this.removeScrollListener(this.customScrollHandler),this.triggers=[],this.removeGuides(),this.animation&&this.animation.kill(),this.toggleClasss&&this.toggleClasss.kill();var t=T.indexOf(this);~t&&T.splice(t,1)}},{key:"addGuides",value:function(t){return f.inObject(t,"_registerIntersectionTrigger")||b("Invalid Guides Instance."),t._registerIntersectionTrigger(this),t.refresh(),this._guidesInstance=t,this}},{key:"removeGuides",value:function(){return this._guidesInstance&&this._guidesInstance.kill(),this._guidesInstance=null,this}},{key:"update",value:function(){this._guidesInstance&&this._guidesInstance.refresh()}}]),r}();k.getInstances=function(){return T};k.getInstanceById=function(r){return T.find(function(e){return e.id===r})};k.update=function(){return T.forEach(function(r){return r.update()})};k.registerPlugins=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.push.apply(M,I(r))};k.getRegisteredPlugins=function(){return M};return Rt;})();
