/*
* IntersectionTrigger v1.0.0
* https://sunshine-themes.com/intersectionTrigger
*
* @license Copyright 2022, Sunshine. All rights reserved.
* Subject to the terms at https://sunshine-themes.com/intersectionTrigger/standard-licensew.
* @author: Sherif magdy, sherifmagdy@sunshine-themes.com
*/
                  
var intersectiontrigger=(function(){var ce=Object.defineProperty;var he=function(r,i){for(var e in i)ce(r,e,{get:i[e],enumerable:!0})};var Ie={};he(Ie,{default:function(){return X}});var M={defaults:{once:!1,onEnter:null,onLeave:null,onEnterBack:null,onLeaveBack:null},enter:"0% 100%",leave:"100% 0%",axis:"y",name:"",root:null,onScroll:null},C={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasFirstEntered:!1,onScroll:null};function fe(r,i){return _e(r)||ve(r,i)||pe(r,i)||ge()}function ge(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pe(r,i){if(!!r){if(typeof r=="string")return B(r,i);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return B(r,i)}}function B(r,i){(i==null||i>r.length)&&(i=r.length);for(var e=0,t=new Array(i);e<i;e++)t[e]=r[e];return t}function ve(r,i){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var t=[],n=!0,s=!1,a,o;try{for(e=e.call(r);!(n=(a=e.next()).done)&&(t.push(a.value),!(i&&t.length===i));n=!0);}catch(l){s=!0,o=l}finally{try{!n&&e.return!=null&&e.return()}finally{if(s)throw o}}return t}}function _e(r){if(Array.isArray(r))return r}function x(r){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},x(r)}function de(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function W(r,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function be(r,i,e){return i&&W(r.prototype,i),e&&W(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var U=function(){function r(i){return de(this,r),this._it=i,this.setHelpers(),this}return be(r,[{key:"setHelpers",value:function(){var e=this;this.is={function:function(n){return typeof n=="function"},string:function(n){return typeof n=="string"},boolean:function(n){return typeof n=="boolean"},object:function(n){return n&&x(n)==="object"&&!(n instanceof Array)},inObject:function(n,s){return e.is.object(n)&&s in n},percent:function(n){return n&&n.includes("%")},pixel:function(n){return n&&n.includes("px")},array:function(n){return n instanceof Array},element:function(n){return n instanceof HTMLElement||n instanceof Element},rootViewport:function(n){return!n},doc:function(n){return n&&n.nodeType===9},scrollable:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s?s==="y"?n.scrollHeight>n.clientHeight:n.scrollWidth>n.clientWidth:n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth},virtical:function(){return e._it.axis==="y"},horizontal:function(){return e._it.axis==="x"}},this.getBoundsProp=function(t,n){return t&&t.getBoundingClientRect()[n]},this.getRoot=function(){return e._it._root?e._it._root:window},this.getScrollValue=function(t,n){return n==="y"?t.scrollHeight:t.scrollWidth},this.dirProps=function(){return e.is.virtical()?{ref:"top",length:"height",refOpposite:"bottom",innerLength:innerHeight}:{ref:"left",length:"width",refOpposite:"right",innerLength:innerWidth}},this.roundFloat=function(t,n){e.is.string(t)&&(t=parseFloat(t));var s=Math.pow(10,n||0);return Math.round(t*s)/s},this.getParents=function(t){var n=[];for(t=t.parentNode;t&&t!==document&&t!==document.documentElement;t=t.parentNode)n.push(t);return n},this.mergeOptions=function(t,n){var s=t,a=n;return Object.entries(s).forEach(function(o){var l=fe(o,2),u=l[0],g=l[1];e.is.object(g)?e.mergeOptions(g,a[u]=a[u]||{}):u in a||(a[u]=g)}),a},this.throwError=function(t){throw new Error(t)},this.boundsMinusScrollbar=function(t){var n=t.getBoundingClientRect(),s=n.top,a=n.bottom,o=n.right,l=n.left,u=n.height,g=n.width,f=n.x,h=n.y;return{top:s,left:l,height:u,width:g,x:f,y:h,right:o-(o-l-t.clientWidth),bottom:a-(a-s-t.clientHeight)}}}}]),r}();function $(r,i){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);i&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,t)}return e}function P(r){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?$(Object(e),!0).forEach(function(t){y(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):$(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function y(r,i,e){return i in r?Object.defineProperty(r,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[i]=e,r}function E(r){return Pe(r)||Se(r)||ye(r)||me()}function me(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ye(r,i){if(!!r){if(typeof r=="string")return D(r,i);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return D(r,i)}}function Se(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Pe(r){if(Array.isArray(r))return D(r)}function D(r,i){(i==null||i>r.length)&&(i=r.length);for(var e=0,t=new Array(i);e<i;e++)t[e]=r[e];return t}function Ee(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function V(r,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function ke(r,i,e){return i&&V(r.prototype,i),e&&V(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var G=function(){function r(i){return Ee(this,r),this._it=i,this._helpers=this._it._helpers,this.setUtils(),this}return ke(r,[{key:"setUtils",value:function(){var e=this;this.setRootMargin=function(){var t=e._helpers.getScrollValue(e._helpers.is.rootViewport(e._it._root)?document.body:e._it._root,e._helpers.is.virtical()?"x":"y");return e._helpers.is.virtical()?"".concat(e._it._positions.rootEndPosition.strValue," ").concat(t,"px ").concat(e._it._positions.rootStartPosition.strValue," ").concat(t,"px"):"".concat(t,"px ").concat(e._it._positions.rootStartPosition.strValue," ").concat(t,"px ").concat(e._it._positions.rootEndPosition.strValue)},this.setThreshold=function(){var t=[0,e._it._triggerParams.enter,e._it._triggerParams.leave,e._helpers.roundFloat(1-e._it._triggerParams.leave,2),1];return e._it.triggers.forEach(function(n){var s=e.getTriggerData(n),a=s.enter,o=s.leave;t.push(a,o,e._helpers.roundFloat(1-o,2))}),E(new Set(t))},this.parseQuery=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger",s=n==="trigger",a=s?[]:{};if(!s)return a=e._helpers.is.string(t)?document.querySelector(t):e._helpers.is.element(t)?t:e._helpers.throwError("root parameter must be a valid selector or an element"),a;switch(!0){case e._helpers.is.string(t):a=E(document.querySelectorAll(t));break;case e._helpers.is.array(t):a=t;break;case e._helpers.is.element(t):a=[t];break;default:e._helpers.throwError("trigger parameter must be a valid selector, an element or array of elements");break}return a},this.validatePosition=function(t,n){return e._helpers.is.function(n)&&(n=n(e)),e._helpers.is.string(n)||e._helpers.throwError("".concat(t," parameter must be a string.")),n},this.setPositionData=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=e.validatePosition(s?"enter":"leave",t);var a=t.trim(),o=e._helpers.is.percent(a),l=e._helpers.is.pixel(a),u={};if(a=o?a.replace("%",""):l?a.replace("px",""):a,a=e._helpers.roundFloat(a),u.type=o?"percent":"pixel",o&&n)return u.value=a/100,u.strValue="".concat(a,"%"),u;var g=e._helpers.dirProps(),f=g.length,h=g.innerLength,c=e._it._root?e._helpers.getBoundsProp(e._it._root,f):h;switch(!0){case(o&&s):u.value=e._helpers.roundFloat(a/100-1,2),u.strValue="".concat(u.value*100,"%");break;case(o&&!s):u.value=-a/100,u.strValue="".concat(u.value*100,"%");break;case(l&&s):u.value=e._helpers.roundFloat(a-c,2),u.strValue="".concat(u.value,"px");break;case(l&&!s):u.value=-a,u.strValue="".concat(-a,"px");break}return u.guide=t,u},this.parsePositions=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";t=e.validatePosition("enter",t),n=e.validatePosition("leave",n);var s={},a={},o={},l={},u=t.trim().split(/\s+/g,2),g=n.trim().split(/\s+/g,2),f=[].concat(E(u),E(g));f.forEach(function(c,d){switch(d){case 0:s=e.setPositionData(c);break;case 1:o=e.setPositionData(c,!1);break;case 2:a=e.setPositionData(c);break;case 3:l=e.setPositionData(c,!1,!1);break}});var h={triggerLeavePosition:a,triggerEnterPosition:s,rootEndPosition:l,rootStartPosition:o};return h},this.deleteTriggerData=function(t){e._it._triggersData.delete(t)},this.hasTriggerData=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=e._it._triggersData.has(t);return n?s&&n in e.getTriggerData(t):s},this.getTriggerData=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return n?e.hasTriggerData(t,n)?e._it._triggersData.get(t)[n]:{}:e.hasTriggerData(t)&&e._it._triggersData.get(t)||{}},this.setTriggerData=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(s){var a=e.getTriggerData(t);e._helpers.is.object(a)&&e._it._triggersData.set(t,P(P({},a),s));return}e._it._triggersData.set(t,n)},this.getTriggerStates=function(t){var n=e.getTriggerData(t,"states"),s=n.hasEntered||n.hasEnteredBack;return P(P({},n),{},{hasEnteredFromOneSide:s})},this.setTriggerStates=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.getTriggerData(t),a=s&&P(P({},s.states),n);e.setTriggerData(t,null,{states:a})},this.onTriggerEnter=function(t,n){var s,a,o=e.getTriggerStates(t),l=o.hasFirstEntered;e._helpers.is.function(n.enterFun)&&n.enterFun(t,e);var u=l?(s={},y(s,n.enterProp,!0),y(s,n.leaveProp,!1),s):(a={},y(a,n.enterProp,!0),y(a,"hasLeft",!1),y(a,"hasLeftBack",!1),a);e.setTriggerStates(t,u),l||e.setTriggerStates(t,{hasFirstEntered:!0})},this.onTriggerLeave=function(t,n){var s,a=e.getTriggerData(t),o=a.once,l=e.getTriggerStates(t),u=l.hasFirstEntered;e._helpers.is.function(n.leaveFun)&&n.leaveFun(t,e),e.setTriggerStates(t,(s={},y(s,n.leaveProp,!0),y(s,"hasEntered",!1),y(s,"hasEnteredBack",!1),s)),o&&u&&e._it.remove(t)},this.toggleActions=function(t){var n=t.getBoundingClientRect();e._it.rootBounds=e.getRootRect(e._it.observer.rootMargin);var s=e._it.rootBounds,a=e.getTriggerData(t),o=a.enter,l=a.leave,u=a.onEnter,g=a.onEnterBack,f=a.onLeave,h=a.onLeaveBack,c=e.getTriggerStates(t),d=c.hasEnteredFromOneSide,O=c.hasLeft,p=c.hasLeftBack,S=e._helpers.dirProps(),v=S.ref,b=S.refOpposite,_=S.length,m=!0;switch(!0){case(p&&n[v]+o*n[_]<=s[b]&&n[v]+o*n[_]>s[v]):e.onTriggerEnter(t,{enterFun:u,enterProp:"hasEntered",leaveProp:"hasLeftBack"});break;case(d&&n[v]+l*n[_]<=s[v]):e.onTriggerLeave(t,{leaveFun:f,leaveProp:"hasLeft"});break;case(O&&n[v]+l*n[_]>=s[v]&&n[v]+l*n[_]<s[b]):e.onTriggerEnter(t,{enterFun:g,enterProp:"hasEnteredBack",leaveProp:"hasLeft"});break;case(d&&n[v]+o*n[_]>=s[b]):e.onTriggerLeave(t,{leaveFun:h,leaveProp:"hasLeftBack"});break;default:m=!1;break}return m},this.validateOptions=function(t){for(var n in t){var s=t[n],a=function(g,f){switch(g){case"once":!e._helpers.is.boolean(f)&&e._helpers.throwError("once parameter must be a boolean.");break;case"axis":case"name":!e._helpers.is.string(f)&&e._helpers.throwError("axis and name parameters must be strings.");break;case"guides":!e._helpers.is.boolean(f)&&!e._helpers.is.object(f)&&e._helpers.throwError("guides parameter must be a boolean or object.");break;case"onEnter":case"onEnterBack":case"onLeave":case"onLeaveBack":case"onScroll":!e._helpers.is.function(f)&&e._helpers.throwError("onEnter, onLeave, onEnterBack, onLeaveBack and onScroll parameters must be functions.");break}};if(!e._helpers.is.object(s)){a(n,s);continue}for(var o in s){var l=s[o];a(o,l)}}},this.parseString=function(t){var n=t.split(/\s+/).map(function(s){var a=/^(-?\d*\.?\d+)(px|%)$/.exec(s);return{value:parseFloat(a[1]),unit:a[2]}});return n},this.parseRootMargin=function(t){var n=t||"0px",s=e.parseString(n);return s[1]=s[1]||s[0],s[2]=s[2]||s[0],s[3]=s[3]||s[1],s},this.expandRectByRootMargin=function(t,n){var s=e.parseRootMargin(n).map(function(o,l){return o.unit=="px"?o.value:o.value*(l%2?t.width:t.height)/100}),a={top:t.top-s[0],right:t.right+s[1],bottom:t.bottom+s[2],left:t.left-s[3]};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},this.getRootRect=function(t){var n;if(e._it._root&&!e._helpers.is.doc(e._it._root))return n=e._helpers.boundsMinusScrollbar(e._it._root),e.expandRectByRootMargin(n,t);var s=e._helpers.is.doc(e._it._root)?e._it._root:document,a=s.documentElement,o=s.body;return n={top:0,left:0,right:a.clientWidth||o.clientWidth,width:a.clientWidth||o.clientWidth,bottom:a.clientHeight||o.clientHeight,height:a.clientHeight||o.clientHeight},e.expandRectByRootMargin(n,t)}}}]),r}();function I(r){return Te(r)||Oe(r)||z(r)||we()}function we(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oe(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Te(r){if(Array.isArray(r))return A(r)}function Q(r,i){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);i&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,t)}return e}function k(r){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?Q(Object(e),!0).forEach(function(t){J(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Q(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function Le(r,i){var e=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=z(r))||i&&r&&typeof r.length=="number"){e&&(r=e);var t=0,n=function(){};return{s:n,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(u){throw u},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=!0,a=!1,o;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function z(r,i){if(!!r){if(typeof r=="string")return A(r,i);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return A(r,i)}}function A(r,i){(i==null||i>r.length)&&(i=r.length);for(var e=0,t=new Array(i);e<i;e++)t[e]=r[e];return t}function xe(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function K(r,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function De(r,i,e){return i&&K(r.prototype,i),e&&K(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function J(r,i,e){return i in r?Object.defineProperty(r,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[i]=e,r}var w=[],N=0,X=function(){function r(){var i=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xe(this,r),J(this,"_observerCallback",function(t,n){var s=i._helpers.dirProps(),a=s.ref,o=s.refOpposite,l=s.length,u=Le(t),g;try{for(u.s();!(g=u.n()).done;){var f=g.value,h=f.target,c=f.boundingClientRect,d=f.isIntersecting,O=f.intersectionRatio;i.rootBounds=f.rootBounds||i._utils.getRootRect(n.rootMargin);var p=i.rootBounds,S=p[l],v=S/c[l],b=i._utils.getTriggerData(h),_=b.enter,m=b.leave,T=b.onEnter,L=b.onLeave,Y=b.onLeaveBack,j=i._utils.getTriggerStates(h),F=j.hasEnteredFromOneSide,Z=j.onScroll,q=c[l]>=S,ee=_>v,te=1-m>v,R=q&&(ee||te),H=!!Z,re=c[a]+_*c[l]<p[o]&&c[a]+_*c[l]>p[a],ne=c[a]+m*c[l]<p[o]&&c[a]+m*c[l]>p[a],ie=c[a]+_*c[l]<p[a],ae=c[a]+m*c[l]>p[o],se=c[a]+m*c[l]<p[a]&&O<1-m,oe=c[a]<p[a],le=c[o]<p[a];switch(!0){case!i._states.hasInit:switch(!0){case(!d&&oe&&le):i._utils.onTriggerEnter(h,{enterFun:T,enterProp:"hasEntered",leaveProp:"hasLeftBack"}),i._utils.onTriggerLeave(h,{leaveFun:L,leaveProp:"hasLeft"});break;case d:switch(!0){case(re||ne||ie&&ae):i._utils.onTriggerEnter(h,{enterFun:T,enterProp:"hasEntered",leaveProp:"hasLeftBack"});break;case se:i._utils.onTriggerEnter(h,{enterFun:T,enterProp:"hasEntered",leaveProp:"hasLeftBack"}),i._utils.onTriggerLeave(h,{leaveFun:L,leaveProp:"hasLeft"});break}R&&i._utils.setTriggerStates(h,{onScroll:i._utils.toggleActions});break}break;case!d:switch(H&&i._utils.setTriggerStates(h,{onScroll:null}),!0){case(F&&c[o]<p[a]):i._utils.onTriggerLeave(h,{leaveFun:L,leaveProp:"hasLeft"});break;case(F&&c[a]>p[o]):i._utils.onTriggerLeave(h,{leaveFun:Y,leaveProp:"hasLeftBack"});break}break;case(d&&!H):i._utils.toggleActions(h),R&&i._utils.setTriggerStates(h,{onScroll:i._utils.toggleActions});break}}}catch(ue){u.e(ue)}finally{u.f()}i._states.hasInit=!0}),this._userOptions=e,this.triggers=[],this._triggersData=new WeakMap,this._guidesInstance=null,this._helpers=new U(this),this._utils=new G(this),this.id=N,N++,w.push(this),this._setStates(),this._setInstance()}return De(r,[{key:"_setStates",value:function(){this._states={},this._states.hasInit=!1}},{key:"_addScrollListener",value:function(){var e=this,t=this._helpers.getRoot();!!this._onScrollHandler&&t.removeEventListener("scroll",this._onScrollHandler,!1),this._onScrollHandler=function(n){e.triggers.forEach(function(s){var a,o=(a=e._utils.getTriggerStates(s))===null||a===void 0?void 0:a.onScroll;e._helpers.is.function(o)&&o(s)}),e._helpers.is.function(e.onScroll)&&e.onScroll(n,e)},t.addEventListener("scroll",this._onScrollHandler,!1)}},{key:"_createInstance",value:function(){this._threshold=this._utils.setThreshold(),this._observerOptions={root:this._root,rootMargin:this._rootMargin,threshold:this._threshold},this.observer=new IntersectionObserver(this._observerCallback,this._observerOptions),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin),this._isRootViewport=this._helpers.is.rootViewport(this._root),this._addScrollListener()}},{key:"_setInstance",value:function(){return this._defaultOptions=M,this._utils.validateOptions(this._userOptions),this._options=this._helpers.mergeOptions(this._defaultOptions,this._userOptions),this.axis=this._helpers.is.string(this._options.axis)?this._options.axis:this._helpers.throwError("axis parameter must be a string."),this.name=this._helpers.is.string(this._options.name)?this._options.name:this._helpers.throwError("name parameter must be a string."),this._root=!!this._options.root&&this._utils.parseQuery(this._options.root,"root")||null,this._positions=this._utils.parsePositions(this._options.enter,this._options.leave),this.onScroll=this._options.onScroll,this._triggerParams={once:this._options.defaults.once,enter:this._positions.triggerEnterPosition.value,leave:this._positions.triggerLeavePosition.value,onEnter:this._options.defaults.onEnter,onLeave:this._options.defaults.onLeave,onEnterBack:this._options.defaults.onEnterBack,onLeaveBack:this._options.defaults.onLeaveBack},this._rootMargin=this._utils.setRootMargin(),this._createInstance(),this}},{key:"add",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this._utils.parseQuery(t);this._utils.validateOptions(n),"enter"in n&&(n.enter=this._utils.setPositionData(n.enter).value),"leave"in n&&(n.leave=this._utils.setPositionData(n.leave).value);var a=k(k(k({},this._triggerParams),n),{},{states:k({},C)});this.triggers=[].concat(I(this.triggers),I(s)),this.triggers=I(new Set(this.triggers));var o=!1;return[n.enter,n.leave].forEach(function(l){return!e._threshold.some(function(u){return l===u})&&(o=!0)}),o?(this._disconnect(),s.forEach(function(l){return e._utils.setTriggerData(l,a)}),this._createInstance(),this.triggers.forEach(function(l){return e.observer.observe(l)})):s.forEach(function(l){e._utils.setTriggerData(l,a),e.observer.observe(l)}),this._guidesInstance&&this._guidesInstance.refresh(),this}},{key:"remove",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this._utils.parseQuery(t);n.forEach(function(a){e._utils.deleteTriggerData(a),e.observer.unobserve(a)});var s=this.triggers.filter(function(a){var o=n.some(function(l){return a===l});return!o});return this.triggers=s,this._guidesInstance&&this._guidesInstance.refresh(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}},{key:"kill",value:function(){this._disconnect(),removeEventListener("scroll",this._onScrollHandler,!1),this.triggers=[],this.removeGuides();var e=w.indexOf(this);~e&&w.splice(e,1)}},{key:"addGuides",value:function(e){return this._helpers.is.inObject(e,"_registerIntersectionTrigger")||this._helpers.throwError("Invalid Guides Instance."),e._registerIntersectionTrigger(this),e.refresh(),this._guidesInstance=e,this}},{key:"removeGuides",value:function(){return this._guidesInstance&&this._guidesInstance.kill(),this._guidesInstance=null,this}}]),r}();X.instances=w;return Ie;})();
