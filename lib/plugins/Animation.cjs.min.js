/*
* Animation v1.0.0
* https://sunshine-themes.com/intersectionTrigger
*
* @license Copyright 2022, Sunshine. All rights reserved.
* Subject to the terms at https://sunshine-themes.com/intersectionTrigger/standard-licensew.
* @author: Sherif magdy, sherifmagdy@sunshine-themes.com
*/
                  
var R=Object.defineProperty;var K=t=>R(t,"__esModule",{value:!0});var Q=(t,s)=>{for(var o in s)R(t,o,{get:s[o],enumerable:!0})};K(exports);Q(exports,{default:()=>q});var U=["play","finish","reverse","finish"],W={to:null,after:1,speed:600,maxDistance:500};var O={instance:null,toggleActions:U,control:!1,snap:!1};var n={function:t=>typeof t=="function",string:t=>typeof t=="string",boolean:t=>typeof t=="boolean",object:t=>t&&typeof t=="object"&&!(t instanceof Array),inObject:(t,s)=>n.object(t)&&s in t,num:t=>typeof t=="number",percent:t=>t&&t.includes("%"),pixel:t=>t&&t.includes("px"),array:t=>t instanceof Array,element:t=>t instanceof HTMLElement||t instanceof Element,doc:t=>t&&t.nodeType===9,scrollable:(t,s=null)=>s?s==="y"?t.scrollHeight>t.clientHeight:t.scrollWidth>t.clientWidth:t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth,anime:t=>n.object(t)&&t.hasOwnProperty("animatables")&&!t.hasOwnProperty("add"),tl:t=>n.object(t)&&t.hasOwnProperty("add")&&n.function(t.add),animeInstance:t=>n.anime(t)||n.tl(t)},F=(t,s,o)=>Math.min(Math.max(t,s),o),N=t=>t.split(/\s+/);var k=(t,s)=>{let o=t,r=s;return Object.entries(o).forEach(([e,l])=>{n.object(l)?k(l,r[e]=r[e]||{}):e in r||(r[e]=l)}),r},V=t=>{throw new Error(t)};var q=class{constructor(s){return this._registerIntersectionTrigger(s),this}_registerIntersectionTrigger(s){this._it=s,this._utils=this._it._utils}animate(s,o,r){let{instance:e,toggleActions:l,control:i,snap:u}=o;if(!e)return;if(i){let{animate:T}=this._utils.getTriggerStates(s,"onScroll"),c=this._utils.getTriggerStates(s,"ids"),{enter:a,leave:g}=this._utils.getTriggerData(s),{ref:d,refOpposite:v,length:h}=this._utils.dirProps(),$=this._utils.isVirtical(),x=s.getBoundingClientRect(),z=x[h]-(a*x[h]+(1-g)*x[h]),M=this._utils.getRoot(),j=e.duration,A=B=>{let I=B.getBoundingClientRect(),C=this._utils.getTriggerStates(B,"ids");this._it.rootBounds=this._utils.getRootRect(this._it.observer.rootMargin);let D=this._it.rootBounds,L=z+D[h],_=0,H=D[v]-(I[d]+a*I[h]);if(H>0&&(_=j*H/L,n.num(i)?setTimeout(()=>e.seek(_),i*1e3):e.seek(_)),u){let y=Math.round(Math.max(u.speed*17/1e3,1)),w=0,E=(f,m=!1)=>{let b=m?-1:1;if($?M.scrollBy({top:y*b,behavior:"instant"}):M.scrollBy({left:y*b,behavior:"instant"}),w+=y,w>=f){w=0;return}requestAnimationFrame(()=>E(f,m))};clearTimeout(C.snapTimeOutId);let G=setTimeout(()=>{let f=u.to.map(P=>_-P),m=f.map(P=>Math.abs(P)),b=Math.min(...m),J=f[m.indexOf(b)],S=L*b/j;if(!(S>=u.maxDistance||S<y)){if(J<0){E(S);return}E(S,!0)}},u.after*1e3);this._utils.setTriggerStates(B,{ids:{...C,snapTimeOutId:G}})}};switch(r){case 0:case 2:if(this._it._states.oCbFirstInvoke&&A(s),T)break;this._utils.setTriggerScrollStates(s,"animate",A);break;case 1:case 3:clearTimeout(c.snapTimeOutId),this._utils.setTriggerScrollStates(s,"animate",null);break}return}let p=l[r];if(p!=="none")switch(p){case"play":e.reversed&&e.reverse(),1>e.progress&&e[p]();break;case"restart":case"reset":e.reversed&&e.reverse(),e[p]();break;case"pause":break;case"finish":e.pause(),e.seek(e.reversed?0:e.duration);break;case"reverse":if(e.reversed)break;e[p](),e.paused&&e.play();break;case"kill":n.inObject(e,"kill")&&e.kill(),this._utils.setTriggerData(s,null,{animation:{...O}});break}}parse(s){let o={};switch(!0){case n.animeInstance(s):o=k(O,{instance:s});break;case n.object(s):{let r=k(O,s),{instance:e,toggleActions:l,snap:i}=r;n.animeInstance(e)||V("Invalid anime instance");let u=a=>{let g=[],d=a;for(;d<1;)g.push(F(d,0,1)),d=d+a;return g.map(v=>Math.round(v*e.duration))},p=a=>{if(n.num(a))return u(a);if(n.string(a))return T(a);if(n.array(a))return a},T=()=>n.inObject(e,"marks")?e.marks.map(d=>d.time):void 0,c={};switch(!0){case(n.boolean(i)&&i):c.to=T(i);break;case n.array(i):c.to=i;break;case n.num(i):c.to=u(i);break;case n.object(i):c=i,c.to=p(c.to);break}r.snap=k(W,c),n.string(l)&&(r.toggleActions=N(l)),o=r}break}return n.inObject(o,"instance")&&o.instance.reset(),o}kill(){this._it=null,this._utils=null}};
