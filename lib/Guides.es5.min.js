/*
* Guides v1.0.0
* https://sunshine-themes.com/intersectionTrigger
*
* @license Copyright 2022, Sunshine. All rights reserved.
* Subject to the terms at https://sunshine-themes.com/intersectionTrigger/standard-licensew.
* @author: Sherif magdy, sherifmagdy@sunshine-themes.com
*/
                  
var guides=(function(){var O=Object.defineProperty;var M=function(t,r){for(var e in r)O(t,e,{get:r[e],enumerable:!0})};var X={};M(X,{default:function(){return U}});var R={enter:{trigger:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Enter"},root:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Root Enter"}},leave:{trigger:{backgroundColor:"#ff0000",color:"#000",text:"Leave"},root:{backgroundColor:"#ff0000",color:"#000",text:"Root Leave"}}};function D(t){return W(t)||j(t)||V(t)||F()}function F(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(t,r){if(!!t){if(typeof t=="string")return E(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return E(t,r)}}function j(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W(t){if(Array.isArray(t))return E(t)}function E(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,i=new Array(r);e<r;e++)i[e]=t[e];return i}function $(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function w(t,r){for(var e=0;e<r.length;e++){var i=r[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function N(t,r,e){return r&&w(t.prototype,r),e&&w(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var U=function(){function t(){var r=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return $(this,t),G(this,"removeGuides",function(){r._guides.forEach(function(i){return i&&i.remove()}),r._guides=[]}),G(this,"refresh",function(){r.removeGuides(),r.createGuides()}),G(this,"kill",function(){r.removeGuides(),r._it=null,r._helpers=null,r._utils=null,removeEventListener("resize",r._onResizeHandler,!1)}),this.params=e,this._guides=[],this}return N(t,[{key:"_registerIntersectionTrigger",value:function(e){this._it=e,this._helpers=this._it._helpers,this._utils=this._it._utils,this._addResizeListener()}},{key:"_addResizeListener",value:function(){var e=this;!!this._onResizeHandler&&removeEventListener("resize",this._onResizeHandler,!1),this._onResizeHandler=function(){e.refresh()},addEventListener("resize",this._onResizeHandler,!1)}},{key:"createGuides",value:function(){var e=this,i=this._helpers.is.virtical(),p=function(l){var g=l.triggerGuide,_=l.trigger,b=l.enter,x=l.position,z=l.text,A=l.color,P=l.backgroundColor,n=function(c,a,o){return c.style[a]=o},s=document.createElement("div"),S=i?"100px":"1px",L=i?"1px":"100px",I=i?"top":"left";n(s,"width",S),n(s,"height",L),n(s,"position","absolute"),n(s,"zIndex","9999"),n(s,"backgroundColor",P),n(s,I,x);var B=function(){var c={dir:i?b?"bottom":"top":"bottom",value:i?"5px":"25px"},a={dir:i||b?"right":"left",value:i?g||e._it._root?"0px":"25px":"5px"},o=document.createElement("span");o.innerText=z,s.appendChild(o),n(o,"position","absolute"),n(o,"color",A),n(o,"fontSize","16px"),n(o,"fontWeight","bold"),n(o,"backgroundColor",P),n(o,"padding","5px"),n(o,"width","max-content"),n(o,c.dir,c.value),n(o,a.dir,a.value)};B(),e._guides.push(s),document.body.append(s);var H=function(c,a){var o=D(s.style.transform.matchAll(/(-?\d*\.?\d+)\s*(px|%)?/g)),f=o.length?o[0][1]:0,k=o.length>1?o[1][1]:0,C=parseFloat(c)+parseFloat(f),m=parseFloat(a)+parseFloat(k);n(s,"transform","translate(".concat(C,"px,").concat(m,"px)"))},y=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=s.getBoundingClientRect(),o=c?e._helpers.boundsMinusScrollbar(_):e._utils.getRootRect(e._it.observer.rootMargin),f=e._it._root?e._helpers.boundsMinusScrollbar(e._it._root):e._helpers.boundsMinusScrollbar(document.body),k=i?{x:o.right-a.right,y:o.top+x*o.height-a.top}:{x:o.left+x*o.width-a.left,y:o.top-a.top},C=i?b?{x:f.right-a.left,y:o.bottom-a.bottom}:{x:f.right-a.left,y:o.top-a.top}:b?{x:o.right-a.right,y:f.bottom-a.top}:{x:o.left-a.left,y:f.bottom-a.top},m=c?k:C;H(m.x,m.y)};if(!g){n(s,i?"width":"height",e._it._isRootViewport?i?"100vw":"100vh":"100px"),n(s,"position",e._it._isRootViewport?"fixed":"absolute"),e._it._isRootViewport&&!i&&n(s,"top","0px"),e._it._isRootViewport||y(!1);return}y(),e._helpers.getParents(_).forEach(function(d){!e._helpers.is.scrollable(d)||d.addEventListener("scroll",function(c){return y()},!1)})},T=function(l){var g=R;return e._helpers.is.object(l)&&(g=e._helpers.mergeOptions(g,l)),g},u=T(this.params),v=this._it.name;p({triggerGuide:!1,enter:!0,position:this._it._positions.rootStartPosition.guide,text:"".concat(v," ").concat(u.enter.root.text),color:u.enter.root.color,backgroundColor:u.enter.root.backgroundColor}),p({triggerGuide:!1,enter:!1,position:this._it._positions.rootEndPosition.guide,text:"".concat(v," ").concat(u.leave.root.text),color:u.leave.root.color,backgroundColor:u.leave.root.backgroundColor}),this._it.triggers.forEach(function(h){var l=e._utils.getTriggerData(h),g=l.enter,_=l.leave;p({triggerGuide:!0,trigger:h,enter:!0,position:g,text:"".concat(v," ").concat(u.enter.trigger.text),color:u.enter.trigger.color,backgroundColor:u.enter.trigger.backgroundColor}),p({triggerGuide:!0,trigger:h,enter:!1,position:_,text:"".concat(v," ").concat(u.leave.trigger.text),color:u.leave.trigger.color,backgroundColor:u.leave.trigger.backgroundColor})})}}]),t}();return X;})();
