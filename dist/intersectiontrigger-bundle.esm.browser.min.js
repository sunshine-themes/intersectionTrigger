/*
* IntersectionTrigger v1.0.4 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2023, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: February 8, 2023
*/

var j=function(){},mt={to:0,after:1,speed:100,maxDistance:500,onStart:j,onComplete:j},yt={defaults:{enter:"0%",leave:"100%",once:!1,onEnter:j,onLeave:j,onEnterBack:j,onLeaveBack:j,toggleClass:void 0,animation:void 0},rootEnter:"100%",rootLeave:"0%",axis:"y",name:"",root:null,guides:!1,onScroll:j},et={targets:[],toggleActions:"add remove add remove",classNames:""},rt={instance:{},toggleActions:"play complete reverse complete",link:!1,snap:!1},bt={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:void 0,animate:void 0},ids:{snapTimeOutId:0}},_t={enter:{trigger:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Enter"},root:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Root Enter"}},leave:{trigger:{backgroundColor:"#ff0000",color:"#000",text:"Leave"},root:{backgroundColor:"#ff0000",color:"#000",text:"Root Leave"}}};function ie(e,r){return le(e)||se(e,r)||oe(e,r)||ae()}function ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,r){if(!!e){if(typeof e=="string")return St(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return St(e,r)}}function St(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function se(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,a,o,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function le(e){if(Array.isArray(e))return e}function Pt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function ue(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pt(Object(t),!0).forEach(function(n){ce(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ce(e,r,t){return r=fe(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function fe(e){var r=ge(e,"string");return W(r)==="symbol"?r:String(r)}function ge(e,r){if(W(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(W(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function W(e){return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},W(e)}var v={function:function(r){return typeof r=="function"},string:function(r){return typeof r=="string"},boolean:function(r){return typeof r=="boolean"},object:function(r){return!!r&&W(r)==="object"&&r!==null&&!(r instanceof Array)},num:function(r){return typeof r=="number"},array:function(r){return r instanceof Array},element:function(r){return r instanceof HTMLElement},empty:function(r){return Object.keys(r).length===0},doc:function(r){return v.element(r)&&r.nodeType===9},anime:function(r){return v.object(r)&&r.hasOwnProperty("animatables")&&!r.hasOwnProperty("add")},tl:function(r){return v.object(r)&&r.hasOwnProperty("add")&&v.function(r.add)},animeInstance:function(r){return v.anime(r)||v.tl(r)},pixel:function(r){return r.includes("px")},inObject:function(r,t){return v.object(r)&&t in r},percent:function(r){return r.includes("%")},scrollable:function(r,t){return t?t==="y"?r.scrollHeight>r.clientHeight:r.scrollWidth>r.clientWidth:r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth}},Ot=function(r,t,n){return Math.min(Math.max(r,t),n)},z=function(r){return r.split(/\s+/)},Tt=function(r,t){return r&&r.getBoundingClientRect()[t]},kt=function(r,t){return t==="y"?r.scrollHeight:r.scrollWidth},nt=function(r,t){v.string(r)&&(r=parseFloat(r));var n=Math.pow(10,t||0);return Math.round(r*n)/n},wt=function(r){for(var t=[],n=r.parentElement;n&&!v.doc(n)&&n!==document.documentElement;n=n.parentElement)t.push(n);return t},E=function e(r,t){for(var n=ue({},r),i=0,a=Object.entries(t);i<a.length;i++){var o=ie(a[i],2),l=o[0],s=o[1];if(v.object(n[l])&&!v.empty(n[l])){if(!v.object(s))continue;n[l]=e(n[l],s)}else n[l]=s}return n},I=function(r){throw new Error(r)},F=function(r,t){return[r,t].sort(function(n,i){return n-i})},it=function(r){var t={value:0,unit:""},n=/^(-?\d*\.?\d+)(px|%)$/.exec(r);return n&&(t={value:parseFloat(n[1]),unit:n[2]}),t},xt=function(r){return r.split(/\s+/).map(function(t){return it(t)})},V=function(r,t){for(var n in t)r.style[n]=t[n]},Et=function(){var r=document.createElement("div");r.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",document.body.appendChild(r);var t=r.offsetWidth-r.clientWidth;return r.remove(),t};function $(e){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$(e)}function he(e,r){return ve(e)||pe(e,r)||It(e,r)||de()}function de(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pe(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,a,o,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function ve(e){if(Array.isArray(e))return e}function At(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?At(Object(t),!0).forEach(function(n){D(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):At(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function D(e,r,t){return r=Rt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ct(e){return be(e)||ye(e)||It(e)||me()}function me(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function It(e,r){if(!!e){if(typeof e=="string")return at(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return at(e,r)}}function ye(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function be(e){if(Array.isArray(e))return at(e)}function at(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rt(n.key),n)}}function Se(e,r,t){return r&&Dt(e.prototype,r),t&&Dt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rt(e){var r=Pe(e,"string");return $(r)==="symbol"?r:String(r)}function Pe(e,r){if($(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if($(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Lt=function(){function e(r){return _e(this,e),this._it=r,this.setUtils(),this}return Se(e,[{key:"setUtils",value:function(){var t=this;this.isVertical=function(){return t._it.axis==="y"},this.getRoot=function(n){return t._it._root?t._it._root:n==="resize"?window:n==="scroll"?document:document.documentElement},this.dirProps=function(){return t.isVertical()?{ref:"top",length:"height",refOpposite:"bottom",clientLength:document.documentElement.clientHeight}:{ref:"left",length:"width",refOpposite:"right",clientLength:document.documentElement.clientWidth}},this.setRootMargin=function(n,i){var a=t.dirProps(),o=a.length,l=a.clientLength,s=t._it._root?Tt(t._it._root,o):l,c=function(h,p){var d=h.value,y=h.unit,m=h.normal;return y==="%"?m*p:d};n.pixeled=c(n,s),i.pixeled=c(i,s),t._it._isREPGreater=n.pixeled>=i.pixeled;var u={fromRef:"".concat(-1*(t._it._isREPGreater?i.pixeled:n.pixeled),"px"),fromOppRef:"".concat((t._it._isREPGreater?n.pixeled:i.pixeled)-s,"px")},f=kt(t.getRoot(),t.isVertical()?"x":"y");return t.isVertical()?"".concat(u.fromRef," ").concat(f,"px ").concat(u.fromOppRef," ").concat(f,"px"):"".concat(f,"px ").concat(u.fromOppRef," ").concat(f,"px ").concat(u.fromRef)},this.setThreshold=function(){var n=[0,1];return t._it.triggers.forEach(function(i){var a=t.getTriggerData(i),o=a.enter,l=a.leave,s=a.maxPosition;n.push(o,l,nt(1-s,2))}),Ct(new Set(n))},this.parseQuery=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger";return v.string(n)?Ct(document.querySelectorAll(n)):v.array(n)?n:v.element(n)?[n]:I("".concat(i," parameter must be a valid selector, an element or array of elements"))},this.parseRoot=function(n){if(!n)return null;if(v.string(n)){var i=document.querySelector(n);return i||I("root parameter must be a valid selector")}return v.element(n)?n:I("root parameter must be an element")},this.validatePosition=function(n){return v.function(n)&&(n=n(t._it)),v.string(n)?n:I("enter, leave, rootEnter and rootLeave parameters must be a string.")},this.setPositionData=function(n){n=t.validatePosition(n);var i=n.trim(),a=it(i),o=nt(a.value);return{original:i,unit:a.unit,value:o,normal:a.unit==="%"?o/100:0}},this.parsePositions=function(n,i,a,o){var l=[n,a,i,o].map(function(s){return t.setPositionData(t.validatePosition(s).trim())});return{tEP:l[0],rEP:l[1],tLP:l[2],rLP:l[3]}},this.deleteTriggerData=function(n){t._it._triggersData.delete(n)},this.hasTriggerData=function(n,i){var a=t._it._triggersData.has(n);return i?a&&i in t.getTriggerData(n):a},this.getTriggerData=function(n,i){return i?t.hasTriggerData(n,i)?t._it._triggersData.get(n)[i]:{}:t.hasTriggerData(n)&&t._it._triggersData.get(n)||{}},this.setTriggerData=function(n,i,a){if(a){var o=t.getTriggerData(n);"enter"in o&&t._it._triggersData.set(n,M(M({},o),i));return}t._it._triggersData.set(n,i)},this.getTriggerStates=function(n,i){var a=t.getTriggerData(n,"states");return i?a[i]:M(M({},a),{},{hasEnteredFromOneSide:a.hasEntered||a.hasEnteredBack})},this.setTriggerStates=function(n,i){var a=t.getTriggerData(n),o=a&&M(M({},a.states),i);t.setTriggerData(n,{states:o},!0)},this.setTriggerScrollStates=function(n,i,a){var o=t.getTriggerStates(n,"onScroll");if(o[i]=a,t.setTriggerStates(n,{onScroll:M({},o)}),a){t._it._states.runningScrollCbs===0&&t._it.addScrollListener(t._it._onScrollHandler),t._it._states.runningScrollCbs++;return}0<t._it._states.runningScrollCbs&&t._it._states.runningScrollCbs--,t._it._states.runningScrollCbs===0&&t._it.removeScrollListener(t._it._onScrollHandler)},this.onTriggerEnter=function(n){var i,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Enter",l=t.getTriggerStates(n),s=l.hasEnteredOnce,c=t.getTriggerData(n),u=c.onEnter,f=c.onEnterBack,g=c.toggleClass,h=c.animation,p=o==="Enter",d={callback:p?u:f,enterProp:p?"hasEntered":"hasEnteredBack",leaveProp:p?"hasLeftBack":"hasLeft",eventIndex:p?0:2};if(d.callback(n,t._it),t._it.killed)return t.kill();g&&t._it.toggleClass.toggle(n,g,d.eventIndex),h&&t._it.animation.animate(n,h,d.eventIndex);var y=s?(i={},D(i,d.enterProp,!0),D(i,d.leaveProp,!1),i):(a={},D(a,d.enterProp,!0),D(a,"hasLeft",!1),D(a,"hasLeftBack",!1),a);t.setTriggerStates(n,y),s||t.setTriggerStates(n,{hasEnteredOnce:!0})},this.onTriggerLeave=function(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Leave",o=t.getTriggerData(n),l=o.once,s=t.getTriggerStates(n),c=s.hasEnteredOnce,u=t.getTriggerData(n),f=u.onLeave,g=u.onLeaveBack,h=u.toggleClass,p=u.animation,d=a==="Leave",y={callback:d?f:g,leaveProp:d?"hasLeft":"hasLeftBack",eventIndex:d?1:3};if(y.callback(n,t._it),t._it.killed)return t.kill();h&&t._it.toggleClass.toggle(n,h,y.eventIndex),p&&t._it.animation.animate(n,p,y.eventIndex),t.setTriggerStates(n,(i={},D(i,y.leaveProp,!0),D(i,"hasEntered",!1),D(i,"hasEnteredBack",!1),i)),l&&c&&t._it.remove(n)},this.getPositions=function(n,i,a){var o=a.enter,l=a.leave,s=a.ref,c=a.refOpposite,u=a.length,f=t._it._isREPGreater;return[n[s]+o*n[u],n[s]+l*n[u],f?i[c]:i[s],f?i[s]:i[c]]},this.toggleActions=function(n){var i=n.getBoundingClientRect();t._it.rootBounds=t.getRootRect(t._it.observer.rootMargin);var a=t._it.rootBounds,o=t.getTriggerStates(n),l=o.hasEnteredFromOneSide,s=o.hasLeft,c=o.hasLeftBack,u=o.hasEnteredOnce,f=t.getTriggerData(n),g=f.enter,h=f.leave,p=t.dirProps(),d=p.ref,y=p.refOpposite,m=p.length,P=t.getPositions(i,a,{enter:g,leave:h,ref:d,refOpposite:y,length:m}),b=he(P,4),S=b[0],_=b[1],O=b[2],T=b[3],k=!0;switch(!0){case(c&&O>S):t.onTriggerEnter(n);break;case(l&&T>_):t.onTriggerLeave(n);break;case(s&&u&&T<_):t.onTriggerEnter(n,"EnterBack");break;case(l&&O<S):t.onTriggerLeave(n,"hasLeftBack");break;default:k=!1;break}return k},this.parseRootMargin=function(n){var i=n||"0px",a=xt(i);return a[1]=a[1]||a[0],a[2]=a[2]||a[0],a[3]=a[3]||a[1],a},this.expandRectByRootMargin=function(n,i){var a=t.parseRootMargin(i).map(function(l,s){return l.unit==="px"?l.value:l.value*(s%2?n.width:n.height)/100}),o={top:n.top-a[0],right:n.right+a[1],bottom:n.bottom+a[2],left:n.left-a[3],width:0,height:0};return o.width=o.right-o.left,o.height=o.bottom-o.top,o},this.getRootRect=function(n){var i;if(t._it._root&&!v.doc(t._it._root))return i=t._it._root.getBoundingClientRect(),t.expandRectByRootMargin(i,n);var a=v.doc(t._it._root)?t._it._root:document,o=a.documentElement,l=a.body;return i={top:0,left:0,right:o.clientWidth||l.clientWidth,width:o.clientWidth||l.clientWidth,bottom:o.clientHeight||l.clientHeight,height:o.clientHeight||l.clientHeight},t.expandRectByRootMargin(i,n)}}},{key:"kill",value:function(){this._it=void 0}}]),e}();function N(e){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},N(e)}function Y(e){return ke(e)||Te(e)||st(e)||Oe()}function Oe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Te(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ke(e){if(Array.isArray(e))return lt(e)}function jt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function ot(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jt(Object(t),!0).forEach(function(n){J(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mt(e,r){return Ee(e)||xe(e,r)||st(e,r)||we()}function we(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xe(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,a,o,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function Ee(e){if(Array.isArray(e))return e}function Ae(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=st(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,l;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return a=c.done,c},e:function(c){o=!0,l=c},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}}}function st(e,r){if(!!e){if(typeof e=="string")return lt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lt(e,r)}}function lt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ce(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ht(n.key),n)}}function Ie(e,r,t){return r&&Bt(e.prototype,r),t&&Bt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(e,r,t){return r=Ht(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ht(e){var r=De(e,"string");return N(r)==="symbol"?r:String(r)}function De(e,r){if(N(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(N(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ut=[],B=[],Wt=0,H=function(){function e(){var r=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ce(this,e),J(this,"_rAFCallback",function(n){r.triggers.forEach(function(i){var a=r._utils.getTriggerStates(i,"onScroll");for(var o in a)a[o]&&a[o](i,n)})}),J(this,"_onScrollHandler",function(){return r._rAFID=requestAnimationFrame(r._rAFCallback)}),J(this,"_observerCallback",function(n,i){var a=r._utils.dirProps(),o=a.ref,l=a.refOpposite,s=a.length,c=Ae(n),u;try{for(c.s();!(u=c.n()).done;){var f=u.value,g=f.target,h=f.boundingClientRect,p=f.isIntersecting;r.rootBounds=f.rootBounds||r._utils.getRootRect(i.rootMargin);var d=r.rootBounds,y=d[s],m=r._utils.getTriggerData(g),P=m.enter,b=m.leave,S=r._utils.getTriggerStates(g),_=S.hasEnteredFromOneSide,O=S.onScroll.backup,T=r._utils.getPositions(h,d,{enter:P,leave:b,ref:o,refOpposite:l,length:s}),k=Mt(T,4),w=k[0],x=k[1],C=k[2],L=k[3],Q=h[s]>=y,Z=!!O;switch(!0){case r._states.oCbFirstInvoke:switch(!0){case(!p&&L>x):r._utils.onTriggerEnter(g),r._utils.onTriggerLeave(g);break;case p:switch(!0){case(C>w&&L<x):r._utils.onTriggerEnter(g);break;case L>x:r._utils.onTriggerEnter(g),r._utils.onTriggerLeave(g);break}Q&&r._utils.setTriggerScrollStates(g,"backup",r._utils.toggleActions);break}break;case!p:switch(Z&&r._utils.setTriggerScrollStates(g,"backup"),!0){case(_&&L>x):r._utils.onTriggerLeave(g);break;case(_&&C<w):r._utils.onTriggerLeave(g,"onLeaveBack");break}break;case(p&&!Z):r._utils.toggleActions(g),Q&&r._utils.setTriggerScrollStates(g,"backup",r._utils.toggleActions);break}}}catch(X){c.e(X)}finally{c.f()}r._states.oCbFirstInvoke=!1}),this._userOptions=t,this.triggers=[],this._triggersData=new WeakMap,this._utils=new Lt(this),this.id=Wt,Wt++,B.push(this),this.animation=void 0,this.toggleClass=void 0,this.guides=void 0,this._states={oCbFirstInvoke:!0,runningScrollCbs:0},this._setInstance()}return Ie(e,[{key:"_setPlugin",value:function(t){var n=e.getRegisteredPlugins(),i=n.find(function(a){return t===a.pluginName});i&&(this[t]=new i(this))}},{key:"_addResizeListener",value:function(){var t=this;this._removeResizeListener(),this._onResizeHandler=function(){return t.update()},this._utils.getRoot("resize").addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){this._utils.getRoot("resize").removeEventListener("resize",this._onResizeHandler,!1)}},{key:"addScrollListener",value:function(t){this._utils.getRoot("scroll").addEventListener("scroll",t,!1)}},{key:"removeScrollListener",value:function(t){this._utils.getRoot("scroll").removeEventListener("scroll",t,!1)}},{key:"_createInstance",value:function(){this._rootMargin=this._utils.setRootMargin(this._positionsData.rEP,this._positionsData.rLP),this._threshold=this._utils.setThreshold(),this._observerOptions={root:this._root,rootMargin:this._rootMargin,threshold:this._threshold},this.observer=new IntersectionObserver(this._observerCallback,this._observerOptions),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin)}},{key:"_setInstance",value:function(){this._defaultOptions=yt,this._options=E(this._defaultOptions,this._userOptions);var t=this._options,n=t.axis,i=t.name,a=t.root,o=t.defaults,l=o.enter,s=o.leave,c=t.onScroll,u=t.rootEnter,f=t.rootLeave,g=t.guides;return this.axis=n,this.name=i,this._root=this._utils.parseRoot(a),this._positionsData=this._utils.parsePositions(l,s,u,f),this.customScrollHandler=c,this._createInstance(),this._addResizeListener(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),g&&(this._setPlugin("guides"),this.guides.init(g)),this}},{key:"add",value:function(t,n){var i=this,a=this._utils.parseQuery(t),o=this._options.defaults,l=n||{},s=function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"tEP";return O?i._utils.setPositionData(O).normal:i._positionsData[T].normal},c=function(O){return!i[O]&&i._setPlugin(O),i[O]},u=E(o,l),f=u.enter,g=u.leave,h=u.toggleClass,p=u.animation,d=ot(ot({},u),{},{enter:s(f),leave:s(g,"tLP"),toggleClass:h?c("toggleClass").parse(h):void 0,animation:p?c("animation").parse(p):void 0,states:ot({},bt)}),y=F(d.enter,d.leave),m=Mt(y,2),P=m[0],b=m[1];d.minPosition=P,d.maxPosition=b,this.triggers=Y(new Set([].concat(Y(this.triggers),Y(a))));var S=!1;return[d.enter,d.leave].forEach(function(_){return!i._threshold.some(function(O){return _===O})&&(S=!0)}),S?(a.forEach(function(_){return i._utils.setTriggerData(_,d)}),this.update()):a.forEach(function(_){i._utils.setTriggerData(_,d),i.observer.observe(_)}),this.guides&&this.guides.update(),this}},{key:"remove",value:function(t){var n=this,i=this._utils.parseQuery(t);i.forEach(function(o){n._utils.deleteTriggerData(o),n.observer.unobserve(o)});var a=this.triggers.filter(function(o){var l=i.some(function(s){return o===s});return!l});return this.triggers=a,this.guides&&this.guides.update(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=void 0}},{key:"update",value:function(){var t=this;this._disconnect(),this._createInstance(),this.triggers.forEach(function(n){return t.observer&&t.observer.observe(n)}),this.guides&&this.guides.update()}},{key:"kill",value:function(){this.killed=!0,this._disconnect(),this.removeScrollListener(this._onScrollHandler),this.removeScrollListener(this.customScrollHandler),this._removeResizeListener(),this._rAFID&&cancelAnimationFrame(this._rAFID),this.guides&&this.guides.kill(),this.toggleClass&&this.toggleClass.kill(),this.animation&&this.animation.kill(),this.triggers=[],this.animation=this.toggleClass=this.guides=this._utils=void 0;var t=B.indexOf(this);~t&&B.splice(t,1)}}]),e}();H.getInstances=function(){return B};H.getInstanceById=function(e){return B.find(function(r){return r.id===e})};H.update=function(){return B.forEach(function(e){return e.update()})};H.kill=function(){return B.forEach(function(e){return e.kill()})};H.registerPlugins=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ut.push.apply(ut,Y(e))};H.getRegisteredPlugins=function(){return ut};var ct=H;function U(e){return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},U(e)}function Re(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Le(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,l;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return a=c.done,c},e:function(c){o=!0,l=c},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}}}function Le(e,r){if(!!e){if(typeof e=="string")return Vt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vt(e,r)}}function Vt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function je(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ft(n.key),n)}}function Me(e,r,t){return r&&zt(e.prototype,r),t&&zt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Be(e,r,t){return r=Ft(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ft(e){var r=He(e,"string");return U(r)==="symbol"?r:String(r)}function He(e,r){if(U(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(U(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var $t=function(){function e(r){var t=this;return je(this,e),Be(this,"kill",function(){t._it=void 0,t._utils=void 0}),this._registerIntersectionTrigger(r),this}return Me(e,[{key:"_registerIntersectionTrigger",value:function(t){this._it=t,this._utils=this._it._utils}},{key:"toggle",value:function(t,n,i){var a=Re(n),o;try{var l=function(){var u=o.value,f=u.targets,g=u.toggleActions,h=u.classNames;if(g[i]==="none")return"continue";h.forEach(function(p){if(!f.length)return t.classList[g[i]](p);f.forEach(function(d){return d.classList[g[i]](p)})})};for(a.s();!(o=a.n()).done;)var s=l()}catch(c){a.e(c)}finally{a.f()}}},{key:"parse",value:function(t){var n=this,i=[];return v.string(t)&&(i=[E(et,{classNames:t})]),v.array(t)&&(i=t.map(function(a){return E(et,a)})),i.map(function(a){return{targets:n._utils.parseQuery(a.targets,"targets"),toggleActions:z(a.toggleActions),classNames:z(a.classNames)}})}}]),e}();$t.pluginName="toggleClass";var Nt=$t;function G(e){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},G(e)}function We(e){return $e(e)||Fe(e)||ze(e)||Ve()}function Ve(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ze(e,r){if(!!e){if(typeof e=="string")return ft(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ft(e,r)}}function Fe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $e(e){if(Array.isArray(e))return ft(e)}function ft(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ne(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ut(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gt(n.key),n)}}function Ue(e,r,t){return r&&Ut(e.prototype,r),t&&Ut(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e,r,t){return r=Gt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gt(e){var r=Ge(e,"string");return G(r)==="symbol"?r:String(r)}function Ge(e,r){if(G(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(G(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Kt=function(){function e(r){var t=this;return Ne(this,e),R(this,"removeGuides",function(){t._guides.forEach(function(n){return n&&n.remove()}),t._guides=[]}),R(this,"update",function(){t.removeGuides(),t.createGuides()}),R(this,"kill",function(){t._removeResizeListener(),t.removeGuides(),t._it.guides=void 0,t._it=void 0,t._utils=void 0}),this._registerIntersectionTrigger(r),this}return Ue(e,[{key:"_registerIntersectionTrigger",value:function(t){this._it=t,this._utils=this._it._utils}},{key:"init",value:function(t){this.options=v.object(t)?t:{},this._guides=[],this._scrollBarWidth=Et(),this.isVer=this._utils.isVertical(),this.rootEl=this._utils.getRoot(),this.scrollWidth={x:v.scrollable(this.rootEl,"x")?this._scrollBarWidth:0,y:v.scrollable(this.rootEl,"y")?this._scrollBarWidth:0},this._addResizeListener(),this.update()}},{key:"_addResizeListener",value:function(){this._onResizeHandler=this.update,addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){removeEventListener("resize",this._onResizeHandler,!1)}},{key:"_guideCreation",value:function(t,n){var i=this,a=t.enter,o=t.position,l=t.isHigherValue,s=t.text,c=t.color,u=t.backgroundColor,f=document.createElement("div");V(f,R({width:this.isVer?"100px":"1px",height:this.isVer?"1px":"100px",position:"absolute",zIndex:"9999",backgroundColor:u},this.isVer?"top":"left",o.toString()));var g=function(){var m,P={dir:i.isVer?l?"bottom":"top":"bottom",value:i.isVer?"5px":"25px"},b={dir:i.isVer||l?"right":"left",value:i.isVer?n||i._it._root?"0px":"25px":"5px"},S=document.createElement("span");S.innerText=s,f.appendChild(S),V(S,(m={position:"absolute",color:c,fontSize:"16px",fontWeight:"bold",backgroundColor:u,padding:"5px",width:"max-content"},R(m,P.dir,P.value),R(m,b.dir,b.value),m))};g(),this._guides.push(f),document.body.append(f);var h=function(m,P){var b=We(f.style.transform.matchAll(/(-?\d*\.?\d+)\s*(px|%)?/g)),S=b.length?b[0][1]:"0",_=b.length>1?b[1][1]:"0",O=m+parseFloat(S),T=P+parseFloat(_);V(f,{transform:"translate(".concat(O,"px,").concat(T,"px)")})},p=function(){var m=f.getBoundingClientRect(),P=i.rootEl.getBoundingClientRect(),b=i._utils.getRootRect(i._it.observer.rootMargin),S={x:l?i.scrollWidth.x:0,y:l?i.scrollWidth.y:0},_={x:0,y:0};_=i.isVer?a?{x:P.right-m.left-i.scrollWidth.y,y:b.bottom-m.bottom-S.x}:{x:P.right-m.left-i.scrollWidth.y,y:b.top-m.top-S.x}:a?{x:b.right-m.right,y:P.bottom-m.top-i.scrollWidth.x}:{x:b.left-m.left,y:P.bottom-m.top-i.scrollWidth.x},n&&(b=n.getBoundingClientRect(),_=i.isVer?{x:b.right-m.right,y:b.top+o*b.height-m.top}:{x:b.left+o*b.width-m.left,y:b.top-m.top}),h(_.x,_.y)};if(!n){var d;V(f,(d={},R(d,this.isVer?"width":"height",this._it._root?"100px":this.isVer?"100vw":"100vh"),R(d,"position",this._it._root?"absolute":"fixed"),d)),!this._it._root&&!this.isVer&&V(f,{top:"0px"}),this._it._root&&p();return}p(),wt(n).forEach(function(y){!v.scrollable(y)||y.addEventListener("scroll",p,!1)})}},{key:"createGuides",value:function(){var t=this,n=E(_t,this.options),i=this._it.name,a=this._it._positionsData.rEP.value,o=this._it._positionsData.rLP.value;this._guideCreation({enter:!0,position:"".concat(a).concat(this._it._positionsData.rEP.unit),isHigherValue:F(a,o)[1]===a,text:"".concat(i," ").concat(n.enter.root.text),color:n.enter.root.color,backgroundColor:n.enter.root.backgroundColor}),this._guideCreation({enter:!1,position:"".concat(o).concat(this._it._positionsData.rLP.unit),isHigherValue:F(a,o)[1]===o,text:"".concat(i," ").concat(n.leave.root.text),color:n.leave.root.color,backgroundColor:n.leave.root.backgroundColor}),this._it.triggers.forEach(function(l){var s=t._utils.getTriggerData(l),c=s.enter,u=s.leave,f=s.maxPosition;t._guideCreation({enter:!0,position:c,isHigherValue:c===f,text:"".concat(i," ").concat(n.enter.trigger.text),color:n.enter.trigger.color,backgroundColor:n.enter.trigger.backgroundColor},l),t._guideCreation({enter:!1,position:u,isHigherValue:u===f,text:"".concat(i," ").concat(n.leave.trigger.text),color:n.leave.trigger.color,backgroundColor:n.leave.trigger.backgroundColor},l)})}}]),e}();Kt.pluginName="guides";var Qt=Kt;function K(e){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},K(e)}function Ke(e){return Ye(e)||Xe(e)||Xt(e)||Qe()}function Qe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ye(e){if(Array.isArray(e))return gt(e)}function Je(e,r){return tr(e)||qe(e,r)||Xt(e,r)||Ze()}function Ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xt(e,r){if(!!e){if(typeof e=="string")return gt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gt(e,r)}}function gt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qe(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,a,o,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function tr(e){if(Array.isArray(e))return e}function Yt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yt(Object(t),!0).forEach(function(n){er(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function er(e,r,t){return r=Zt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zt(n.key),n)}}function nr(e,r,t){return r&&Jt(e.prototype,r),t&&Jt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zt(e){var r=ir(e,"string");return K(r)==="symbol"?r:String(r)}function ir(e,r){if(K(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(K(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var qt=function(){function e(r){return rr(this,e),this._registerIntersectionTrigger(r),this.setUtils(),this}return nr(e,[{key:"_registerIntersectionTrigger",value:function(t){this._it=t,this._utils=this._it._utils}},{key:"setUtils",value:function(){var t=this,n=this._utils.dirProps(),i=n.ref,a=n.refOpposite,o=n.length,l=this._utils.isVertical(),s=this._utils.getRoot(),c=new WeakMap;this.seekSmoothly=function(u,f,g,h){if(!t.killed){var p=u.currentTime,d=h?Math.min(p+g,f):Math.max(p-g,f);u.seek(d);var y=h?d>=f:d<=f;if(!y){var m=requestAnimationFrame(function(){return t.seekSmoothly(u,f,g,h)});c.set(u,m)}}},this.seek=function(u,f,g){if(v.num(g)){var h=u.currentTime,p=f>h,d=c.has(u)&&c.get(u)||0;cancelAnimationFrame(d),t.seekSmoothly(u,f,g,p);return}u.seek(f)},this.startSnaping=function(u){var f=u.snapDistance,g=u.currentDis,h=u.snap,p=u.step,d=u.toRef,y=d===void 0?!1:d;if(!t.killed){var m=y?-1:1;if(l?s.scrollBy({top:p*m,behavior:"instant"}):s.scrollBy({left:p*m,behavior:"instant"}),g+=p,g>=f){g=0,h.onComplete(t._it);return}requestAnimationFrame(function(){return t.startSnaping({snapDistance:f,currentDis:g,snap:h,step:p,toRef:y})})}},this.parseSnap=function(u,f){var g=u.instance,h=u.snap,p=function(w){for(var x=[],C=w;C<1;)x.push(Ot(C,0,1)),C=C+w;return x.map(function(L){return Math.round(L*g.duration)})},d=function(){return v.inObject(g,"marks")?g.marks.map(function(w){return w.time}):I('"marks" feature is not available in the provided anime instance')},y=function(w){return E(mt,w)},m=function(w){return v.num(w)?p(w):d()},P={},b={};if(f){var S=h,_=S.originalToParam;_&&(P=A(A({},h),{},{to:m(_)}))}else{v.boolean(h)&&(b=y({to:"marks"})),(v.array(h)||v.num(h))&&(b=y({to:h})),v.object(h)&&(b=y(h));var O=b,T=O.to;v.string(T)&&!!T&&(P=A(A({},b),{},{originalToParam:"marks",to:d()})),v.num(T)&&!!T&&(P=A(A({},b),{},{originalToParam:T,to:p(T)}))}return P},this.getTIL=function(u,f,g){var h=u.getBoundingClientRect();return h[o]-(f*h[o]+(1-g)*h[o])},this.getSnapStep=function(u){return v.object(u)?Math.round(Math.max(u.speed*17/1e3,1)):0},this.animateHandler=function(u,f){var g=f.enter,h=f.leave,p=f.tIL,d=f.instance,y=f.snap,m=f.step,P=f.link;if(!t.killed){var b=u.getBoundingClientRect(),S=t._utils.getTriggerStates(u,"ids");t._it.rootBounds=t._utils.getRootRect(t._it.observer.rootMargin);var _=t._it.rootBounds,O=p+(t._it._isREPGreater?_[o]:-_[o]),T=d.duration,k=0,w=t._utils.getPositions(b,_,{enter:g,leave:h,ref:i,refOpposite:a,length:o}),x=Je(w,4),C=x[0],L=x[1],Q=x[2],Z=x[3],X=Q-C;if(X>0&&(k=T*X/O,t.seek(d,k,P)),!v.boolean(y)){var ee=0;clearTimeout(S.snapTimeOutId);var re=setTimeout(function(){var ht=y.to.map(function(tt){return k-tt}),dt=ht.map(function(tt){return Math.abs(tt)}),pt=Math.min.apply(Math,Ke(dt)),ne=ht[dt.indexOf(pt)],q=O*pt/T,vt={snapDistance:q,currentDis:ee,snap:y,step:m};if(!(q>=y.maxDistance||q<m)){if(y.onStart(t._it),ne<0){t.startSnaping(vt);return}t.startSnaping(A(A({},vt),{},{toRef:!0}))}},y.after*1e3);t._utils.setTriggerStates(u,{ids:A(A({},S),{},{snapTimeOutId:re})})}}}}},{key:"animate",value:function(t,n,i){var a=this,o=n.instance,l=n.toggleActions,s=n.link,c=n.snap;if(s){var u=this._utils.getTriggerStates(t,"onScroll"),f=u.animate,g=this._utils.getTriggerStates(t,"ids"),h=this._utils.getTriggerData(t),p=h.enter,d=h.leave,y=h.minPosition,m=h.maxPosition,P=this.getTIL(t,y,m),b=this.getSnapStep(c),S={enter:p,leave:d,tIL:P,instance:o,snap:c,link:v.boolean(s)?s:Math.abs(s),step:b};switch(i){case 0:case 2:if(this._it._states.oCbFirstInvoke&&this.animateHandler(t,S),f)break;this._utils.setTriggerScrollStates(t,"animate",function(){return a.animateHandler(t,S)});break;case 1:case 3:clearTimeout(g.snapTimeOutId),this._utils.setTriggerScrollStates(t,"animate"),this.seek(o,i===1?o.duration:0,s);break}return}var _=l[i],O=o.currentTime/o.duration;if(_!=="none")switch(_){case"play":o.reversed&&(o.reverse(),o.completed=!1),O<1&&o[_]();break;case"resume":O<1&&O>0&&o.play();break;case"restart":case"reset":o.reversed&&o.reverse(),o[_]();break;case"pause":o[_]();break;case"complete":o.pause(),o.seek(o.reversed?0:o.duration);break;case"reverse":!o.reversed&&o[_](),o.paused&&o.play();break;case"kill":v.inObject(o,"kill")&&o.kill(),this._utils.setTriggerData(t,{animation:void 0},!0);break}}},{key:"parse",value:function(t,n){var i={},a={};if(n){var o=t,l=o.instance,s=o.snap;!v.boolean(s)&&(a=A(A({},t),{},{snap:this.parseSnap({instance:l,snap:s},!0)}))}else{if(!v.object(t))return I('"animation" parameter is NOT valid.');if(v.animeInstance(t))i=E(rt,{instance:t});else if(t.instance&&v.animeInstance(t.instance))i=E(rt,t);else return I('"instance" parameter must be anime instance.');var c=i,u=c.toggleActions,f=c.snap,g=c.instance,h=c.link;a={instance:g,toggleActions:z(u),snap:!!f&&this.parseSnap({instance:g,snap:f}),link:h}}return a.instance.reset(),a}},{key:"update",value:function(){var t=this;this._it.triggers.forEach(function(n){var i=t._utils.getTriggerData(n),a=i.enter,o=i.leave,l=i.minPosition,s=i.maxPosition,c=i.animation;c=c&&t.parse(c,!0),t._utils.setTriggerData(n,{animation:c},!0);var u=t._utils.getTriggerStates(n,"onScroll"),f=u.animate;if(f&&!!c){var g=c,h=g.instance,p=g.snap,d=g.link,y=t.getTIL(n,l,s),m=t.getSnapStep(p);t._utils.setTriggerScrollStates(n,"animate"),t._utils.setTriggerScrollStates(n,"animate",function(){return t.animateHandler(n,{enter:a,leave:o,instance:h,snap:p,link:d,tIL:y,step:m})})}})}},{key:"kill",value:function(){this.killed=!0,this._it=this._utils=void 0}}]),e}();qt.pluginName="animation";var te=qt;var ar=[Nt,Qt,te];ct.registerPlugins(ar);var xr=ct;export{xr as default};
//# sourceMappingURL=intersectiontrigger-bundle.esm.browser.min.js.map
