/*
* IntersectionTrigger v1.1.1 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2023, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: February 22, 2023
*/

var j=function(){},pt={to:0,after:1,speed:100,maxDistance:500,onStart:j,onComplete:j},vt={defaults:{enter:"0%",leave:"100%",once:!1,onEnter:j,onLeave:j,onEnterBack:j,onLeaveBack:j,toggleClass:void 0,animation:void 0},rootEnter:"100%",rootLeave:"0%",axis:"y",name:"",root:null,guides:!1,onScroll:j},rt={targets:[],toggleActions:"add remove add remove",classNames:""},nt={instance:{},toggleActions:"play complete reverse complete",link:!1,snap:!1},mt={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:void 0,animate:void 0},ids:{snapTimeOutId:0}},yt={enter:{trigger:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Enter"},root:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Root Enter"}},leave:{trigger:{backgroundColor:"#ff0000",color:"#000",text:"Leave"},root:{backgroundColor:"#ff0000",color:"#000",text:"Root Leave"}}};function qt(e,r){return ne(e)||re(e,r)||ee(e,r)||te()}function te(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e,r){if(!!e){if(typeof e=="string")return bt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bt(e,r)}}function bt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function re(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,a,o,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=a.call(t)).done)&&(c.push(n.value),c.length!==r);s=!0);}catch(u){l=!0,i=u}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return c}}function ne(e){if(Array.isArray(e))return e}function _t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function ie(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_t(Object(t),!0).forEach(function(n){ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ae(e,r,t){return r=oe(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function oe(e){var r=se(e,"string");return W(r)==="symbol"?r:String(r)}function se(e,r){if(W(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(W(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function W(e){return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},W(e)}var p={function:function(r){return typeof r=="function"},string:function(r){return typeof r=="string"},boolean:function(r){return typeof r=="boolean"},object:function(r){return!!r&&W(r)==="object"&&r!==null&&!(r instanceof Array)},num:function(r){return typeof r=="number"},array:function(r){return r instanceof Array},element:function(r){return r instanceof HTMLElement},empty:function(r){return Object.keys(r).length===0},doc:function(r){return p.element(r)&&r.nodeType===9},anime:function(r){return p.object(r)&&r.hasOwnProperty("animatables")&&!r.hasOwnProperty("add")},tl:function(r){return p.object(r)&&r.hasOwnProperty("add")&&p.function(r.add)},animeInstance:function(r){return p.anime(r)||p.tl(r)},pixel:function(r){return r.includes("px")},inObject:function(r,t){return p.object(r)&&t in r},percent:function(r){return r.includes("%")},scrollable:function(r,t){return t?t==="y"?r.scrollHeight>r.clientHeight:r.scrollWidth>r.clientWidth:r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth}},St=function(r,t,n){return Math.min(Math.max(r,t),n)},N=function(r){return r.split(/\s+/)},Ot=function(r,t){return r&&r.getBoundingClientRect()[t]},Pt=function(r,t){return t==="y"?r.scrollHeight:r.scrollWidth},it=function(r,t){p.string(r)&&(r=parseFloat(r));var n=Math.pow(10,t||0);return Math.round(r*n)/n},Tt=function(r){for(var t=[],n=r.parentElement;n&&!p.doc(n)&&n!==document.documentElement;n=n.parentElement)t.push(n);return t},at=function e(r){if(!p.object(r)&&!p.array(r))return r;var t=p.array(r)?[]:{};for(var n in r)r.hasOwnProperty(n)&&(t[n]=e(r[n]));return t},x=function e(r,t){for(var n=ie({},r),i=0,a=Object.entries(t);i<a.length;i++){var o=qt(a[i],2),c=o[0],s=o[1],l=c;if(p.object(n[l])&&!p.empty(n[l])){if(!p.object(s))continue;n[l]=e(n[l],s)}else n[l]=s}return n},I=function(r){throw new Error(r)},U=function(r,t){return[r,t].sort(function(n,i){return n-i})},ot=function(r){var t={value:0,unit:""},n=/^(-?\d*\.?\d+)(px|%)$/.exec(r);return n&&(t={value:parseFloat(n[1]),unit:n[2]}),t},kt=function(r){return r.split(/\s+/).map(function(t){return ot(t)})},V=function(r,t){for(var n in t)r.style[n]=t[n]},wt=function(){var r=document.createElement("div");r.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",document.body.appendChild(r);var t=r.offsetWidth-r.clientWidth;return r.remove(),t};function G(e){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},G(e)}function le(e,r){return fe(e)||ce(e,r)||At(e,r)||ue()}function ue(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ce(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,a,o,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=a.call(t)).done)&&(c.push(n.value),c.length!==r);s=!0);}catch(u){l=!0,i=u}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return c}}function fe(e){if(Array.isArray(e))return e}function xt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xt(Object(t),!0).forEach(function(n){D(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function D(e,r,t){return r=It(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Et(e){return de(e)||he(e)||At(e)||ge()}function ge(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function At(e,r){if(!!e){if(typeof e=="string")return st(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return st(e,r)}}function he(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function de(e){if(Array.isArray(e))return st(e)}function st(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ct(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,It(n.key),n)}}function ve(e,r,t){return r&&Ct(e.prototype,r),t&&Ct(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function It(e){var r=me(e,"string");return G(r)==="symbol"?r:String(r)}function me(e,r){if(G(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(G(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Dt=function(){function e(r){return pe(this,e),this._it=r,this.setUtils(),this}return ve(e,[{key:"setUtils",value:function(){var t=this;this.isVertical=function(){return t._it.axis==="y"},this.getRoot=function(n){return t._it._root?t._it._root:n==="resize"?window:n==="scroll"?document:document.documentElement},this.dirProps=function(){return t.isVertical()?{ref:"top",length:"height",refOpposite:"bottom",clientLength:document.documentElement.clientHeight}:{ref:"left",length:"width",refOpposite:"right",clientLength:document.documentElement.clientWidth}},this.setRootMargin=function(n,i){var a=t.dirProps(),o=a.length,c=a.clientLength,s=t._it._root?Ot(t._it._root,o):c,l=function(d,v){var h=d.value,y=d.unit,m=d.normal;return y==="%"?m*v:h};n.pixeled=l(n,s),i.pixeled=l(i,s),t._it._isREPGreater=n.pixeled>=i.pixeled;var u={fromRef:"".concat(-1*(t._it._isREPGreater?i.pixeled:n.pixeled),"px"),fromOppRef:"".concat((t._it._isREPGreater?n.pixeled:i.pixeled)-s,"px")},f=Pt(t.getRoot(),t.isVertical()?"x":"y");return t.isVertical()?"".concat(u.fromRef," ").concat(f,"px ").concat(u.fromOppRef," ").concat(f,"px"):"".concat(f,"px ").concat(u.fromOppRef," ").concat(f,"px ").concat(u.fromRef)},this.setThreshold=function(){var n=[0,1];return t._it.triggers.forEach(function(i){var a=t.getTriggerData(i),o=a.enter,c=a.leave,s=a.maxPosition;n.push(o,c,it(1-s,2))}),Et(new Set(n))},this.parseQuery=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger";return p.string(n)?Et(document.querySelectorAll(n)):p.array(n)?n:p.element(n)?[n]:I("".concat(i," parameter must be a valid selector, an element or array of elements"))},this.parseRoot=function(n){if(!n)return null;if(p.string(n)){var i=document.querySelector(n);return i||I("root parameter must be a valid selector")}return p.element(n)?n:I("root parameter must be an element")},this.validatePosition=function(n){return p.function(n)&&(n=n(t._it)),p.string(n)?n:I("enter, leave, rootEnter and rootLeave parameters must be a string.")},this.setPositionData=function(n){n=t.validatePosition(n);var i=n.trim(),a=ot(i),o=it(a.value);return{original:i,unit:a.unit,value:o,normal:a.unit==="%"?o/100:0}},this.parsePositions=function(n,i,a,o){var c=[n,a,i,o].map(function(s){return t.setPositionData(t.validatePosition(s).trim())});return{tEP:c[0],rEP:c[1],tLP:c[2],rLP:c[3]}},this.deleteTriggerData=function(n){t._it._triggersData.delete(n)},this.hasTriggerData=function(n,i){var a=t._it._triggersData.has(n);return i?a&&i in t.getTriggerData(n):a},this.getTriggerData=function(n,i){return i?t.hasTriggerData(n,i)?t._it._triggersData.get(n)[i]:{}:t.hasTriggerData(n)&&t._it._triggersData.get(n)||{}},this.setTriggerData=function(n,i,a){if(a){var o=t.getTriggerData(n);"enter"in o&&t._it._triggersData.set(n,M(M({},o),i));return}t._it._triggersData.set(n,i)},this.getTriggerStates=function(n,i){var a=t.getTriggerData(n,"states");return i?a[i]:M(M({},a),{},{hasEnteredFromOneSide:a.hasEntered||a.hasEnteredBack})},this.setTriggerStates=function(n,i){var a=t.getTriggerData(n),o=a&&M(M({},a.states),i);t.setTriggerData(n,{states:o},!0)},this.setTriggerScrollStates=function(n,i,a){var o=t.getTriggerStates(n,"onScroll");if(o[i]=a,t.setTriggerStates(n,{onScroll:M({},o)}),a){t._it._states.runningScrollCbs===0&&t._it.addScrollListener(t._it._onScrollHandler),t._it._states.runningScrollCbs++;return}0<t._it._states.runningScrollCbs&&t._it._states.runningScrollCbs--,t._it._states.runningScrollCbs===0&&t._it.removeScrollListener(t._it._onScrollHandler)},this.onTriggerEnter=function(n){var i,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Enter",c=t.getTriggerStates(n),s=c.hasEnteredOnce,l=t.getTriggerData(n),u=l.onEnter,f=l.onEnterBack,g=l.toggleClass,d=l.animation,v=o==="Enter",h={callback:v?u:f,enterProp:v?"hasEntered":"hasEnteredBack",leaveProp:v?"hasLeftBack":"hasLeft",eventIndex:v?0:2};if(h.callback(n,t._it),t._it.killed)return t.kill();g&&t._it.toggleClass.toggle(n,g,h.eventIndex),d&&t._it.animation.animate(n,d,h.eventIndex);var y=s?(i={},D(i,h.enterProp,!0),D(i,h.leaveProp,!1),i):(a={},D(a,h.enterProp,!0),D(a,"hasLeft",!1),D(a,"hasLeftBack",!1),a);t.setTriggerStates(n,y),s||t.setTriggerStates(n,{hasEnteredOnce:!0})},this.onTriggerLeave=function(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Leave",o=t.getTriggerData(n),c=o.once,s=t.getTriggerStates(n),l=s.hasEnteredOnce,u=t.getTriggerData(n),f=u.onLeave,g=u.onLeaveBack,d=u.toggleClass,v=u.animation,h=a==="Leave",y={callback:h?f:g,leaveProp:h?"hasLeft":"hasLeftBack",eventIndex:h?1:3};if(y.callback(n,t._it),t._it.killed)return t.kill();d&&t._it.toggleClass.toggle(n,d,y.eventIndex),v&&t._it.animation.animate(n,v,y.eventIndex),t.setTriggerStates(n,(i={},D(i,y.leaveProp,!0),D(i,"hasEntered",!1),D(i,"hasEnteredBack",!1),i)),c&&l&&t._it.remove(n)},this.getPositions=function(n,i,a){var o=a.enter,c=a.leave,s=a.ref,l=a.refOpposite,u=a.length,f=t._it._isREPGreater;return[n[s]+o*n[u],n[s]+c*n[u],f?i[l]:i[s],f?i[s]:i[l]]},this.toggleActions=function(n){var i=n.getBoundingClientRect();t._it.rootBounds=t.getRootRect(t._it.observer.rootMargin);var a=t._it.rootBounds,o=t.getTriggerStates(n),c=o.hasEnteredFromOneSide,s=o.hasLeft,l=o.hasLeftBack,u=o.hasEnteredOnce,f=t.getTriggerData(n),g=f.enter,d=f.leave,v=t.dirProps(),h=v.ref,y=v.refOpposite,m=v.length,S=t.getPositions(i,a,{enter:g,leave:d,ref:h,refOpposite:y,length:m}),b=le(S,4),O=b[0],_=b[1],P=b[2],T=b[3],k=!0;switch(!0){case(l&&P>O):t.onTriggerEnter(n);break;case(c&&T>_):t.onTriggerLeave(n);break;case(s&&u&&T<_):t.onTriggerEnter(n,"EnterBack");break;case(c&&P<O):t.onTriggerLeave(n,"hasLeftBack");break;default:k=!1;break}return k},this.parseRootMargin=function(n){var i=n||"0px",a=kt(i);return a[1]=a[1]||a[0],a[2]=a[2]||a[0],a[3]=a[3]||a[1],a},this.expandRectByRootMargin=function(n,i){var a=t.parseRootMargin(i).map(function(c,s){return c.unit==="px"?c.value:c.value*(s%2?n.width:n.height)/100}),o={top:n.top-a[0],right:n.right+a[1],bottom:n.bottom+a[2],left:n.left-a[3],width:0,height:0};return o.width=o.right-o.left,o.height=o.bottom-o.top,o},this.getRootRect=function(n){var i;if(t._it._root&&!p.doc(t._it._root))return i=t._it._root.getBoundingClientRect(),t.expandRectByRootMargin(i,n);var a=p.doc(t._it._root)?t._it._root:document,o=a.documentElement,c=a.body;return i={top:0,left:0,right:o.clientWidth||c.clientWidth,width:o.clientWidth||c.clientWidth,bottom:o.clientHeight||c.clientHeight,height:o.clientHeight||c.clientHeight},t.expandRectByRootMargin(i,n)}}},{key:"kill",value:function(){this._it=void 0}}]),e}();function K(e){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},K(e)}function Z(e){return _e(e)||be(e)||lt(e)||ye()}function ye(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function be(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _e(e){if(Array.isArray(e))return ut(e)}function Rt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function z(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Rt(Object(t),!0).forEach(function(n){q(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Lt(e,r){return Pe(e)||Oe(e,r)||lt(e,r)||Se()}function Se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oe(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,a,o,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=a.call(t)).done)&&(c.push(n.value),c.length!==r);s=!0);}catch(u){l=!0,i=u}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return c}}function Pe(e){if(Array.isArray(e))return e}function Te(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=lt(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,c;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,c=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw c}}}}function lt(e,r){if(!!e){if(typeof e=="string")return ut(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ut(e,r)}}function ut(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ke(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mt(n.key),n)}}function we(e,r,t){return r&&jt(e.prototype,r),t&&jt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e,r,t){return r=Mt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mt(e){var r=xe(e,"string");return K(r)==="symbol"?r:String(r)}function xe(e,r){if(K(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(K(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ct=[],B=[],Bt=0,H=function(){function e(r){var t=this;ke(this,e),q(this,"_rAFCallback",function(){t.triggers.forEach(function(n){var i=t._utils.getTriggerStates(n,"onScroll");for(var a in i){var o=a;i[o]&&i[o](n)}})}),q(this,"_onScrollHandler",function(){return t._rAFID=requestAnimationFrame(t._rAFCallback)}),q(this,"_observerCallback",function(n,i){var a=t._utils.dirProps(),o=a.ref,c=a.refOpposite,s=a.length,l=Te(n),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,g=f.target,d=f.boundingClientRect,v=f.isIntersecting;t.rootBounds=f.rootBounds||t._utils.getRootRect(i.rootMargin);var h=t.rootBounds,y=h[s],m=t._utils.getTriggerData(g),S=m.enter,b=m.leave,O=t._utils.getTriggerStates(g),_=O.hasEnteredFromOneSide,P=O.onScroll.backup,T=t._utils.getPositions(d,h,{enter:S,leave:b,ref:o,refOpposite:c,length:s}),k=Lt(T,4),w=k[0],A=k[1],C=k[2],R=k[3],F=d[s]>=y,$=!!P;switch(!0){case t._states.oCbFirstInvoke:switch(!0){case(!v&&R>A):t._utils.onTriggerEnter(g),t._utils.onTriggerLeave(g);break;case v:switch(!0){case(C>w&&R<A):t._utils.onTriggerEnter(g);break;case R>A:t._utils.onTriggerEnter(g),t._utils.onTriggerLeave(g);break}F&&t._utils.setTriggerScrollStates(g,"backup",t._utils.toggleActions);break}break;case!v:switch($&&t._utils.setTriggerScrollStates(g,"backup"),!0){case(_&&R>A):t._utils.onTriggerLeave(g);break;case(_&&C<w):t._utils.onTriggerLeave(g,"onLeaveBack");break}break;case(v&&!$):t._utils.toggleActions(g),F&&t._utils.setTriggerScrollStates(g,"backup",t._utils.toggleActions);break}}}catch(J){l.e(J)}finally{l.f()}t._states.oCbFirstInvoke=!1}),this._userOptions=r||{},this.triggers=[],this._triggersData=new WeakMap,this._utils=new Dt(this),this.id=Bt,Bt++,B.push(this),this.animation=void 0,this.toggleClass=void 0,this.guides=void 0,this._states={oCbFirstInvoke:!0,runningScrollCbs:0},this._setInstance()}return we(e,[{key:"_setPlugin",value:function(t){var n=e.getRegisteredPlugins(),i=n.find(function(a){return t===a.pluginName});i&&(this[t]=new i(this))}},{key:"_addResizeListener",value:function(){var t=this;this._removeResizeListener(),this._onResizeHandler=function(){return t.update()},this._utils.getRoot("resize").addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){this._utils.getRoot("resize").removeEventListener("resize",this._onResizeHandler,!1)}},{key:"addScrollListener",value:function(t){this._utils.getRoot("scroll").addEventListener("scroll",t,!1)}},{key:"removeScrollListener",value:function(t){this._utils.getRoot("scroll").removeEventListener("scroll",t,!1)}},{key:"_createInstance",value:function(){this._rootMargin=this._utils.setRootMargin(this._positionsData.rEP,this._positionsData.rLP),this._threshold=this._utils.setThreshold(),this.observer=new IntersectionObserver(this._observerCallback,{root:this._root,rootMargin:this._rootMargin,threshold:this._threshold}),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin)}},{key:"_setInstance",value:function(){this._defaultOptions=vt,this._options=x(this._defaultOptions,this._userOptions);var t=this._options,n=t.axis,i=t.name,a=t.root,o=t.defaults,c=o.enter,s=o.leave,l=t.onScroll,u=t.rootEnter,f=t.rootLeave,g=t.guides;return this.axis=n,this.name=i,this._root=this._utils.parseRoot(a),this._positionsData=this._utils.parsePositions(c,s,u,f),this.customScrollHandler=l,this._createInstance(),this._addResizeListener(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),g&&(this._setPlugin("guides"),this.guides.init(g)),this}},{key:"add",value:function(t,n){var i=this,a=this._utils.parseQuery(t),o=this._options.defaults,c=n||{},s=function(P){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"tEP";return P?i._utils.setPositionData(P).normal:i._positionsData[T].normal},l=function(P){return!i[P]&&i._setPlugin(P),i[P]},u=x(o,c),f=u.enter,g=u.leave,d=u.toggleClass,v=u.animation,h=z(z({},u),{},{enter:s(f),leave:s(g,"tLP"),toggleClass:d?l("toggleClass").parse(d):void 0,animation:v?l("animation").parse(v):void 0,states:mt}),y=U(h.enter,h.leave),m=Lt(y,2),S=m[0],b=m[1];h.minPosition=S,h.maxPosition=b,this.triggers=Z(new Set([].concat(Z(this.triggers),Z(a))));var O=!1;return[h.enter,h.leave].forEach(function(_){return!i._threshold.some(function(P){return _===P})&&(O=!0)}),O?(a.forEach(function(_){return i._utils.setTriggerData(_,z(z({},h),{},{states:at(h.states)}))}),this.update()):a.forEach(function(_){i._utils.setTriggerData(_,z(z({},h),{},{states:at(h.states)})),i.observer.observe(_)}),this.guides&&this.guides.update(),this}},{key:"remove",value:function(t){var n=this,i=this._utils.parseQuery(t);i.forEach(function(o){n._utils.deleteTriggerData(o),n.observer.unobserve(o)});var a=this.triggers.filter(function(o){var c=i.some(function(s){return o===s});return!c});return this.triggers=a,this.guides&&this.guides.update(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=void 0}},{key:"update",value:function(){var t=this;this._disconnect(),this._createInstance(),this.triggers.forEach(function(n){return t.observer&&t.observer.observe(n)}),this.guides&&this.guides.update()}},{key:"kill",value:function(){this.killed=!0,this._disconnect(),this.removeScrollListener(this._onScrollHandler),this.removeScrollListener(this.customScrollHandler),this._removeResizeListener(),this._rAFID&&cancelAnimationFrame(this._rAFID),this.guides&&this.guides.kill(),this.toggleClass&&this.toggleClass.kill(),this.animation&&this.animation.kill(),this.triggers=[],this.animation=this.toggleClass=this.guides=this._utils=void 0;var t=B.indexOf(this);~t&&B.splice(t,1)}}]),e}();H.getInstances=function(){return B};H.getInstanceById=function(e){return B.find(function(r){return r.id===e})};H.update=function(){return B.forEach(function(e){return e.update()})};H.kill=function(){return B.forEach(function(e){return e.kill()})};H.registerPlugins=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ct.push.apply(ct,Z(e))};H.getRegisteredPlugins=function(){return ct};var ft=H;function Q(e){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Q(e)}function Ee(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Ae(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,c;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,c=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw c}}}}function Ae(e,r){if(!!e){if(typeof e=="string")return Ht(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ht(e,r)}}function Ht(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ce(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vt(n.key),n)}}function Ie(e,r,t){return r&&Wt(e.prototype,r),t&&Wt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function De(e,r,t){return r=Vt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Vt(e){var r=Re(e,"string");return Q(r)==="symbol"?r:String(r)}function Re(e,r){if(Q(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Q(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var zt=function(){function e(r){var t=this;return Ce(this,e),De(this,"kill",function(){t._it=void 0,t._utils=void 0}),this._registerIntersectionTrigger(r),this}return Ie(e,[{key:"_registerIntersectionTrigger",value:function(t){this._it=t,this._utils=this._it._utils}},{key:"toggle",value:function(t,n,i){var a=Ee(n),o;try{var c=function(){var u=o.value,f=u.targets,g=u.toggleActions,d=u.classNames,v=g[i];if(v==="none")return"continue";d.forEach(function(h){if(!f.length)return t.classList[v](h);f.forEach(function(y){return y.classList[v](h)})})};for(a.s();!(o=a.n()).done;)var s=c()}catch(l){a.e(l)}finally{a.f()}}},{key:"parse",value:function(t){var n=this,i=[];return p.string(t)&&(i=[x(rt,{classNames:t})]),p.array(t)&&(i=t.map(function(a){return x(rt,a)})),i.map(function(a){return{targets:n._utils.parseQuery(a.targets,"targets"),toggleActions:N(a.toggleActions),classNames:N(a.classNames)}})}}]),e}();zt.pluginName="toggleClass";var Ft=zt;function X(e){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},X(e)}function Le(e){return He(e)||Be(e)||Me(e)||je()}function je(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Me(e,r){if(!!e){if(typeof e=="string")return gt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gt(e,r)}}function Be(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function He(e){if(Array.isArray(e))return gt(e)}function gt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function We(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $t(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nt(n.key),n)}}function Ve(e,r,t){return r&&$t(e.prototype,r),t&&$t(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e,r,t){return r=Nt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Nt(e){var r=ze(e,"string");return X(r)==="symbol"?r:String(r)}function ze(e,r){if(X(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(X(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ut=function(){function e(r){var t=this;return We(this,e),L(this,"removeGuides",function(){t._guides.forEach(function(n){return n&&n.remove()}),t._guides=[]}),L(this,"update",function(){t.removeGuides(),t.createGuides()}),L(this,"kill",function(){t._removeResizeListener(),t.removeGuides(),t._it.guides=void 0,t._it=void 0,t._utils=void 0}),this._registerIntersectionTrigger(r),this}return Ve(e,[{key:"_registerIntersectionTrigger",value:function(t){this._it=t,this._utils=this._it._utils}},{key:"init",value:function(t){this.options=p.object(t)?t:{},this._guides=[],this._scrollBarWidth=wt(),this.isVer=this._utils.isVertical(),this.rootEl=this._utils.getRoot(),this.scrollWidth={x:p.scrollable(this.rootEl,"x")?this._scrollBarWidth:0,y:p.scrollable(this.rootEl,"y")?this._scrollBarWidth:0},this._addResizeListener(),this.update()}},{key:"_addResizeListener",value:function(){this._onResizeHandler=this.update,addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){removeEventListener("resize",this._onResizeHandler,!1)}},{key:"_guideCreation",value:function(t,n){var i=this,a=t.enter,o=t.position,c=t.isHigherValue,s=t.text,l=t.color,u=t.backgroundColor,f=document.createElement("div");V(f,L({width:this.isVer?"100px":"1px",height:this.isVer?"1px":"100px",position:"absolute",zIndex:"9999",backgroundColor:u},this.isVer?"top":"left",o.toString()));var g=function(){var m,S={dir:i.isVer?c?"bottom":"top":"bottom",value:i.isVer?"5px":"25px"},b={dir:i.isVer||c?"right":"left",value:i.isVer?n||i._it._root?"0px":"25px":"5px"},O=document.createElement("span");O.innerText=s,f.appendChild(O),V(O,(m={position:"absolute",color:l,fontSize:"16px",fontWeight:"bold",backgroundColor:u,padding:"5px",width:"max-content"},L(m,S.dir,S.value),L(m,b.dir,b.value),m))};g(),this._guides.push(f),document.body.append(f);var d=function(m,S){var b=Le(f.style.transform.matchAll(/(-?\d*\.?\d+)\s*(px|%)?/g)),O=b.length?b[0][1]:"0",_=b.length>1?b[1][1]:"0",P=m+parseFloat(O),T=S+parseFloat(_);V(f,{transform:"translate(".concat(P,"px,").concat(T,"px)")})},v=function(){var m=f.getBoundingClientRect(),S=i.rootEl.getBoundingClientRect(),b=i._utils.getRootRect(i._it.observer.rootMargin),O={x:c?i.scrollWidth.x:0,y:c?i.scrollWidth.y:0},_={x:0,y:0};_=i.isVer?a?{x:S.right-m.left-i.scrollWidth.y,y:b.bottom-m.bottom-O.x}:{x:S.right-m.left-i.scrollWidth.y,y:b.top-m.top-O.x}:a?{x:b.right-m.right,y:S.bottom-m.top-i.scrollWidth.x}:{x:b.left-m.left,y:S.bottom-m.top-i.scrollWidth.x},n&&(b=n.getBoundingClientRect(),_=i.isVer?{x:b.right-m.right,y:b.top+o*b.height-m.top}:{x:b.left+o*b.width-m.left,y:b.top-m.top}),d(_.x,_.y)};if(!n){var h;V(f,(h={},L(h,this.isVer?"width":"height",this._it._root?"100px":this.isVer?"100vw":"100vh"),L(h,"position",this._it._root?"absolute":"fixed"),h)),!this._it._root&&!this.isVer&&V(f,{top:"0px"}),this._it._root&&v();return}v(),Tt(n).forEach(function(y){!p.scrollable(y)||y.addEventListener("scroll",v,!1)})}},{key:"createGuides",value:function(){var t=this,n=x(yt,this.options),i=this._it.name,a=this._it._positionsData.rEP.value,o=this._it._positionsData.rLP.value;this._guideCreation({enter:!0,position:"".concat(a).concat(this._it._positionsData.rEP.unit),isHigherValue:U(a,o)[1]===a,text:"".concat(i," ").concat(n.enter.root.text),color:n.enter.root.color,backgroundColor:n.enter.root.backgroundColor}),this._guideCreation({enter:!1,position:"".concat(o).concat(this._it._positionsData.rLP.unit),isHigherValue:U(a,o)[1]===o,text:"".concat(i," ").concat(n.leave.root.text),color:n.leave.root.color,backgroundColor:n.leave.root.backgroundColor}),this._it.triggers.forEach(function(c){var s=t._utils.getTriggerData(c),l=s.enter,u=s.leave,f=s.maxPosition;t._guideCreation({enter:!0,position:l,isHigherValue:l===f,text:"".concat(i," ").concat(n.enter.trigger.text),color:n.enter.trigger.color,backgroundColor:n.enter.trigger.backgroundColor},c),t._guideCreation({enter:!1,position:u,isHigherValue:u===f,text:"".concat(i," ").concat(n.leave.trigger.text),color:n.leave.trigger.color,backgroundColor:n.leave.trigger.backgroundColor},c)})}}]),e}();Ut.pluginName="guides";var Gt=Ut;function Y(e){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Y(e)}function Fe(e){return Ge(e)||Ue(e)||Ne(e)||$e()}function $e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,r){if(!!e){if(typeof e=="string")return ht(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ht(e,r)}}function Ue(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ge(e){if(Array.isArray(e))return ht(e)}function ht(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Kt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Kt(Object(t),!0).forEach(function(n){Ke(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ke(e,r,t){return r=Xt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xt(n.key),n)}}function Xe(e,r,t){return r&&Qt(e.prototype,r),t&&Qt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xt(e){var r=Ye(e,"string");return Y(r)==="symbol"?r:String(r)}function Ye(e,r){if(Y(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Y(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Yt=function(){function e(r){return Qe(this,e),this._registerIntersectionTrigger(r),this.setUtils(),this}return Xe(e,[{key:"_registerIntersectionTrigger",value:function(t){this._it=t,this._utils=this._it._utils}},{key:"setUtils",value:function(){var t=this,n=this._utils.dirProps(),i=n.ref,a=n.refOpposite,o=n.length,c=this._utils.isVertical(),s=this._utils.getRoot(),l=new WeakMap;this.seekSmoothly=function(u,f,g,d){if(!t.killed){var v=u.currentTime,h=d?Math.min(v+g,f):Math.max(v-g,f);u.seek(h);var y=d?h>=f:h<=f;if(!y){var m=requestAnimationFrame(function(){return t.seekSmoothly(u,f,g,d)});l.set(u,m)}}},this.seek=function(u,f,g){if(p.num(g)){var d=u.currentTime,v=f>d,h=l.has(u)&&l.get(u)||0;cancelAnimationFrame(h),t.seekSmoothly(u,f,g,v);return}u.seek(f)},this.startSnaping=function(u){var f=u.snapDistance,g=u.currentDis,d=u.snap,v=u.step,h=u.toRef,y=h===void 0?!1:h;if(!t.killed){var m=y?-1:1;if(c?s.scrollBy({top:v*m,behavior:"instant"}):s.scrollBy({left:v*m,behavior:"instant"}),g+=v,g>=f){g=0,d.onComplete(t._it);return}requestAnimationFrame(function(){return t.startSnaping({snapDistance:f,currentDis:g,snap:d,step:v,toRef:y})})}},this.parseSnap=function(u,f){var g=u.instance,d=u.snap,v=function(w){for(var A=[],C=0;C<=1;)A.push(St(C,0,1)),C=C+w;return A.map(function(R){return Math.round(R*g.duration)})},h=function(){return p.inObject(g,"marks")?g.marks.map(function(w){return w.time}):I('"marks" feature is not available in the provided anime instance')},y=function(w){return x(pt,w)},m=function(w){return p.num(w)?v(w):h()},S={},b={};if(f){var O=d,_=O.originalToParam;_&&(S=E(E({},d),{},{to:m(_)}))}else{p.boolean(d)&&(b=y({to:"marks"})),(p.array(d)||p.num(d))&&(b=y({to:d})),p.object(d)&&(b=y(d)),S=b;var P=b,T=P.to;p.string(T)&&!!T&&(S=E(E({},b),{},{originalToParam:"marks",to:h()})),p.num(T)&&!!T&&(S=E(E({},b),{},{originalToParam:T,to:v(T)}))}return S},this.getTIL=function(u,f,g){var d=u.getBoundingClientRect();return d[o]-(f*d[o]+(1-g)*d[o])},this.getSnapStep=function(u){return p.object(u)?Math.round(Math.max(u.speed*17/1e3,1)):0},this.animateHandler=function(u,f){var g=f.enter,d=f.leave,v=f.tIL,h=f.instance,y=f.snap,m=f.step,S=f.link;if(!t.killed){var b=u.getBoundingClientRect(),O=t._utils.getTriggerStates(u,"ids");t._it.rootBounds=t._utils.getRootRect(t._it.observer.rootMargin);var _=t._it.rootBounds,P=v+(t._it._isREPGreater?_[o]:-_[o]),T=h.duration,k=0,w=t._utils.getPositions(b,_,{enter:g,leave:d,ref:i,refOpposite:a,length:o}),A=w[2]-w[0];if(A>0&&(k=T*A/P,t.seek(h,k,S)),!p.boolean(y)){var C=0;clearTimeout(O.snapTimeOutId);var R=setTimeout(function(){var F=y.to.map(function(et){return k-et}),$=F.map(function(et){return Math.abs(et)}),J=Math.min.apply(Math,Fe($)),Zt=F[$.indexOf(J)],tt=P*J/T,dt={snapDistance:tt,currentDis:C,snap:y,step:m};if(!(tt>=y.maxDistance||tt<m)){if(y.onStart(t._it),Zt<0){t.startSnaping(dt);return}t.startSnaping(E(E({},dt),{},{toRef:!0}))}},y.after*1e3);t._utils.setTriggerStates(u,{ids:E(E({},O),{},{snapTimeOutId:R})})}}}}},{key:"animate",value:function(t,n,i){var a=this,o=n.instance,c=n.toggleActions,s=n.link,l=n.snap;if(s){var u=this._utils.getTriggerStates(t,"onScroll"),f=u.animate,g=this._utils.getTriggerStates(t,"ids"),d=this._utils.getTriggerData(t),v=d.enter,h=d.leave,y=d.minPosition,m=d.maxPosition,S=this.getTIL(t,y,m),b=this.getSnapStep(l),O={enter:v,leave:h,tIL:S,instance:o,snap:l,link:p.boolean(s)?s:Math.abs(s),step:b};switch(i){case 0:case 2:if(this._it._states.oCbFirstInvoke&&this.animateHandler(t,O),f)break;this._utils.setTriggerScrollStates(t,"animate",function(){return a.animateHandler(t,O)});break;case 1:case 3:clearTimeout(g.snapTimeOutId),this._utils.setTriggerScrollStates(t,"animate"),this.seek(o,i===1?o.duration:0,s);break}return}var _=c[i],P=o.currentTime/o.duration;if(_!=="none")switch(_){case"play":o.reversed&&(o.reverse(),o.completed=!1),P<1&&o[_]();break;case"resume":P<1&&P>0&&o.play();break;case"restart":case"reset":o.reversed&&o.reverse(),o[_]();break;case"pause":o[_]();break;case"complete":o.pause(),o.seek(o.reversed?0:o.duration);break;case"reverse":!o.reversed&&o[_](),o.paused&&o.play();break;case"kill":p.inObject(o,"kill")&&o.kill(),this._utils.setTriggerData(t,{animation:void 0},!0);break}}},{key:"parse",value:function(t,n){var i={},a={};if(n){var o=t,c=o.instance,s=o.snap;!p.boolean(s)&&(a=E(E({},t),{},{snap:this.parseSnap({instance:c,snap:s},!0)}))}else{if(!p.object(t))return I('"animation" parameter is NOT valid.');if(p.animeInstance(t))i=x(nt,{instance:t});else if(t.instance&&p.animeInstance(t.instance))i=x(nt,t);else return I('"instance" parameter must be anime instance.');var l=i,u=l.toggleActions,f=l.snap,g=l.instance,d=l.link;a={instance:g,toggleActions:N(u),snap:!!f&&this.parseSnap({instance:g,snap:f}),link:d}}return a.instance.reset(),a}},{key:"update",value:function(){var t=this;this._it.triggers.forEach(function(n){var i=t._utils.getTriggerData(n),a=i.enter,o=i.leave,c=i.minPosition,s=i.maxPosition,l=i.animation;l=l&&t.parse(l,!0),t._utils.setTriggerData(n,{animation:l},!0);var u=t._utils.getTriggerStates(n,"onScroll"),f=u.animate;if(f&&!!l){var g=l,d=g.instance,v=g.snap,h=g.link,y=t.getTIL(n,c,s),m=t.getSnapStep(v);t._utils.setTriggerScrollStates(n,"animate"),t._utils.setTriggerScrollStates(n,"animate",function(){return t.animateHandler(n,{enter:a,leave:o,instance:d,snap:v,link:h,tIL:y,step:m})})}})}},{key:"kill",value:function(){this.killed=!0,this._it=this._utils=void 0}}]),e}();Yt.pluginName="animation";var Jt=Yt;var Je=[Ft,Gt,Jt];ft.registerPlugins(Je);var br=ft;export{br as default};
//# sourceMappingURL=intersectiontrigger-bundle.esm.browser.min.js.map
