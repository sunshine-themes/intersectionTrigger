/*
* IntersectionTrigger v1.0.0 
* IntersectionTrigger is a robust JavaScript toolset that turns developers into animation superheroes. Build high-performance animations that work in **every** major browser.
* https://sunshine-themes.com
*
* Copyright 2022, Sunshine. All rights reserved.
* @license: Released under the Standard 'no charge' license: https://sunshine-themes.com/standard-license License.
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: August 16, 2022
*/

var G={enter:{trigger:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Enter"},root:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Root Enter"}},leave:{trigger:{backgroundColor:"#ff0000",color:"#000",text:"Leave"},root:{backgroundColor:"#ff0000",color:"#000",text:"Root Leave"}}};function $(e,t){return Y(e)||X(e,t)||U(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(e,t){if(!!e){if(typeof e=="string")return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}}function I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],l=!0,m=!1,a,c;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));l=!0);}catch(g){m=!0,c=g}finally{try{!l&&r.return!=null&&r.return()}finally{if(m)throw c}}return n}}function Y(e){if(Array.isArray(e))return e}function E(e){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(e)}var d={function:function(t){return typeof t=="function"},string:function(t){return typeof t=="string"},boolean:function(t){return typeof t=="boolean"},object:function(t){return t&&E(t)==="object"&&!(t instanceof Array)},inObject:function(t,r){return d.object(t)&&r in t},num:function(t){return typeof t=="number"},percent:function(t){return t&&t.includes("%")},pixel:function(t){return t&&t.includes("px")},array:function(t){return t instanceof Array},element:function(t){return t instanceof HTMLElement||t instanceof Element},doc:function(t){return t&&t.nodeType===9},scrollable:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return r?r==="y"?t.scrollHeight>t.clientHeight:t.scrollWidth>t.clientWidth:t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth},anime:function(t){return d.object(t)&&t.hasOwnProperty("animatables")&&!t.hasOwnProperty("add")},tl:function(t){return d.object(t)&&t.hasOwnProperty("add")&&d.function(t.add)},animeInstance:function(t){return d.anime(t)||d.tl(t)}};var L=function(t){var r=[];for(t=t.parentNode;t&&t!==document&&t!==document.documentElement;t=t.parentNode)r.push(t);return r},O=function e(t,r){var n=t,l=r;return Object.entries(n).forEach(function(m){var a=$(m,2),c=a[0],g=a[1];d.object(g)?e(g,l[c]=l[c]||{}):c in l||(l[c]=g)}),l};function q(e){return Z(e)||Q(e)||K(e)||J()}function J(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(e,t){if(!!e){if(typeof e=="string")return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}}function Q(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z(e){if(Array.isArray(e))return C(e)}function C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function et(e,t,r){return t&&j(e.prototype,t),r&&j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(){function e(t){var r=this;return tt(this,e),T(this,"removeGuides",function(){r._guides.forEach(function(n){return n&&n.remove()}),r._guides=[]}),T(this,"update",function(){r.removeGuides(),r.createGuides()}),T(this,"kill",function(){r._removeResizeListener(),r.removeGuides(),r._it.guides=null,r._it=null,r._utils=null}),this._registerIntersectionTrigger(t),this}return et(e,[{key:"_registerIntersectionTrigger",value:function(r){this._it=r,this._utils=this._it._utils}},{key:"init",value:function(r){this.options=d.object(r)?r:{},this._guides=[],this._addResizeListener(),this.update()}},{key:"_addResizeListener",value:function(){this._onResizeHandler=this.update,this._utils.getRoot().addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){this._utils.getRoot().removeEventListener("resize",this._onResizeHandler,!1)}},{key:"createGuides",value:function(){var r=this,n=this._utils.isVirtical(),l=function(s){var h=s.triggerGuide,_=s.trigger,x=s.enter,k=s.position,B=s.text,D=s.color,S=s.backgroundColor,i=function(p,v,o){return p.style[v]=o},u=document.createElement("div"),H=n?"100px":"1px",M=n?"1px":"100px",V=n?"top":"left";i(u,"width",H),i(u,"height",M),i(u,"position","absolute"),i(u,"zIndex","9999"),i(u,"backgroundColor",S),i(u,V,k);var W=function(){var p={dir:n?x?"bottom":"top":"bottom",value:n?"5px":"25px"},v={dir:n||x?"right":"left",value:n?h||r._it._root?"0px":"25px":"5px"},o=document.createElement("span");o.innerText=B,u.appendChild(o),i(o,"position","absolute"),i(o,"color",D),i(o,"fontSize","16px"),i(o,"fontWeight","bold"),i(o,"backgroundColor",S),i(o,"padding","5px"),i(o,"width","max-content"),i(o,p.dir,p.value),i(o,v.dir,v.value)};W(),r._guides.push(u),document.body.append(u);var F=function(p,v){var o=q(u.style.transform.matchAll(/(-?\d*\.?\d+)\s*(px|%)?/g)),f=o.length?o[0][1]:0,b=o.length>1?o[1][1]:0,A=parseFloat(p)+parseFloat(f),w=parseFloat(v)+parseFloat(b);i(u,"transform","translate(".concat(A,"px,").concat(w,"px)"))},P=function(){var p,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,o=u.getBoundingClientRect(),f=v?_.getBoundingClientRect():r._utils.getRootRect(r._it.observer.rootMargin),b=((p=r._it._root)!==null&&p!==void 0?p:document.body).getBoundingClientRect(),A=n?{x:f.right-o.right,y:f.top+k*f.height-o.top}:{x:f.left+k*f.width-o.left,y:f.top-o.top},w=n?x?{x:b.right-o.left,y:f.bottom-o.bottom}:{x:b.right-o.left,y:f.top-o.top}:x?{x:f.right-o.right,y:b.bottom-o.top}:{x:f.left-o.left,y:b.bottom-o.top},R=v?A:w;F(R.x,R.y)};if(!h){i(u,n?"width":"height",r._it._isViewport?n?"100vw":"100vh":"100px"),i(u,"position",r._it._isViewport?"fixed":"absolute"),r._it._isViewport&&!n&&i(u,"top","0px"),r._it._isViewport||P(!1);return}P(),L(_).forEach(function(y){!d.scrollable(y)||y.addEventListener("scroll",function(){return P()},!1)})},m=function(s){var h=G;return d.object(s)&&(h=O(h,s)),h},a=m(this.options),c=this._it.name;l({triggerGuide:!1,enter:!0,position:"".concat(this._it._positionsData.rEP.value).concat(this._it._positionsData.rEP.unit),text:"".concat(c," ").concat(a.enter.root.text),color:a.enter.root.color,backgroundColor:a.enter.root.backgroundColor}),l({triggerGuide:!1,enter:!1,position:"".concat(this._it._positionsData.rLP.value).concat(this._it._positionsData.rLP.unit),text:"".concat(c," ").concat(a.leave.root.text),color:a.leave.root.color,backgroundColor:a.leave.root.backgroundColor}),this._it.triggers.forEach(function(g){var s=r._utils.getTriggerData(g),h=s.enter,_=s.leave;l({triggerGuide:!0,trigger:g,enter:!0,position:h,text:"".concat(c," ").concat(a.enter.trigger.text),color:a.enter.trigger.color,backgroundColor:a.enter.trigger.backgroundColor}),l({triggerGuide:!0,trigger:g,enter:!1,position:_,text:"".concat(c," ").concat(a.leave.trigger.text),color:a.leave.trigger.color,backgroundColor:a.leave.trigger.backgroundColor})})}}]),e}();z.pluginName="guides";var at=z;export{at as default};
//# sourceMappingURL=guides.esm.browser.min.js.map
