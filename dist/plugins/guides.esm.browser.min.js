/*
* IntersectionTrigger v1.0.3 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2022, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: December 29, 2022
*/

var T={enter:{trigger:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Enter"},root:{backgroundColor:"rgb(0, 149, 0)",color:"#000",text:"Root Enter"}},leave:{trigger:{backgroundColor:"#ff0000",color:"#000",text:"Leave"},root:{backgroundColor:"#ff0000",color:"#000",text:"Root Leave"}}};function H(e,t){return G(e)||M(e,t)||D(e,t)||z()}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){if(!!e){if(typeof e=="string")return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}}function V(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,c=!1,s,i;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));o=!0);}catch(f){c=!0,i=f}finally{try{!o&&r.return!=null&&r.return()}finally{if(c)throw i}}return n}}function G(e){if(Array.isArray(e))return e}function P(e){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(e)}var u={function:function(t){return typeof t=="function"},string:function(t){return typeof t=="string"},boolean:function(t){return typeof t=="boolean"},object:function(t){return t&&P(t)==="object"&&!(t instanceof Array)},inObject:function(t,r){return u.object(t)&&r in t},num:function(t){return typeof t=="number"},percent:function(t){return t&&t.includes("%")},pixel:function(t){return t&&t.includes("px")},array:function(t){return t instanceof Array},element:function(t){return t instanceof HTMLElement||t instanceof Element},doc:function(t){return t&&t.nodeType===9},scrollable:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return r?r==="y"?t.scrollHeight>t.clientHeight:t.scrollWidth>t.clientWidth:t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth},anime:function(t){return u.object(t)&&t.hasOwnProperty("animatables")&&!t.hasOwnProperty("add")},tl:function(t){return u.object(t)&&t.hasOwnProperty("add")&&u.function(t.add)},animeInstance:function(t){return u.anime(t)||u.tl(t)}};var W=function(t){var r=[];for(t=t.parentNode;t&&t!==document&&t!==document.documentElement;t=t.parentNode)r.push(t);return r},L=function e(t,r){var n=t,o=r;return Object.entries(n).forEach(function(c){var s=H(c,2),i=s[0],f=s[1];u.object(f)?e(f,o[i]=o[i]||{}):i in o||(o[i]=f)}),o};var w=function(t,r){return[t,r].sort(function(n,o){return n-o})};var y=function(t,r){for(var n in r)t.style[n]=r[n]},I=function(){var t=document.createElement("div");t.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",document.body.appendChild(t);var r=t.offsetWidth-t.clientWidth;return t.remove(),r};function F(e){return X(e)||U(e)||N(e)||$()}function $(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(!!e){if(typeof e=="string")return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}}function U(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X(e){if(Array.isArray(e))return A(e)}function A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t,r){return t&&O(e.prototype,t),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=function(){function e(t){var r=this;return Y(this,e),v(this,"removeGuides",function(){r._guides.forEach(function(n){return n&&n.remove()}),r._guides=[]}),v(this,"update",function(){r.removeGuides(),r.createGuides()}),v(this,"kill",function(){r._removeResizeListener(),r.removeGuides(),r._it.guides=null,r._it=null,r._utils=null}),this._registerIntersectionTrigger(t),this}return q(e,[{key:"_registerIntersectionTrigger",value:function(r){this._it=r,this._utils=this._it._utils}},{key:"init",value:function(r){var n;this.options=u.object(r)?r:{},this._guides=[],this._scrollBarWidth=I(),this.isVer=this._utils.isVertical(),this.rootEl=(n=this._it._root)!==null&&n!==void 0?n:document.body,this.scrollWidth={x:u.scrollable(this.rootEl,"x")?this._scrollBarWidth:0,y:u.scrollable(this.rootEl,"y")?this._scrollBarWidth:0},this._addResizeListener(),this.update()}},{key:"_addResizeListener",value:function(){this._onResizeHandler=this.update,this._utils.getRoot().addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){this._utils.getRoot().removeEventListener("resize",this._onResizeHandler,!1)}},{key:"_guideCreation",value:function(r){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=r.enter,s=r.position,i=r.isHigherValue,f=r.text,m=r.color,p=r.backgroundColor,g=document.createElement("div");y(g,v({width:this.isVer?"100px":"1px",height:this.isVer?"1px":"100px",position:"absolute",zIndex:"9999",backgroundColor:p},this.isVer?"top":"left",s));var B=function(){var h,a={dir:n.isVer?i?"bottom":"top":"bottom",value:n.isVer?"5px":"25px"},d={dir:n.isVer||i?"right":"left",value:n.isVer?o||n._it._root?"0px":"25px":"5px"},l=document.createElement("span");l.innerText=f,g.appendChild(l),y(l,(h={position:"absolute",color:m,fontSize:"16px",fontWeight:"bold",backgroundColor:p,padding:"5px",width:"max-content"},v(h,a.dir,a.value),v(h,d.dir,d.value),h))};B(),this._guides.push(g),document.body.append(g);var j=function(h,a){var d=F(g.style.transform.matchAll(/(-?\d*\.?\d+)\s*(px|%)?/g)),l=d.length?d[0][1]:0,x=d.length>1?d[1][1]:0,k=parseFloat(h)+parseFloat(l),E=parseFloat(a)+parseFloat(x);y(g,{transform:"translate(".concat(k,"px,").concat(E,"px)")})},C=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=g.getBoundingClientRect(),d=n.rootEl.getBoundingClientRect(),l=n._utils.getRootRect(n._it.observer.rootMargin),x={x:i?n.scrollWidth.x:0,y:i?n.scrollWidth.y:0},k=n.isVer?c?{x:d.right-a.left-n.scrollWidth.y,y:l.bottom-a.bottom-x.x}:{x:d.right-a.left-n.scrollWidth.y,y:l.top-a.top-x.x}:c?{x:l.right-a.right,y:d.bottom-a.top-n.scrollWidth.x}:{x:l.left-a.left,y:d.bottom-a.top-n.scrollWidth.x},E={};h&&(l=o.getBoundingClientRect(),E=n.isVer?{x:l.right-a.right,y:l.top+s*l.height-a.top}:{x:l.left+s*l.width-a.left,y:l.top-a.top});var S=h?E:k;j(S.x,S.y)};if(!o){var _;y(g,(_={},v(_,this.isVer?"width":"height",this._it._isViewport?this.isVer?"100vw":"100vh":"100px"),v(_,"position",this._it._isViewport?"fixed":"absolute"),_)),this._it._isViewport&&!this.isVer&&y(g,{top:"0px"}),this._it._isViewport||C(!1);return}C(),W(o).forEach(function(b){!u.scrollable(b)||b.addEventListener("scroll",C,!1)})}},{key:"createGuides",value:function(){var r=this,n=function(m){var p=T;return u.object(m)&&(p=L(p,m)),p},o=n(this.options),c=this._it.name,s=this._it._positionsData.rEP.value,i=this._it._positionsData.rLP.value;this._guideCreation({enter:!0,position:"".concat(s).concat(this._it._positionsData.rEP.unit),isHigherValue:w(s,i)[1]===s,text:"".concat(c," ").concat(o.enter.root.text),color:o.enter.root.color,backgroundColor:o.enter.root.backgroundColor}),this._guideCreation({enter:!1,position:"".concat(i).concat(this._it._positionsData.rLP.unit),isHigherValue:w(s,i)[1]===i,text:"".concat(c," ").concat(o.leave.root.text),color:o.leave.root.color,backgroundColor:o.leave.root.backgroundColor}),this._it.triggers.forEach(function(f){var m=r._utils.getTriggerData(f),p=m.enter,g=m.leave;r._guideCreation({enter:!0,position:p,text:"".concat(c," ").concat(o.enter.trigger.text),color:o.enter.trigger.color,backgroundColor:o.enter.trigger.backgroundColor},f),r._guideCreation({enter:!1,position:g,text:"".concat(c," ").concat(o.leave.trigger.text),color:o.leave.trigger.color,backgroundColor:o.leave.trigger.backgroundColor},f)})}}]),e}();R.pluginName="guides";var tt=R;export{tt as default};
//# sourceMappingURL=guides.esm.browser.min.js.map
