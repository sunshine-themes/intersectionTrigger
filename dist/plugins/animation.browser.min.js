/*
* IntersectionTrigger v1.0.0 
* IntersectionTrigger is a robust JavaScript toolset that turns developers into animation superheroes. Build high-performance animations that work in **every** major browser.
* https://sunshine-themes.com
*
* Copyright 2022, Sunshine. All rights reserved.
* @license: Released under the Standard 'no charge' license: https://sunshine-themes.com/standard-license License.
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: August 8, 2022
*/

var it_animation=(function(){var et=Object.defineProperty;var rt=function(r,t){for(var e in t)et(r,e,{get:t[e],enumerable:!0})};var St={};rt(St,{default:function(){return _t}});var F=function(){};var nt=["play","complete","reverse","complete"],W={to:null,after:1,speed:100,maxDistance:500,onStart:F,onComplete:F};var w={instance:null,toggleActions:nt,link:!1,snap:!1};function at(r,t){return ut(r)||st(r,t)||ot(r,t)||it()}function it(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ot(r,t){if(!!r){if(typeof r=="string")return $(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return $(r,t)}}function $(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function st(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n=[],i=!0,h=!1,a,v;try{for(e=e.call(r);!(i=(a=e.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(f){h=!0,v=f}finally{try{!i&&e.return!=null&&e.return()}finally{if(h)throw v}}return n}}function ut(r){if(Array.isArray(r))return r}function x(r){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(r)}var c={function:function(t){return typeof t=="function"},string:function(t){return typeof t=="string"},boolean:function(t){return typeof t=="boolean"},object:function(t){return t&&x(t)==="object"&&!(t instanceof Array)},inObject:function(t,e){return c.object(t)&&e in t},num:function(t){return typeof t=="number"},percent:function(t){return t&&t.includes("%")},pixel:function(t){return t&&t.includes("px")},array:function(t){return t instanceof Array},element:function(t){return t instanceof HTMLElement||t instanceof Element},doc:function(t){return t&&t.nodeType===9},scrollable:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e?e==="y"?t.scrollHeight>t.clientHeight:t.scrollWidth>t.clientWidth:t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth},anime:function(t){return c.object(t)&&t.hasOwnProperty("animatables")&&!t.hasOwnProperty("add")},tl:function(t){return c.object(t)&&t.hasOwnProperty("add")&&c.function(t.add)},animeInstance:function(t){return c.anime(t)||c.tl(t)}},N=function(t,e,n){return Math.min(Math.max(t,e),n)},V=function(t){return t.split(/\s+/)};var I=function r(t,e){var n=t,i=e;return Object.entries(n).forEach(function(h){var a=at(h,2),v=a[0],f=a[1];c.object(f)?r(f,i[v]=i[v]||{}):v in i||(i[v]=f)}),i},U=function(t){throw new Error(t)};function q(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function T(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?q(Object(e),!0).forEach(function(n){lt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):q(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function lt(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function ct(r){return vt(r)||pt(r)||K(r)||ft()}function ft(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pt(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function vt(r){if(Array.isArray(r))return M(r)}function mt(r,t){return ht(r)||dt(r,t)||K(r,t)||gt()}function gt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(r,t){if(!!r){if(typeof r=="string")return M(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return M(r,t)}}function M(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function dt(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n=[],i=!0,h=!1,a,v;try{for(e=e.call(r);!(i=(a=e.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(f){h=!0,v=f}finally{try{!i&&e.return!=null&&e.return()}finally{if(h)throw v}}return n}}function ht(r){if(Array.isArray(r))return r}function yt(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function z(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function bt(r,t,e){return t&&z(r.prototype,t),e&&z(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var J=function(){function r(t){return yt(this,r),this._registerIntersectionTrigger(t),this.setUtils(),this}return bt(r,[{key:"_registerIntersectionTrigger",value:function(e){this._it=e,this._utils=this._it._utils}},{key:"setUtils",value:function(){var e=this,n=this._utils.dirProps(),i=n.ref,h=n.refOpposite,a=n.length,v=this._utils.isVirtical(),f=this._utils.getRoot(),S=new WeakMap;this.seekSmoothly=function(s,u,o,l){if(!e.killed){var m=s.currentTime,y=l?Math.min(m+o,u):Math.max(m-o,u);s.seek(y);var d=l?y>=u:y<=u;if(!d){var b=requestAnimationFrame(function(){return e.seekSmoothly(s,u,o,l)});S.set(s,b)}}},this.seek=function(s,u,o){if(c.num(o)){var l=s.currentTime,m=u>l,y=S.has(s)&&S.get(s)||0;cancelAnimationFrame(y),e.seekSmoothly(s,u,o,m);return}s.seek(u)},this.startSnaping=function(s){var u=s.snapDistance,o=s.currentDis,l=s.snap,m=s.step,y=s.toRef,d=y===void 0?!1:y;if(!e.killed){var b=d?-1:1;if(v?f.scrollBy({top:m*b,behavior:"instant"}):f.scrollBy({left:m*b,behavior:"instant"}),o+=m,o>=u){o=0,l.onComplete(e._it);return}requestAnimationFrame(function(){return e.startSnaping({snapDistance:u,currentDis:o,snap:l,step:m,toRef:d})})}},this.parseSnap=function(s){var u=s.instance,o=s.snap,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=function(g){for(var _=[],O=g;O<1;)_.push(N(O,0,1)),O=O+g;return _.map(function(A){return Math.round(A*u.duration)})},y=function(g){if(c.num(g))return m(g);if(c.string(g))return d(g);if(c.array(g))return g},d=function(){if(!!c.inObject(u,"marks"))return u.marks.map(function(g){return g.time})},b=function(g,_){return l?g.toOriginal:_},p={};switch(!0){case(c.boolean(o)&&o):!l&&(p.toOriginal="marks"),p.to=d(b(p,o));break;case c.array(o):!l&&(p.toOriginal=o),p.to=b(p,o);break;case c.num(o):!l&&(p.toOriginal=o),p.to=m(b(p,o));break;case c.object(o):p=o,!l&&(p.toOriginal=p.to),p.to=y(b(p,p.to));break}return I(W,p)},this.getTIL=function(s,u,o){var l=s.getBoundingClientRect();return l[a]-(u*l[a]+(1-o)*l[a])},this.getSnapStep=function(s){return s&&Math.round(Math.max(s.speed*17/1e3,1))},this.animateHandler=function(s,u){var o=u.enter,l=u.leave,m=u.tIL,y=u.instance,d=u.snap,b=u.step,p=u.link;if(!e.killed){var k=s.getBoundingClientRect(),g=e._utils.getTriggerStates(s,"ids");e._it.rootBounds=e._utils.getRootRect(e._it.observer.rootMargin);var _=e._it.rootBounds,O=m+(e._it._isREPGreater?_[a]:-_[a]),A=y.duration,j=0,Q=e._utils.getPositions(k,_,{enter:o,leave:l,ref:i,refOpposite:h,length:a}),P=mt(Q,4),X=P[0],kt=P[1],Y=P[2],Ot=P[3],L=Y-X;if(L>0&&(j=A*L/O,e.seek(y,j,p)),d){var Z=0;clearTimeout(g.snapTimeOutId);var G=setTimeout(function(){var C=d.to.map(function(E){return j-E}),B=C.map(function(E){return Math.abs(E)}),R=Math.min.apply(Math,ct(B)),tt=C[B.indexOf(R)],D=O*R/A,H={snapDistance:D,currentDis:Z,snap:d,step:b};if(!(D>=d.maxDistance||D<b)){if(d.onStart(e._it),tt<0){e.startSnaping(H);return}e.startSnaping(T(T({},H),{},{toRef:!0}))}},d.after*1e3);e._utils.setTriggerStates(s,{ids:T(T({},g),{},{snapTimeOutId:G})})}}}}},{key:"animate",value:function(e,n,i){var h=this,a=n.instance,v=n.toggleActions,f=n.link,S=n.snap;if(!!a){if(f){var s=this._utils.getTriggerStates(e,"onScroll"),u=s.animate,o=this._utils.getTriggerStates(e,"ids"),l=this._utils.getTriggerData(e),m=l.enter,y=l.leave,d=l.minPosition,b=l.maxPosition,p=this.getTIL(e,d,b),k=this.getSnapStep(S)||0,g={enter:m,leave:y,tIL:p,instance:a,snap:S,link:c.boolean(f)?f:Math.abs(f),step:k};switch(i){case 0:case 2:if(this._it._states.oCbFirstInvoke&&this.animateHandler(e,g),u)break;this._utils.setTriggerScrollStates(e,"animate",function(){return h.animateHandler(e,g)});break;case 1:case 3:clearTimeout(o.snapTimeOutId),this._utils.setTriggerScrollStates(e,"animate",null),this.seek(a,i===1?a.duration:0,f);break}return}var _=v[i];if(_!=="none")switch(_){case"play":a.reversed&&a.reverse(),1>a.progress&&a[_]();break;case"restart":case"reset":a.reversed&&a.reverse(),a[_]();break;case"pause":a[_]();break;case"complete":a.pause(),a.seek(a.reversed?0:a.duration);break;case"reverse":if(a.reversed)break;a[_](),a.paused&&a.play();break;case"kill":c.inObject(a,"kill")&&a.kill(),this._utils.setTriggerData(e,null,{animation:T({},w)});break}}}},{key:"parse",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={};switch(!0){case c.animeInstance(e):i=I(w,{instance:e});break;case c.object(e):{i=I(w,e);var h=i,a=h.toggleActions,v=h.snap,f=h.instance;v&&(i.snap=this.parseSnap({instance:f,snap:v},n)),c.string(a)&&(i.toggleActions=V(a))}break}return!c.animeInstance(i.instance)&&U("Invalid anime instance"),c.inObject(i,"instance")&&i.instance.reset(),i}},{key:"update",value:function(){var e=this;this._it.triggers.forEach(function(n){var i=e._utils.getTriggerData(n),h=i.enter,a=i.leave,v=i.minPosition,f=i.maxPosition,S=i.animation;S=e.parse(S,!0),e._utils.setTriggerData(n,null,{animation:S});var s=e._utils.getTriggerStates(n,"onScroll"),u=s.animate;if(u){var o=S,l=o.instance,m=o.snap,y=o.link,d=e.getTIL(n,v,f),b=e.getSnapStep(m)||0;e._utils.setTriggerScrollStates(n,"animate",null),e._utils.setTriggerScrollStates(n,"animate",function(){return e.animateHandler(n,{enter:h,leave:a,instance:l,snap:m,link:y,tIL:d,step:b})})}})}},{key:"kill",value:function(){this.killed=!0,this._it=null,this._utils=null}}]),r}();J.pluginName="animation";var _t=J;return St;})();
//# sourceMappingURL=animation.browser.min.js.map
