/*
* IntersectionTrigger v1.1.2 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2023, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: February 25, 2023
*/

function tt(e,t){return at(e)||nt(e,t)||rt(e,t)||et()}function et(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rt(e,t){if(!!e){if(typeof e=="string")return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}function U(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nt(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,c,y,a,h=[],p=!0,l=!1;try{if(y=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(n=y.call(r)).done)&&(h.push(n.value),h.length!==t);p=!0);}catch(i){l=!0,c=i}finally{try{if(!p&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw c}}return h}}function at(e){if(Array.isArray(e))return e}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(n){ot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ot(e,t,r){return t=st(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e){var t=ut(e,"string");return D(t)==="symbol"?t:String(t)}function ut(e,t){if(D(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D(e){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(e)}var u={function:function(t){return typeof t=="function"},string:function(t){return typeof t=="string"},boolean:function(t){return typeof t=="boolean"},object:function(t){return!!t&&D(t)==="object"&&t!==null&&!(t instanceof Array)},num:function(t){return typeof t=="number"},array:function(t){return t instanceof Array},element:function(t){return t instanceof HTMLElement},empty:function(t){return Object.keys(t).length===0},doc:function(t){return u.element(t)&&t.nodeType===9},anime:function(t){return u.object(t)&&t.hasOwnProperty("animatables")&&!t.hasOwnProperty("add")},tl:function(t){return u.object(t)&&t.hasOwnProperty("add")&&u.function(t.add)},animeInstance:function(t){return u.anime(t)||u.tl(t)},pixel:function(t){return t.includes("px")},inObject:function(t,r){return u.object(t)&&r in t},percent:function(t){return t.includes("%")},scrollable:function(t,r){return r?r==="y"?t.scrollHeight>t.clientHeight:t.scrollWidth>t.clientWidth:t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}},q=function(t,r,n){return Math.min(Math.max(t,r),n)},z=function(t){return t.split(/\s+/)};var _=function e(t,r){for(var n=it({},t),c=0,y=Object.entries(r);c<y.length;c++){var a=tt(y[c],2),h=a[0],p=a[1],l=h;if(u.object(n[l])&&!u.empty(n[l])){if(!u.object(p))continue;n[l]=e(n[l],p)}else n[l]=p}return n},M=function(t){throw new Error(t)};var J=function(){},Q={to:0,after:1,speed:100,maxDistance:500,onStart:J,onComplete:J};var R={instance:{},toggleActions:"play complete reverse complete",link:!1,snap:!1};function C(e){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}function lt(e){return mt(e)||pt(e)||ft(e)||ct()}function ct(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ft(e,t){if(!!e){if(typeof e=="string")return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}}function pt(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mt(e){if(Array.isArray(e))return W(e)}function W(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(n){vt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vt(e,t,r){return t=Z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z(n.key),n)}}function yt(e,t,r){return t&&Y(e.prototype,t),r&&Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e){var t=ht(e,"string");return C(t)==="symbol"?t:String(t)}function ht(e,t){if(C(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $=function(){function e(t){return dt(this,e),this._registerIntersectionTrigger(t),this.setUtils(),this}return yt(e,[{key:"_registerIntersectionTrigger",value:function(r){this._it=r,this._utils=this._it._utils}},{key:"setUtils",value:function(){var r=this,n=this._utils.dirProps(),c=n.ref,y=n.refOpposite,a=n.length,h=this._utils.isVertical(),p=this._utils.getRoot(),l=new WeakMap;this.seekSmoothly=function(i,o,f,s){if(!r.killed){var d=i.currentTime,m=s?Math.min(d+f,o):Math.max(d-f,o);i.seek(m);var v=s?m>=o:m<=o;if(!v){var S=requestAnimationFrame(function(){return r.seekSmoothly(i,o,f,s)});l.set(i,S)}}},this.seek=function(i,o,f){if(u.num(f)){var s=i.currentTime,d=o>s,m=l.has(i)&&l.get(i)||0;cancelAnimationFrame(m),r.seekSmoothly(i,o,f,d);return}i.seek(o)},this.startSnaping=function(i){var o=i.snapDistance,f=i.currentDis,s=i.snap,d=i.step,m=i.toRef,v=m===void 0?!1:m;if(!r.killed){var S=v?-1:1;if(h?p.scrollBy({top:d*S,behavior:"instant"}):p.scrollBy({left:d*S,behavior:"instant"}),f+=d,f>=o){f=0,s.onComplete(r._it);return}requestAnimationFrame(function(){return r.startSnaping({snapDistance:o,currentDis:f,snap:s,step:d,toRef:v})})}},this.parseSnap=function(i,o){var f=i.instance,s=i.snap,d=function(P){for(var E=[],I=0;I<=1;)E.push(q(I,0,1)),I=I+P;return E.map(function(x){return Math.round(x*f.duration)})},m=function(){return u.inObject(f,"marks")?f.marks.map(function(P){return P.time}):M('"marks" feature is not available in the provided anime instance')},v=function(P){return _(Q,P)},S=function(P){return u.num(P)?d(P):m()},w={},O={};if(o){var A=s,g=A.originalToParam;g&&(w=b(b({},s),{},{to:S(g)}))}else{u.boolean(s)&&(O=v({to:"marks"})),(u.array(s)||u.num(s))&&(O=v({to:s})),u.object(s)&&(O=v(s)),w=O;var T=O,k=T.to;u.string(k)&&!!k&&(w=b(b({},O),{},{originalToParam:"marks",to:m()})),u.num(k)&&!!k&&(w=b(b({},O),{},{originalToParam:k,to:d(k)}))}return w},this.getTIL=function(i,o,f){var s=i.getBoundingClientRect();return s[a]-(o*s[a]+(1-f)*s[a])},this.getSnapStep=function(i){return u.object(i)?Math.round(Math.max(i.speed*17/1e3,1)):0},this.animateHandler=function(i,o){var f=o.enter,s=o.leave,d=o.tIL,m=o.instance,v=o.snap,S=o.step,w=o.link;if(!r.killed){var O=i.getBoundingClientRect(),A=r._utils.getTriggerData(i,"states").ids,g=r._it.rootBounds=r._utils.getRootRect(r._it.observer.rootMargin),T=d+(r._it._isREPGreater?g[a]:-g[a]),k=m.duration,j=r._utils.getPositions(O,g,{enter:f,leave:s,ref:c,refOpposite:y,length:a}),P=j[2]-j[0],E=0;if(P>0&&(E=k*P/T,r.seek(m,E,w)),!u.boolean(v)){var I=0;clearTimeout(A.snapTimeOutId);var x=setTimeout(function(){var H=v.to.map(function(L){return E-L}),F=H.map(function(L){return Math.abs(L)}),N=Math.min.apply(Math,lt(F)),G=H[F.indexOf(N)],B=T*N/k,V={snapDistance:B,currentDis:I,snap:v,step:S};if(!(B>=v.maxDistance||B<S)){if(v.onStart(r._it),G<0){r.startSnaping(V);return}r.startSnaping(b(b({},V),{},{toRef:!0}))}},v.after*1e3);r._utils.setTriggerStates(i,{ids:b(b({},A),{},{snapTimeOutId:x})})}}}}},{key:"animate",value:function(r,n,c){var y=this,a=n.instance,h=n.toggleActions,p=n.link,l=n.snap;if(p){var i=this._utils.getTriggerData(r),o=i.enter,f=i.leave,s=i.minPosition,d=i.maxPosition,m=i.states,v=m.onScroll.animate,S=m.ids,w=this.getTIL(r,s,d),O=this.getSnapStep(l),A={enter:o,leave:f,tIL:w,instance:a,snap:l,link:u.boolean(p)?p:Math.abs(p),step:O};switch(c){case 0:case 2:if(this._it._states.oCbFirstInvoke&&this.animateHandler(r,A),v)break;this._utils.setTriggerScrollStates(r,"animate",function(){return y.animateHandler(r,A)});break;case 1:case 3:clearTimeout(S.snapTimeOutId),this._utils.setTriggerScrollStates(r,"animate"),this.seek(a,c===1?a.duration:0,p);break}return}var g=h[c],T=a.currentTime/a.duration;if(g!=="none")switch(g){case"play":a.reversed&&(a.reverse(),a.completed=!1),T<1&&a[g]();break;case"resume":T<1&&T>0&&a.play();break;case"restart":case"reset":a.reversed&&a.reverse(),a[g]();break;case"pause":a[g]();break;case"complete":a.pause(),a.seek(a.reversed?0:a.duration);break;case"reverse":!a.reversed&&a[g](),a.paused&&a.play();break;case"kill":u.inObject(a,"kill")&&a.kill(),this._utils.setTriggerData(r,{animation:void 0},!0);break}}},{key:"parse",value:function(r,n){var c={},y={};if(n){var a=r,h=a.instance,p=a.snap;!u.boolean(p)&&(y=b(b({},r),{},{snap:this.parseSnap({instance:h,snap:p},!0)}))}else{if(!u.object(r))return M('"animation" parameter is NOT valid.');if(u.animeInstance(r))c=_(R,{instance:r});else if(r.instance&&u.animeInstance(r.instance))c=_(R,r);else return M('"instance" parameter must be anime instance.');var l=c,i=l.toggleActions,o=l.snap,f=l.instance,s=l.link;y={instance:f,toggleActions:z(i),snap:!!o&&this.parseSnap({instance:f,snap:o}),link:s}}return y.instance.reset(),y}},{key:"update",value:function(){var r=this;this._it.triggers.forEach(function(n){var c=r._utils.getTriggerData(n),y=c.enter,a=c.leave,h=c.minPosition,p=c.maxPosition,l=c.animation;l=l&&r.parse(l,!0),r._utils.setTriggerData(n,{animation:l},!0);var i=r._utils.getTriggerData(n,"states").onScroll.animate;if(i&&!!l){var o=l,f=o.instance,s=o.snap,d=o.link,m=r.getTIL(n,h,p),v=r.getSnapStep(s);r._utils.setTriggerScrollStates(n,"animate"),r._utils.setTriggerScrollStates(n,"animate",function(){return r.animateHandler(n,{enter:y,leave:a,instance:f,snap:s,link:d,tIL:m,step:v})})}})}},{key:"kill",value:function(){this.killed=!0,this._it=this._utils=void 0}}]),e}();$.pluginName="animation";var Pt=$;export{Pt as default};
//# sourceMappingURL=animation.esm.browser.min.js.map
