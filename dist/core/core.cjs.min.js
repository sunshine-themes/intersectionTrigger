/*
* IntersectionTrigger v1.1.2 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2023, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: February 25, 2023
*/

var F=Object.defineProperty;var J=e=>F(e,"__esModule",{value:!0});var X=(e,t)=>{for(var i in t)F(e,i,{get:t[i],enumerable:!0})};J(exports);X(exports,{default:()=>Y});var L=()=>{};var W={defaults:{enter:"0%",leave:"100%",once:!1,onEnter:L,onLeave:L,onEnterBack:L,onLeaveBack:L,toggleClass:void 0,animation:void 0},rootEnter:"100%",rootLeave:"0%",axis:"y",name:"",root:null,guides:!1,onScroll:L};var z={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:void 0,animate:void 0},ids:{snapTimeOutId:0}};var l={function:e=>typeof e=="function",string:e=>typeof e=="string",boolean:e=>typeof e=="boolean",object:e=>!!e&&typeof e=="object"&&e!==null&&!(e instanceof Array),num:e=>typeof e=="number",array:e=>e instanceof Array,element:e=>e instanceof HTMLElement,empty:e=>Object.keys(e).length===0,doc:e=>l.element(e)&&e.nodeType===9,anime:e=>l.object(e)&&e.hasOwnProperty("animatables")&&!e.hasOwnProperty("add"),tl:e=>l.object(e)&&e.hasOwnProperty("add")&&l.function(e.add),animeInstance:e=>l.anime(e)||l.tl(e),pixel:e=>e.includes("px"),inObject:(e,t)=>l.object(e)&&t in e,percent:e=>e.includes("%"),scrollable:(e,t)=>t?t==="y"?e.scrollHeight>e.clientHeight:e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth};var N=(e,t)=>e&&e.getBoundingClientRect()[t],V=(e,t)=>t==="y"?e.scrollHeight:e.scrollWidth,x=(e,t)=>{l.string(e)&&(e=parseFloat(e));let i=Math.pow(10,t||0);return Math.round(e*i)/i};var y=e=>{if(!l.object(e)&&!l.array(e)||l.animeInstance(e)||e instanceof Element)return e;let t=l.array(e)?[]:{};for(let i in e)e.hasOwnProperty(i)&&(t[i]=y(e[i]));return t},O=(e,t)=>{let i={...e};for(let[s,n]of Object.entries(t)){let r=s;if(l.object(i[r])&&!l.empty(i[r])){if(!l.object(n))continue;i[r]=O(i[r],n)}else i[r]=n}return i},S=e=>{throw new Error(e)},$=(e,t)=>[e,t].sort((i,s)=>i-s),C=e=>{let t={value:0,unit:""},i=/^(-?\d*\.?\d+)(px|%)$/.exec(e);return i&&(t={value:parseFloat(i[1]),unit:i[2]}),t},j=e=>e.split(/\s+/).map(t=>C(t));var H=class{constructor(t){return this._it=t,this.tD=this._it._triggersData,this.states=this._it._states,this.setUtils(),this}setUtils(){this.isVertical=()=>this._it.axis==="y",this.getRoot=t=>this._it._root?this._it._root:t==="resize"?window:t==="scroll"?document:document.documentElement,this.dirProps=()=>this.isVertical()?{ref:"top",length:"height",refOpposite:"bottom",clientLength:document.documentElement.clientHeight}:{ref:"left",length:"width",refOpposite:"right",clientLength:document.documentElement.clientWidth},this.setRootMargin=(t,i)=>{let{length:s,clientLength:n}=this.dirProps(),r=this._it._root?N(this._it._root,s):n,a=(c,m)=>{let{value:p,unit:d,normal:h}=c;return d==="%"?h*m:p};t.pixeled=a(t,r),i.pixeled=a(i,r),this._it._isREPGreater=t.pixeled>=i.pixeled;let o={fromRef:`${-1*(this._it._isREPGreater?i.pixeled:t.pixeled)}px`,fromOppRef:`${(this._it._isREPGreater?t.pixeled:i.pixeled)-r}px`},g=V(this.getRoot(),this.isVertical()?"x":"y");return this.isVertical()?`${o.fromRef} ${g}px ${o.fromOppRef} ${g}px`:`${g}px ${o.fromOppRef} ${g}px ${o.fromRef}`},this.setThreshold=()=>{let t=[0,1];return this._it.triggers.forEach(i=>{let{enter:s,leave:n,maxPosition:r}=this.getTriggerData(i);t.push(s,n,x(1-r,2))}),[...new Set(t)]},this.parseQuery=(t,i="trigger")=>l.string(t)?[...document.querySelectorAll(t)]:l.array(t)?t:l.element(t)?[t]:S(`${i} parameter must be a valid selector, an element or array of elements`),this.parseRoot=t=>{if(!t)return null;if(l.string(t)){let i=document.querySelector(t);return i||S("root parameter must be a valid selector")}return l.element(t)?t:S("root parameter must be an element")},this.validatePosition=t=>(l.function(t)&&(t=t(this._it)),l.string(t)?t:S("enter, leave, rootEnter and rootLeave parameters must be a string.")),this.setPositionData=t=>{t=this.validatePosition(t);let i=t.trim(),s=C(i),n=x(s.value);return{original:i,unit:s.unit,value:n,normal:s.unit==="%"?n/100:0}},this.parsePositions=(t,i,s,n)=>{let r=[t,s,i,n].map(a=>this.setPositionData(this.validatePosition(a).trim()));return{tEP:r[0],rEP:r[1],tLP:r[2],rLP:r[3]}},this.deleteTriggerData=t=>this.tD.delete(t),this.getTriggerData=(t,i)=>{let s=this.tD.get(t)||{};return i?s[i]:s},this.setTriggerData=(t,i,s)=>{let n=this.getTriggerData(t),r=s?{...n,...i}:i;this.tD.set(t,r)},this.setTriggerStates=(t,i)=>{let s=this.getTriggerData(t,"states");this.setTriggerData(t,{states:{...s,...i}},!0)},this.setTriggerScrollStates=(t,i,s)=>{let n=this.getTriggerData(t,"states").onScroll;if(n[i]=s,this.setTriggerStates(t,{onScroll:n}),s){this.states.runningScrollCbs===0&&this._it.addScrollListener(this._it._onScrollHandler),this.states.runningScrollCbs++;return}0<this.states.runningScrollCbs&&this.states.runningScrollCbs--,this.states.runningScrollCbs===0&&this._it.removeScrollListener(this._it._onScrollHandler)},this.triggerEvent=(t,[i,s,n,r,a])=>{let{once:o,toggleClass:g,animation:c,states:{hasEnteredOnce:m}}=this.getTriggerData(t);if(s(t,this._it),this._it.killed)return this.kill();g&&this._it.toggleClass.toggle(t,g,a),c&&this._it.animation.animate(t,c,a);let p=i==="Enter"||i==="EnterBack",d={};if(p)d={[n]:!0,[r]:!1},m||(d={[n]:!0,hasLeft:!1,hasLeftBack:!1,hasEnteredOnce:!0});else{if(o&&m){this._it.remove(t);return}d={[r]:!0,hasEntered:!1,hasEnteredBack:!1}}this.setTriggerStates(t,d)},this.getPositions=(t,i,{enter:s,leave:n,ref:r,refOpposite:a,length:o})=>{let g=this._it._isREPGreater;return[t[r]+s*t[o],t[r]+n*t[o],g?i[a]:i[r],g?i[r]:i[a]]},this.toggleActions=t=>{let{enter:i,leave:s,onEnter:n,onLeave:r,onEnterBack:a,onLeaveBack:o,states:{hasEntered:g,hasEnteredBack:c,hasLeft:m,hasLeftBack:p,hasEnteredOnce:d}}=this.getTriggerData(t),h=t.getBoundingClientRect(),P=this._it.rootBounds=this.getRootRect(this._it.observer.rootMargin),{ref:D,refOpposite:b,length:u}=this.dirProps(),[_,M,R,v]=this.getPositions(h,P,{enter:i,leave:s,ref:D,refOpposite:b,length:u}),k=!0,E=g||c;switch(!0){case(p&&R>_):this.triggerEvent(t,["Enter",n,"hasEntered","hasLeftBack",0]);break;case(E&&v>M):this.triggerEvent(t,["Leave",r,null,"hasLeft",1]);break;case(m&&d&&v<M):this.triggerEvent(t,["EnterBack",a,"hasEnteredBack","hasLeft",2]);break;case(E&&R<_):this.triggerEvent(t,["LeaveBack",o,null,"hasLeftBack",3]);break;default:k=!1;break}return k},this.parseRootMargin=t=>{var i=t||"0px",s=j(i);return s[1]=s[1]||s[0],s[2]=s[2]||s[0],s[3]=s[3]||s[1],s},this.expandRectByRootMargin=(t,i)=>{let s=this.parseRootMargin(i).map((r,a)=>r.unit==="px"?r.value:r.value*(a%2?t.width:t.height)/100),n={top:t.top-s[0],right:t.right+s[1],bottom:t.bottom+s[2],left:t.left-s[3],width:0,height:0};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},this.getRootRect=t=>{let i;if(this._it._root&&!l.doc(this._it._root))return i=this._it._root.getBoundingClientRect(),this.expandRectByRootMargin(i,t);let s=l.doc(this._it._root)?this._it._root:document,n=s.documentElement,r=s.body;return i={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight},this.expandRectByRootMargin(i,t)}}kill(){this._it=void 0}},G=H;var K=[],T=[],Q=0,f=class{constructor(t){this._rAFCallback=()=>{this.triggers.forEach(t=>{let i=this._utils.getTriggerData(t,"states").onScroll;for(let s in i){let n=s;i[n]&&i[n](t)}})};this._onScrollHandler=()=>this._rAFID=requestAnimationFrame(this._rAFCallback);this._observerCallback=(t,i)=>{let{ref:s,refOpposite:n,length:r}=this._utils.dirProps();for(let a of t){let o=a.target,g=a.boundingClientRect,c=a.isIntersecting,m=this.rootBounds=a.rootBounds||this._utils.getRootRect(i.rootMargin),p=m[r],{enter:d,leave:h,onEnter:P,onLeave:D,onLeaveBack:b,states:{hasEntered:u,hasEnteredBack:_,onScroll:{backup:M}}}=this._utils.getTriggerData(o),[R,v,k,E]=this._utils.getPositions(g,m,{enter:d,leave:h,ref:s,refOpposite:n,length:r}),I=g[r]>=p,w=!!M,U=u||_,A=["Enter",P,"hasEntered","hasLeftBack",0],B=["Leave",D,null,"hasLeft",1],q=()=>{this._utils.triggerEvent(o,A),this._utils.triggerEvent(o,B)};switch(!0){case this._states.oCbFirstInvoke:!c&&E>v||c&&E>v?q():c&&k>R&&E<v&&this._utils.triggerEvent(o,A),c&&I&&this._utils.setTriggerScrollStates(o,"backup",this._utils.toggleActions);break;case!c:w&&this._utils.setTriggerScrollStates(o,"backup"),U&&(E>v?this._utils.triggerEvent(o,B):k<R&&this._utils.triggerEvent(o,["LeaveBack",b,null,"hasLeftBack",3]));break;case(c&&!w):this._utils.toggleActions(o),I&&this._utils.setTriggerScrollStates(o,"backup",this._utils.toggleActions);break}}this._states.oCbFirstInvoke=!1};this._userOptions=t||{},this.triggers=[],this._triggersData=new WeakMap,this.id=Q,Q++,T.push(this),this.animation=void 0,this.toggleClass=void 0,this.guides=void 0,this._states={oCbFirstInvoke:!0,runningScrollCbs:0},this._utils=new G(this),this._setInstance()}_setPlugin(t){let s=f.getRegisteredPlugins().find(n=>t===n.pluginName);s&&(this[t]=new s(this))}_addResizeListener(){this._removeResizeListener(),this._onResizeHandler=()=>this.update(),this._utils.getRoot("resize").addEventListener("resize",this._onResizeHandler,!1)}_removeResizeListener(){this._utils.getRoot("resize").removeEventListener("resize",this._onResizeHandler,!1)}addScrollListener(t){this._utils.getRoot("scroll").addEventListener("scroll",t,!1)}removeScrollListener(t){this._utils.getRoot("scroll").removeEventListener("scroll",t,!1)}_createInstance(){this._rootMargin=this._utils.setRootMargin(this._positionsData.rEP,this._positionsData.rLP),this._threshold=this._utils.setThreshold(),this.observer=new IntersectionObserver(this._observerCallback,{root:this._root,rootMargin:this._rootMargin,threshold:this._threshold}),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin)}_setInstance(){this._defaultOptions=W,this._options=O(this._defaultOptions,this._userOptions);let{axis:t,name:i,root:s,defaults:{enter:n,leave:r},onScroll:a,rootEnter:o,rootLeave:g,guides:c}=this._options;return this.axis=t,this.name=i,this._root=this._utils.parseRoot(s),this._positionsData=this._utils.parsePositions(n,r,o,g),this.customScrollHandler=a,this._createInstance(),this._addResizeListener(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),c&&(this._setPlugin("guides"),this.guides.init(c)),this}add(t,i){let s=this._utils.parseQuery(t),{defaults:n}=this._options,r=i||{},a=(u,_="tEP")=>u?this._utils.setPositionData(u).normal:this._positionsData[_].normal,o=u=>(!this[u]&&this._setPlugin(u),this[u]),g=O(n,r),{enter:c,leave:m,toggleClass:p,animation:d}=g,h={...g,enter:a(c),leave:a(m,"tLP"),toggleClass:p?o("toggleClass").parse(p):void 0,animation:d?o("animation").parse(d):void 0,states:z},[P,D]=$(h.enter,h.leave);h.minPosition=P,h.maxPosition=D,this.triggers=[...new Set([...this.triggers,...s])];let b=!1;return[h.enter,h.leave].forEach(u=>!this._threshold.some(_=>u===_)&&(b=!0)),b?(s.forEach(u=>this._utils.setTriggerData(u,y(h))),this.update()):s.forEach(u=>{this._utils.setTriggerData(u,y(h)),this.observer.observe(u)}),this.guides&&this.guides.update(),this}remove(t){let i=this._utils.parseQuery(t);i.forEach(n=>{this._utils.deleteTriggerData(n),this.observer.unobserve(n)});let s=this.triggers.filter(n=>!i.some(a=>n===a));return this.triggers=s,this.guides&&this.guides.update(),this}_disconnect(){this.observer&&this.observer.disconnect(),this.observer=void 0}update(){this._disconnect(),this._createInstance(),this.triggers.forEach(t=>this.observer&&this.observer.observe(t)),this.guides&&this.guides.update()}kill(){this.killed=!0,this._disconnect(),this.removeScrollListener(this._onScrollHandler),this.removeScrollListener(this.customScrollHandler),this._removeResizeListener(),this._rAFID&&cancelAnimationFrame(this._rAFID),this.guides&&this.guides.kill(),this.toggleClass&&this.toggleClass.kill(),this.animation&&this.animation.kill(),this.triggers=[],this.animation=this.toggleClass=this.guides=this._utils=void 0;let t=T.indexOf(this);~t&&T.splice(t,1)}};f.getInstances=()=>T;f.getInstanceById=e=>T.find(t=>t.id===e);f.update=()=>T.forEach(e=>e.update());f.kill=()=>T.forEach(e=>e.kill());f.registerPlugins=(e=[])=>K.push(...e);f.getRegisteredPlugins=()=>K;var Y=f;
