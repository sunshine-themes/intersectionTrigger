/*
* IntersectionTrigger v1.0.4 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2023, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: February 8, 2023
*/

var it_core=(function(){var mt=Object.defineProperty;var yt=function(r,e){for(var t in e)mt(r,t,{get:e[t],enumerable:!0})};var Jt={};yt(Jt,{default:function(){return Qt}});var R=function(){};var Y={defaults:{enter:"0%",leave:"100%",once:!1,onEnter:R,onLeave:R,onEnterBack:R,onLeaveBack:R,toggleClass:void 0,animation:void 0},rootEnter:"100%",rootLeave:"0%",axis:"y",name:"",root:null,guides:!1,onScroll:R};var Z={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:void 0,animate:void 0},ids:{snapTimeOutId:0}};function bt(r,e){return Pt(r)||Ot(r,e)||St(r,e)||_t()}function _t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function St(r,e){if(!!r){if(typeof r=="string")return q(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(r,e)}}function q(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Ot(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Pt(r){if(Array.isArray(r))return r}function tt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Tt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tt(Object(t),!0).forEach(function(n){Et(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tt(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Et(r,e,t){return e=wt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wt(r){var e=kt(r,"string");return L(e)==="symbol"?e:String(e)}function kt(r,e){if(L(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(L(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function L(r){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(r)}var v={function:function(e){return typeof e=="function"},string:function(e){return typeof e=="string"},boolean:function(e){return typeof e=="boolean"},object:function(e){return!!e&&L(e)==="object"&&e!==null&&!(e instanceof Array)},num:function(e){return typeof e=="number"},array:function(e){return e instanceof Array},element:function(e){return e instanceof HTMLElement},empty:function(e){return Object.keys(e).length===0},doc:function(e){return v.element(e)&&e.nodeType===9},anime:function(e){return v.object(e)&&e.hasOwnProperty("animatables")&&!e.hasOwnProperty("add")},tl:function(e){return v.object(e)&&e.hasOwnProperty("add")&&v.function(e.add)},animeInstance:function(e){return v.anime(e)||v.tl(e)},pixel:function(e){return e.includes("px")},inObject:function(e,t){return v.object(e)&&t in e},percent:function(e){return e.includes("%")},scrollable:function(e,t){return t?t==="y"?e.scrollHeight>e.clientHeight:e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}};var et=function(e,t){return e&&e.getBoundingClientRect()[t]},rt=function(e,t){return t==="y"?e.scrollHeight:e.scrollWidth},W=function(e,t){v.string(e)&&(e=parseFloat(e));var n=Math.pow(10,t||0);return Math.round(e*n)/n};var F=function r(e,t){for(var n=Tt({},e),i=0,o=Object.entries(t);i<o.length;i++){var a=bt(o[i],2),l=a[0],s=a[1];if(v.object(n[l])&&!v.empty(n[l])){if(!v.object(s))continue;n[l]=r(n[l],s)}else n[l]=s}return n},A=function(e){throw new Error(e)},nt=function(e,t){return[e,t].sort(function(n,i){return n-i})},$=function(e){var t={value:0,unit:""},n=/^(-?\d*\.?\d+)(px|%)$/.exec(e);return n&&(t={value:parseFloat(n[1]),unit:n[2]}),t},it=function(e){return e.split(/\s+/).map(function(t){return $(t)})};function I(r){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(r)}function xt(r,e){return Rt(r)||Dt(r,e)||st(r,e)||Lt()}function Lt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dt(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Rt(r){if(Array.isArray(r))return r}function ot(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function E(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ot(Object(t),!0).forEach(function(n){S(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ot(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function S(r,e,t){return e=ut(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function at(r){return jt(r)||It(r)||st(r)||At()}function At(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function st(r,e){if(!!r){if(typeof r=="string")return z(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(r,e)}}function It(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function jt(r){if(Array.isArray(r))return z(r)}function z(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Ct(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,ut(n.key),n)}}function Mt(r,e,t){return e&&lt(r.prototype,e),t&&lt(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function ut(r){var e=Bt(r,"string");return I(e)==="symbol"?e:String(e)}function Bt(r,e){if(I(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(I(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ct=function(){function r(e){return Ct(this,r),this._it=e,this.setUtils(),this}return Mt(r,[{key:"setUtils",value:function(){var t=this;this.isVertical=function(){return t._it.axis==="y"},this.getRoot=function(n){return t._it._root?t._it._root:n==="resize"?window:n==="scroll"?document:document.documentElement},this.dirProps=function(){return t.isVertical()?{ref:"top",length:"height",refOpposite:"bottom",clientLength:document.documentElement.clientHeight}:{ref:"left",length:"width",refOpposite:"right",clientLength:document.documentElement.clientWidth}},this.setRootMargin=function(n,i){var o=t.dirProps(),a=o.length,l=o.clientLength,s=t._it._root?et(t._it._root,a):l,u=function(p,d){var g=p.value,m=p.unit,_=p.normal;return m==="%"?_*d:g};n.pixeled=u(n,s),i.pixeled=u(i,s),t._it._isREPGreater=n.pixeled>=i.pixeled;var c={fromRef:"".concat(-1*(t._it._isREPGreater?i.pixeled:n.pixeled),"px"),fromOppRef:"".concat((t._it._isREPGreater?n.pixeled:i.pixeled)-s,"px")},h=rt(t.getRoot(),t.isVertical()?"x":"y");return t.isVertical()?"".concat(c.fromRef," ").concat(h,"px ").concat(c.fromOppRef," ").concat(h,"px"):"".concat(h,"px ").concat(c.fromOppRef," ").concat(h,"px ").concat(c.fromRef)},this.setThreshold=function(){var n=[0,1];return t._it.triggers.forEach(function(i){var o=t.getTriggerData(i),a=o.enter,l=o.leave,s=o.maxPosition;n.push(a,l,W(1-s,2))}),at(new Set(n))},this.parseQuery=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger";return v.string(n)?at(document.querySelectorAll(n)):v.array(n)?n:v.element(n)?[n]:A("".concat(i," parameter must be a valid selector, an element or array of elements"))},this.parseRoot=function(n){if(!n)return null;if(v.string(n)){var i=document.querySelector(n);return i||A("root parameter must be a valid selector")}return v.element(n)?n:A("root parameter must be an element")},this.validatePosition=function(n){return v.function(n)&&(n=n(t._it)),v.string(n)?n:A("enter, leave, rootEnter and rootLeave parameters must be a string.")},this.setPositionData=function(n){n=t.validatePosition(n);var i=n.trim(),o=$(i),a=W(o.value);return{original:i,unit:o.unit,value:a,normal:o.unit==="%"?a/100:0}},this.parsePositions=function(n,i,o,a){var l=[n,o,i,a].map(function(s){return t.setPositionData(t.validatePosition(s).trim())});return{tEP:l[0],rEP:l[1],tLP:l[2],rLP:l[3]}},this.deleteTriggerData=function(n){t._it._triggersData.delete(n)},this.hasTriggerData=function(n,i){var o=t._it._triggersData.has(n);return i?o&&i in t.getTriggerData(n):o},this.getTriggerData=function(n,i){return i?t.hasTriggerData(n,i)?t._it._triggersData.get(n)[i]:{}:t.hasTriggerData(n)&&t._it._triggersData.get(n)||{}},this.setTriggerData=function(n,i,o){if(o){var a=t.getTriggerData(n);"enter"in a&&t._it._triggersData.set(n,E(E({},a),i));return}t._it._triggersData.set(n,i)},this.getTriggerStates=function(n,i){var o=t.getTriggerData(n,"states");return i?o[i]:E(E({},o),{},{hasEnteredFromOneSide:o.hasEntered||o.hasEnteredBack})},this.setTriggerStates=function(n,i){var o=t.getTriggerData(n),a=o&&E(E({},o.states),i);t.setTriggerData(n,{states:a},!0)},this.setTriggerScrollStates=function(n,i,o){var a=t.getTriggerStates(n,"onScroll");if(a[i]=o,t.setTriggerStates(n,{onScroll:E({},a)}),o){t._it._states.runningScrollCbs===0&&t._it.addScrollListener(t._it._onScrollHandler),t._it._states.runningScrollCbs++;return}0<t._it._states.runningScrollCbs&&t._it._states.runningScrollCbs--,t._it._states.runningScrollCbs===0&&t._it.removeScrollListener(t._it._onScrollHandler)},this.onTriggerEnter=function(n){var i,o,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Enter",l=t.getTriggerStates(n),s=l.hasEnteredOnce,u=t.getTriggerData(n),c=u.onEnter,h=u.onEnterBack,f=u.toggleClass,p=u.animation,d=a==="Enter",g={callback:d?c:h,enterProp:d?"hasEntered":"hasEnteredBack",leaveProp:d?"hasLeftBack":"hasLeft",eventIndex:d?0:2};if(g.callback(n,t._it),t._it.killed)return t.kill();f&&t._it.toggleClass.toggle(n,f,g.eventIndex),p&&t._it.animation.animate(n,p,g.eventIndex);var m=s?(i={},S(i,g.enterProp,!0),S(i,g.leaveProp,!1),i):(o={},S(o,g.enterProp,!0),S(o,"hasLeft",!1),S(o,"hasLeftBack",!1),o);t.setTriggerStates(n,m),s||t.setTriggerStates(n,{hasEnteredOnce:!0})},this.onTriggerLeave=function(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Leave",a=t.getTriggerData(n),l=a.once,s=t.getTriggerStates(n),u=s.hasEnteredOnce,c=t.getTriggerData(n),h=c.onLeave,f=c.onLeaveBack,p=c.toggleClass,d=c.animation,g=o==="Leave",m={callback:g?h:f,leaveProp:g?"hasLeft":"hasLeftBack",eventIndex:g?1:3};if(m.callback(n,t._it),t._it.killed)return t.kill();p&&t._it.toggleClass.toggle(n,p,m.eventIndex),d&&t._it.animation.animate(n,d,m.eventIndex),t.setTriggerStates(n,(i={},S(i,m.leaveProp,!0),S(i,"hasEntered",!1),S(i,"hasEnteredBack",!1),i)),l&&u&&t._it.remove(n)},this.getPositions=function(n,i,o){var a=o.enter,l=o.leave,s=o.ref,u=o.refOpposite,c=o.length,h=t._it._isREPGreater;return[n[s]+a*n[c],n[s]+l*n[c],h?i[u]:i[s],h?i[s]:i[u]]},this.toggleActions=function(n){var i=n.getBoundingClientRect();t._it.rootBounds=t.getRootRect(t._it.observer.rootMargin);var o=t._it.rootBounds,a=t.getTriggerStates(n),l=a.hasEnteredFromOneSide,s=a.hasLeft,u=a.hasLeftBack,c=a.hasEnteredOnce,h=t.getTriggerData(n),f=h.enter,p=h.leave,d=t.dirProps(),g=d.ref,m=d.refOpposite,_=d.length,D=t.getPositions(i,o,{enter:f,leave:p,ref:g,refOpposite:m,length:_}),O=xt(D,4),P=O[0],y=O[1],b=O[2],x=O[3],T=!0;switch(!0){case(u&&b>P):t.onTriggerEnter(n);break;case(l&&x>y):t.onTriggerLeave(n);break;case(s&&c&&x<y):t.onTriggerEnter(n,"EnterBack");break;case(l&&b<P):t.onTriggerLeave(n,"hasLeftBack");break;default:T=!1;break}return T},this.parseRootMargin=function(n){var i=n||"0px",o=it(i);return o[1]=o[1]||o[0],o[2]=o[2]||o[0],o[3]=o[3]||o[1],o},this.expandRectByRootMargin=function(n,i){var o=t.parseRootMargin(i).map(function(l,s){return l.unit==="px"?l.value:l.value*(s%2?n.width:n.height)/100}),a={top:n.top-o[0],right:n.right+o[1],bottom:n.bottom+o[2],left:n.left-o[3],width:0,height:0};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},this.getRootRect=function(n){var i;if(t._it._root&&!v.doc(t._it._root))return i=t._it._root.getBoundingClientRect(),t.expandRectByRootMargin(i,n);var o=v.doc(t._it._root)?t._it._root:document,a=o.documentElement,l=o.body;return i={top:0,left:0,right:a.clientWidth||l.clientWidth,width:a.clientWidth||l.clientWidth,bottom:a.clientHeight||l.clientHeight,height:a.clientHeight||l.clientHeight},t.expandRectByRootMargin(i,n)}}},{key:"kill",value:function(){this._it=void 0}}]),r}();function j(r){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(r)}function B(r){return Ft(r)||Wt(r)||V(r)||Ht()}function Ht(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wt(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ft(r){if(Array.isArray(r))return K(r)}function ft(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function U(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ft(Object(t),!0).forEach(function(n){H(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ft(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gt(r,e){return Ut(r)||zt(r,e)||V(r,e)||$t()}function $t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zt(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Ut(r){if(Array.isArray(r))return r}function Vt(r,e){var t=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=V(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,a=!1,l;return{s:function(){t=t.call(r)},n:function(){var u=t.next();return o=u.done,u},e:function(u){a=!0,l=u},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function V(r,e){if(!!r){if(typeof r=="string")return K(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K(r,e)}}function K(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Kt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,dt(n.key),n)}}function Gt(r,e,t){return e&&ht(r.prototype,e),t&&ht(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function H(r,e,t){return e=dt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dt(r){var e=Nt(r,"string");return j(e)==="symbol"?e:String(e)}function Nt(r,e){if(j(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(j(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var G=[],w=[],vt=0,k=function(){function r(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Kt(this,r),H(this,"_rAFCallback",function(n){e.triggers.forEach(function(i){var o=e._utils.getTriggerStates(i,"onScroll");for(var a in o)o[a]&&o[a](i,n)})}),H(this,"_onScrollHandler",function(){return e._rAFID=requestAnimationFrame(e._rAFCallback)}),H(this,"_observerCallback",function(n,i){var o=e._utils.dirProps(),a=o.ref,l=o.refOpposite,s=o.length,u=Vt(n),c;try{for(u.s();!(c=u.n()).done;){var h=c.value,f=h.target,p=h.boundingClientRect,d=h.isIntersecting;e.rootBounds=h.rootBounds||e._utils.getRootRect(i.rootMargin);var g=e.rootBounds,m=g[s],_=e._utils.getTriggerData(f),D=_.enter,O=_.leave;console.log(e._utils.getTriggerData(f));var P=e._utils.getTriggerStates(f),y=P.hasEnteredFromOneSide,b=P.onScroll.backup,x=e._utils.getPositions(p,g,{enter:D,leave:O,ref:a,refOpposite:l,length:s}),T=gt(x,4),N=T[0],C=T[1],Q=T[2],M=T[3],J=p[s]>=m,X=!!b;switch(!0){case e._states.oCbFirstInvoke:switch(!0){case(!d&&M>C):e._utils.onTriggerEnter(f),e._utils.onTriggerLeave(f);break;case d:switch(!0){case(Q>N&&M<C):e._utils.onTriggerEnter(f);break;case M>C:e._utils.onTriggerEnter(f),e._utils.onTriggerLeave(f);break}J&&e._utils.setTriggerScrollStates(f,"backup",e._utils.toggleActions);break}break;case!d:switch(X&&e._utils.setTriggerScrollStates(f,"backup"),!0){case(y&&M>C):e._utils.onTriggerLeave(f);break;case(y&&Q<N):e._utils.onTriggerLeave(f,"onLeaveBack");break}break;case(d&&!X):e._utils.toggleActions(f),J&&e._utils.setTriggerScrollStates(f,"backup",e._utils.toggleActions);break}}}catch(pt){u.e(pt)}finally{u.f()}e._states.oCbFirstInvoke=!1}),this._userOptions=t,this.triggers=[],this._triggersData=new WeakMap,this._utils=new ct(this),this.id=vt,vt++,w.push(this),this.animation=void 0,this.toggleClass=void 0,this.guides=void 0,this._states={oCbFirstInvoke:!0,runningScrollCbs:0},this._setInstance()}return Gt(r,[{key:"_setPlugin",value:function(t){var n=r.getRegisteredPlugins(),i=n.find(function(o){return t===o.pluginName});i&&(this[t]=new i(this))}},{key:"_addResizeListener",value:function(){var t=this;this._removeResizeListener(),this._onResizeHandler=function(){return t.update()},this._utils.getRoot("resize").addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){this._utils.getRoot("resize").removeEventListener("resize",this._onResizeHandler,!1)}},{key:"addScrollListener",value:function(t){this._utils.getRoot("scroll").addEventListener("scroll",t,!1)}},{key:"removeScrollListener",value:function(t){this._utils.getRoot("scroll").removeEventListener("scroll",t,!1)}},{key:"_createInstance",value:function(){this._rootMargin=this._utils.setRootMargin(this._positionsData.rEP,this._positionsData.rLP),this._threshold=this._utils.setThreshold(),this.observer=new IntersectionObserver(this._observerCallback,{root:this._root,rootMargin:this._rootMargin,threshold:this._threshold}),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin)}},{key:"_setInstance",value:function(){this._defaultOptions=Y,this._options=F(this._defaultOptions,this._userOptions);var t=this._options,n=t.axis,i=t.name,o=t.root,a=t.defaults,l=a.enter,s=a.leave,u=t.onScroll,c=t.rootEnter,h=t.rootLeave,f=t.guides;return this.axis=n,this.name=i,this._root=this._utils.parseRoot(o),this._positionsData=this._utils.parsePositions(l,s,c,h),this.customScrollHandler=u,this._createInstance(),this._addResizeListener(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),f&&(this._setPlugin("guides"),this.guides.init(f)),this}},{key:"add",value:function(t,n){var i=this,o=this._utils.parseQuery(t),a=this._options.defaults,l=n||{},s=function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"tEP";return b?i._utils.setPositionData(b).normal:i._positionsData[x].normal},u=function(b){return!i[b]&&i._setPlugin(b),i[b]},c=F(a,l),h=c.enter,f=c.leave,p=c.toggleClass,d=c.animation,g=U(U({},c),{},{enter:s(h),leave:s(f,"tLP"),toggleClass:p?u("toggleClass").parse(p):void 0,animation:d?u("animation").parse(d):void 0,states:U({},Z)}),m=nt(g.enter,g.leave),_=gt(m,2),D=_[0],O=_[1];g.minPosition=D,g.maxPosition=O,this.triggers=B(new Set([].concat(B(this.triggers),B(o))));var P=!1;return[g.enter,g.leave].forEach(function(y){return!i._threshold.some(function(b){return y===b})&&(P=!0)}),P?(o.forEach(function(y){return i._utils.setTriggerData(y,g)}),this.update()):o.forEach(function(y){i._utils.setTriggerData(y,g),i.observer.observe(y)}),this.guides&&this.guides.update(),this}},{key:"remove",value:function(t){var n=this,i=this._utils.parseQuery(t);i.forEach(function(a){n._utils.deleteTriggerData(a),n.observer.unobserve(a)});var o=this.triggers.filter(function(a){var l=i.some(function(s){return a===s});return!l});return this.triggers=o,this.guides&&this.guides.update(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=void 0}},{key:"update",value:function(){var t=this;this._disconnect(),this._createInstance(),this.triggers.forEach(function(n){return t.observer&&t.observer.observe(n)}),this.guides&&this.guides.update()}},{key:"kill",value:function(){this.killed=!0,this._disconnect(),this.removeScrollListener(this._onScrollHandler),this.removeScrollListener(this.customScrollHandler),this._removeResizeListener(),this._rAFID&&cancelAnimationFrame(this._rAFID),this.guides&&this.guides.kill(),this.toggleClass&&this.toggleClass.kill(),this.animation&&this.animation.kill(),this.triggers=[],this.animation=this.toggleClass=this.guides=this._utils=void 0;var t=w.indexOf(this);~t&&w.splice(t,1)}}]),r}();k.getInstances=function(){return w};k.getInstanceById=function(r){return w.find(function(e){return e.id===r})};k.update=function(){return w.forEach(function(r){return r.update()})};k.kill=function(){return w.forEach(function(r){return r.kill()})};k.registerPlugins=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.push.apply(G,B(r))};k.getRegisteredPlugins=function(){return G};var Qt=k;return Jt;})();
//# sourceMappingURL=core.browser.min.js.map
