/*
* IntersectionTrigger v1.1.2 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2023, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: February 25, 2023
*/

var it_core=(function(){var Tt=Object.defineProperty;var Rt=function(r,e){for(var t in e)Tt(r,t,{get:e[t],enumerable:!0})};var oe={};Rt(oe,{default:function(){return ie}});var D=function(){};var ot={defaults:{enter:"0%",leave:"100%",once:!1,onEnter:D,onLeave:D,onEnterBack:D,onLeaveBack:D,toggleClass:void 0,animation:void 0},rootEnter:"100%",rootLeave:"0%",axis:"y",name:"",root:null,guides:!1,onScroll:D};var at={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:void 0,animate:void 0},ids:{snapTimeOutId:0}};function At(r,e){return Ct(r)||It(r,e)||Dt(r,e)||xt()}function xt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dt(r,e){if(!!r){if(typeof r=="string")return st(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return st(r,e)}}function st(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function It(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Ct(r){if(Array.isArray(r))return r}function lt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lt(Object(t),!0).forEach(function(n){Bt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):lt(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Bt(r,e,t){return e=Mt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mt(r){var e=Ht(r,"string");return A(e)==="symbol"?e:String(e)}function Ht(r,e){if(A(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(A(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function A(r){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(r)}var f={function:function(e){return typeof e=="function"},string:function(e){return typeof e=="string"},boolean:function(e){return typeof e=="boolean"},object:function(e){return!!e&&A(e)==="object"&&e!==null&&!(e instanceof Array)},num:function(e){return typeof e=="number"},array:function(e){return e instanceof Array},element:function(e){return e instanceof HTMLElement},empty:function(e){return Object.keys(e).length===0},doc:function(e){return f.element(e)&&e.nodeType===9},anime:function(e){return f.object(e)&&e.hasOwnProperty("animatables")&&!e.hasOwnProperty("add")},tl:function(e){return f.object(e)&&e.hasOwnProperty("add")&&f.function(e.add)},animeInstance:function(e){return f.anime(e)||f.tl(e)},pixel:function(e){return e.includes("px")},inObject:function(e,t){return f.object(e)&&t in e},percent:function(e){return e.includes("%")},scrollable:function(e,t){return t?t==="y"?e.scrollHeight>e.clientHeight:e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}};var ut=function(e,t){return e&&e.getBoundingClientRect()[t]},ct=function(e,t){return t==="y"?e.scrollHeight:e.scrollWidth},K=function(e,t){f.string(e)&&(e=parseFloat(e));var n=Math.pow(10,t||0);return Math.round(e*n)/n};var G=function r(e){if(!f.object(e)&&!f.array(e)||f.animeInstance(e)||e instanceof Element)return e;var t=f.array(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));return t},N=function r(e,t){for(var n=jt({},e),i=0,o=Object.entries(t);i<o.length;i++){var a=At(o[i],2),l=a[0],s=a[1],u=l;if(f.object(n[u])&&!f.empty(n[u])){if(!f.object(s))continue;n[u]=r(n[u],s)}else n[u]=s}return n},I=function(e){throw new Error(e)},ft=function(e,t){return[e,t].sort(function(n,i){return n-i})},Q=function(e){var t={value:0,unit:""},n=/^(-?\d*\.?\d+)(px|%)$/.exec(e);return n&&(t={value:parseFloat(n[1]),unit:n[2]}),t},gt=function(e){return e.split(/\s+/).map(function(t){return Q(t)})};function C(r){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(r)}function ht(r,e){return zt(r)||Wt(r,e)||pt(r,e)||Ft()}function Ft(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wt(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function zt(r){if(Array.isArray(r))return r}function dt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function V(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dt(Object(t),!0).forEach(function(n){O(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function O(r,e,t){return e=yt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function vt(r){return Ut(r)||$t(r)||pt(r)||Vt()}function Vt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pt(r,e){if(!!r){if(typeof r=="string")return J(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J(r,e)}}function $t(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ut(r){if(Array.isArray(r))return J(r)}function J(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Kt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,yt(n.key),n)}}function Gt(r,e,t){return e&&mt(r.prototype,e),t&&mt(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function yt(r){var e=Nt(r,"string");return C(e)==="symbol"?e:String(e)}function Nt(r,e){if(C(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(C(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var bt=function(){function r(e){return Kt(this,r),this._it=e,this.tD=this._it._triggersData,this.states=this._it._states,this.setUtils(),this}return Gt(r,[{key:"setUtils",value:function(){var t=this;this.isVertical=function(){return t._it.axis==="y"},this.getRoot=function(n){return t._it._root?t._it._root:n==="resize"?window:n==="scroll"?document:document.documentElement},this.dirProps=function(){return t.isVertical()?{ref:"top",length:"height",refOpposite:"bottom",clientLength:document.documentElement.clientHeight}:{ref:"left",length:"width",refOpposite:"right",clientLength:document.documentElement.clientWidth}},this.setRootMargin=function(n,i){var o=t.dirProps(),a=o.length,l=o.clientLength,s=t._it._root?ut(t._it._root,a):l,u=function(p,h){var v=p.value,m=p.unit,y=p.normal;return m==="%"?y*h:v};n.pixeled=u(n,s),i.pixeled=u(i,s),t._it._isREPGreater=n.pixeled>=i.pixeled;var c={fromRef:"".concat(-1*(t._it._isREPGreater?i.pixeled:n.pixeled),"px"),fromOppRef:"".concat((t._it._isREPGreater?n.pixeled:i.pixeled)-s,"px")},g=ct(t.getRoot(),t.isVertical()?"x":"y");return t.isVertical()?"".concat(c.fromRef," ").concat(g,"px ").concat(c.fromOppRef," ").concat(g,"px"):"".concat(g,"px ").concat(c.fromOppRef," ").concat(g,"px ").concat(c.fromRef)},this.setThreshold=function(){var n=[0,1];return t._it.triggers.forEach(function(i){var o=t.getTriggerData(i),a=o.enter,l=o.leave,s=o.maxPosition;n.push(a,l,K(1-s,2))}),vt(new Set(n))},this.parseQuery=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger";return f.string(n)?vt(document.querySelectorAll(n)):f.array(n)?n:f.element(n)?[n]:I("".concat(i," parameter must be a valid selector, an element or array of elements"))},this.parseRoot=function(n){if(!n)return null;if(f.string(n)){var i=document.querySelector(n);return i||I("root parameter must be a valid selector")}return f.element(n)?n:I("root parameter must be an element")},this.validatePosition=function(n){return f.function(n)&&(n=n(t._it)),f.string(n)?n:I("enter, leave, rootEnter and rootLeave parameters must be a string.")},this.setPositionData=function(n){n=t.validatePosition(n);var i=n.trim(),o=Q(i),a=K(o.value);return{original:i,unit:o.unit,value:a,normal:o.unit==="%"?a/100:0}},this.parsePositions=function(n,i,o,a){var l=[n,o,i,a].map(function(s){return t.setPositionData(t.validatePosition(s).trim())});return{tEP:l[0],rEP:l[1],tLP:l[2],rLP:l[3]}},this.deleteTriggerData=function(n){return t.tD.delete(n)},this.getTriggerData=function(n,i){var o=t.tD.get(n)||{};return i?o[i]:o},this.setTriggerData=function(n,i,o){var a=t.getTriggerData(n),l=o?V(V({},a),i):i;t.tD.set(n,l)},this.setTriggerStates=function(n,i){var o=t.getTriggerData(n,"states");t.setTriggerData(n,{states:V(V({},o),i)},!0)},this.setTriggerScrollStates=function(n,i,o){var a=t.getTriggerData(n,"states").onScroll;if(a[i]=o,t.setTriggerStates(n,{onScroll:a}),o){t.states.runningScrollCbs===0&&t._it.addScrollListener(t._it._onScrollHandler),t.states.runningScrollCbs++;return}0<t.states.runningScrollCbs&&t.states.runningScrollCbs--,t.states.runningScrollCbs===0&&t._it.removeScrollListener(t._it._onScrollHandler)},this.triggerEvent=function(n,i){var o=ht(i,5),a=o[0],l=o[1],s=o[2],u=o[3],c=o[4],g=t.getTriggerData(n),b=g.once,p=g.toggleClass,h=g.animation,v=g.states.hasEnteredOnce;if(l(n,t._it),t._it.killed)return t.kill();p&&t._it.toggleClass.toggle(n,p,c),h&&t._it.animation.animate(n,h,c);var m=a==="Enter"||a==="EnterBack",y={};if(m){var E,d;y=(E={},O(E,s,!0),O(E,u,!1),E),v||(y=(d={},O(d,s,!0),O(d,"hasLeft",!1),O(d,"hasLeftBack",!1),O(d,"hasEnteredOnce",!0),d))}else{var _;if(b&&v){t._it.remove(n);return}y=(_={},O(_,u,!0),O(_,"hasEntered",!1),O(_,"hasEnteredBack",!1),_)}t.setTriggerStates(n,y)},this.getPositions=function(n,i,o){var a=o.enter,l=o.leave,s=o.ref,u=o.refOpposite,c=o.length,g=t._it._isREPGreater;return[n[s]+a*n[c],n[s]+l*n[c],g?i[u]:i[s],g?i[s]:i[u]]},this.toggleActions=function(n){var i=t.getTriggerData(n),o=i.enter,a=i.leave,l=i.onEnter,s=i.onLeave,u=i.onEnterBack,c=i.onLeaveBack,g=i.states,b=g.hasEntered,p=g.hasEnteredBack,h=g.hasLeft,v=g.hasLeftBack,m=g.hasEnteredOnce,y=n.getBoundingClientRect(),E=t._it.rootBounds=t.getRootRect(t._it.observer.rootMargin),d=t.dirProps(),_=d.ref,S=d.refOpposite,P=d.length,x=t.getPositions(y,E,{enter:o,leave:a,ref:_,refOpposite:S,length:P}),T=ht(x,4),R=T[0],B=T[1],M=T[2],H=T[3],F=!0,w=b||p;switch(!0){case(v&&M>R):t.triggerEvent(n,["Enter",l,"hasEntered","hasLeftBack",0]);break;case(w&&H>B):t.triggerEvent(n,["Leave",s,null,"hasLeft",1]);break;case(h&&m&&H<B):t.triggerEvent(n,["EnterBack",u,"hasEnteredBack","hasLeft",2]);break;case(w&&M<R):t.triggerEvent(n,["LeaveBack",c,null,"hasLeftBack",3]);break;default:F=!1;break}return F},this.parseRootMargin=function(n){var i=n||"0px",o=gt(i);return o[1]=o[1]||o[0],o[2]=o[2]||o[0],o[3]=o[3]||o[1],o},this.expandRectByRootMargin=function(n,i){var o=t.parseRootMargin(i).map(function(l,s){return l.unit==="px"?l.value:l.value*(s%2?n.width:n.height)/100}),a={top:n.top-o[0],right:n.right+o[1],bottom:n.bottom+o[2],left:n.left-o[3],width:0,height:0};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},this.getRootRect=function(n){var i;if(t._it._root&&!f.doc(t._it._root))return i=t._it._root.getBoundingClientRect(),t.expandRectByRootMargin(i,n);var o=f.doc(t._it._root)?t._it._root:document,a=o.documentElement,l=o.body;return i={top:0,left:0,right:a.clientWidth||l.clientWidth,width:a.clientWidth||l.clientWidth,bottom:a.clientHeight||l.clientHeight,height:a.clientHeight||l.clientHeight},t.expandRectByRootMargin(i,n)}}},{key:"kill",value:function(){this._it=void 0}}]),r}();function j(r){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(r)}function $(r){return Xt(r)||Jt(r)||X(r)||Qt()}function Qt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jt(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Xt(r){if(Array.isArray(r))return Y(r)}function _t(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function St(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(t),!0).forEach(function(n){U(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Pt(r,e){return qt(r)||Zt(r,e)||X(r,e)||Yt()}function Yt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zt(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function qt(r){if(Array.isArray(r))return r}function te(r,e){var t=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=X(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,a=!1,l;return{s:function(){t=t.call(r)},n:function(){var u=t.next();return o=u.done,u},e:function(u){a=!0,l=u},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function X(r,e){if(!!r){if(typeof r=="string")return Y(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y(r,e)}}function Y(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ee(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,Ot(n.key),n)}}function re(r,e,t){return e&&Et(r.prototype,e),t&&Et(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function U(r,e,t){return e=Ot(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ot(r){var e=ne(r,"string");return j(e)==="symbol"?e:String(e)}function ne(r,e){if(j(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(j(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Z=[],k=[],wt=0,L=function(){function r(e){var t=this;ee(this,r),U(this,"_rAFCallback",function(){t.triggers.forEach(function(n){var i=t._utils.getTriggerData(n,"states").onScroll;for(var o in i){var a=o;i[a]&&i[a](n)}})}),U(this,"_onScrollHandler",function(){return t._rAFID=requestAnimationFrame(t._rAFCallback)}),U(this,"_observerCallback",function(n,i){var o=t._utils.dirProps(),a=o.ref,l=o.refOpposite,s=o.length,u=te(n),c;try{var g=function(){var p=c.value,h=p.target,v=p.boundingClientRect,m=p.isIntersecting,y=t.rootBounds=p.rootBounds||t._utils.getRootRect(i.rootMargin),E=y[s],d=t._utils.getTriggerData(h),_=d.enter,S=d.leave,P=d.onEnter,x=d.onLeave,T=d.onLeaveBack,R=d.states,B=R.hasEntered,M=R.hasEnteredBack,H=R.onScroll.backup,F=t._utils.getPositions(v,y,{enter:_,leave:S,ref:a,refOpposite:l,length:s}),w=Pt(F,4),q=w[0],W=w[1],tt=w[2],z=w[3],et=v[s]>=E,rt=!!H,kt=B||M,nt=["Enter",P,"hasEntered","hasLeftBack",0],it=["Leave",x,null,"hasLeft",1],Lt=function(){t._utils.triggerEvent(h,nt),t._utils.triggerEvent(h,it)};switch(!0){case t._states.oCbFirstInvoke:!m&&z>W||m&&z>W?Lt():m&&tt>q&&z<W&&t._utils.triggerEvent(h,nt),m&&et&&t._utils.setTriggerScrollStates(h,"backup",t._utils.toggleActions);break;case!m:rt&&t._utils.setTriggerScrollStates(h,"backup"),kt&&(z>W?t._utils.triggerEvent(h,it):tt<q&&t._utils.triggerEvent(h,["LeaveBack",T,null,"hasLeftBack",3]));break;case(m&&!rt):t._utils.toggleActions(h),et&&t._utils.setTriggerScrollStates(h,"backup",t._utils.toggleActions);break}};for(u.s();!(c=u.n()).done;)g()}catch(b){u.e(b)}finally{u.f()}t._states.oCbFirstInvoke=!1}),this._userOptions=e||{},this.triggers=[],this._triggersData=new WeakMap,this.id=wt,wt++,k.push(this),this.animation=void 0,this.toggleClass=void 0,this.guides=void 0,this._states={oCbFirstInvoke:!0,runningScrollCbs:0},this._utils=new bt(this),this._setInstance()}return re(r,[{key:"_setPlugin",value:function(t){var n=r.getRegisteredPlugins(),i=n.find(function(o){return t===o.pluginName});i&&(this[t]=new i(this))}},{key:"_addResizeListener",value:function(){var t=this;this._removeResizeListener(),this._onResizeHandler=function(){return t.update()},this._utils.getRoot("resize").addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){this._utils.getRoot("resize").removeEventListener("resize",this._onResizeHandler,!1)}},{key:"addScrollListener",value:function(t){this._utils.getRoot("scroll").addEventListener("scroll",t,!1)}},{key:"removeScrollListener",value:function(t){this._utils.getRoot("scroll").removeEventListener("scroll",t,!1)}},{key:"_createInstance",value:function(){this._rootMargin=this._utils.setRootMargin(this._positionsData.rEP,this._positionsData.rLP),this._threshold=this._utils.setThreshold(),this.observer=new IntersectionObserver(this._observerCallback,{root:this._root,rootMargin:this._rootMargin,threshold:this._threshold}),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin)}},{key:"_setInstance",value:function(){this._defaultOptions=ot,this._options=N(this._defaultOptions,this._userOptions);var t=this._options,n=t.axis,i=t.name,o=t.root,a=t.defaults,l=a.enter,s=a.leave,u=t.onScroll,c=t.rootEnter,g=t.rootLeave,b=t.guides;return this.axis=n,this.name=i,this._root=this._utils.parseRoot(o),this._positionsData=this._utils.parsePositions(l,s,c,g),this.customScrollHandler=u,this._createInstance(),this._addResizeListener(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),b&&(this._setPlugin("guides"),this.guides.init(b)),this}},{key:"add",value:function(t,n){var i=this,o=this._utils.parseQuery(t),a=this._options.defaults,l=n||{},s=function(P){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"tEP";return P?i._utils.setPositionData(P).normal:i._positionsData[x].normal},u=function(P){return!i[P]&&i._setPlugin(P),i[P]},c=N(a,l),g=c.enter,b=c.leave,p=c.toggleClass,h=c.animation,v=St(St({},c),{},{enter:s(g),leave:s(b,"tLP"),toggleClass:p?u("toggleClass").parse(p):void 0,animation:h?u("animation").parse(h):void 0,states:at}),m=ft(v.enter,v.leave),y=Pt(m,2),E=y[0],d=y[1];v.minPosition=E,v.maxPosition=d,this.triggers=$(new Set([].concat($(this.triggers),$(o))));var _=!1;return[v.enter,v.leave].forEach(function(S){return!i._threshold.some(function(P){return S===P})&&(_=!0)}),_?(o.forEach(function(S){return i._utils.setTriggerData(S,G(v))}),this.update()):o.forEach(function(S){i._utils.setTriggerData(S,G(v)),i.observer.observe(S)}),this.guides&&this.guides.update(),this}},{key:"remove",value:function(t){var n=this,i=this._utils.parseQuery(t);i.forEach(function(a){n._utils.deleteTriggerData(a),n.observer.unobserve(a)});var o=this.triggers.filter(function(a){var l=i.some(function(s){return a===s});return!l});return this.triggers=o,this.guides&&this.guides.update(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=void 0}},{key:"update",value:function(){var t=this;this._disconnect(),this._createInstance(),this.triggers.forEach(function(n){return t.observer&&t.observer.observe(n)}),this.guides&&this.guides.update()}},{key:"kill",value:function(){this.killed=!0,this._disconnect(),this.removeScrollListener(this._onScrollHandler),this.removeScrollListener(this.customScrollHandler),this._removeResizeListener(),this._rAFID&&cancelAnimationFrame(this._rAFID),this.guides&&this.guides.kill(),this.toggleClass&&this.toggleClass.kill(),this.animation&&this.animation.kill(),this.triggers=[],this.animation=this.toggleClass=this.guides=this._utils=void 0;var t=k.indexOf(this);~t&&k.splice(t,1)}}]),r}();L.getInstances=function(){return k};L.getInstanceById=function(r){return k.find(function(e){return e.id===r})};L.update=function(){return k.forEach(function(r){return r.update()})};L.kill=function(){return k.forEach(function(r){return r.kill()})};L.registerPlugins=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.push.apply(Z,$(r))};L.getRegisteredPlugins=function(){return Z};var ie=L;return oe;})();
//# sourceMappingURL=core.browser.min.js.map
