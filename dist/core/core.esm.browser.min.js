/*
* IntersectionTrigger v1.1.1 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2023, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: February 22, 2023
*/

var A=function(){};var Y={defaults:{enter:"0%",leave:"100%",once:!1,onEnter:A,onLeave:A,onEnterBack:A,onLeaveBack:A,toggleClass:void 0,animation:void 0},rootEnter:"100%",rootLeave:"0%",axis:"y",name:"",root:null,guides:!1,onScroll:A};var Z={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:void 0,animate:void 0},ids:{snapTimeOutId:0}};function ye(r,t){return Oe(r)||Se(r,t)||_e(r,t)||be()}function be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _e(r,t){if(!!r){if(typeof r=="string")return q(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return q(r,t)}}function q(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Se(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;s=!1}else for(;!(s=(n=o.call(e)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Oe(r){if(Array.isArray(r))return r}function ee(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Pe(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ee(Object(e),!0).forEach(function(n){Te(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ee(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Te(r,t,e){return t=Ee(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Ee(r){var t=we(r,"string");return L(t)==="symbol"?t:String(t)}function we(r,t){if(L(r)!=="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t||"default");if(L(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function L(r){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(r)}var h={function:function(t){return typeof t=="function"},string:function(t){return typeof t=="string"},boolean:function(t){return typeof t=="boolean"},object:function(t){return!!t&&L(t)==="object"&&t!==null&&!(t instanceof Array)},num:function(t){return typeof t=="number"},array:function(t){return t instanceof Array},element:function(t){return t instanceof HTMLElement},empty:function(t){return Object.keys(t).length===0},doc:function(t){return h.element(t)&&t.nodeType===9},anime:function(t){return h.object(t)&&t.hasOwnProperty("animatables")&&!t.hasOwnProperty("add")},tl:function(t){return h.object(t)&&t.hasOwnProperty("add")&&h.function(t.add)},animeInstance:function(t){return h.anime(t)||h.tl(t)},pixel:function(t){return t.includes("px")},inObject:function(t,e){return h.object(t)&&e in t},percent:function(t){return t.includes("%")},scrollable:function(t,e){return e?e==="y"?t.scrollHeight>t.clientHeight:t.scrollWidth>t.clientWidth:t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}};var te=function(t,e){return t&&t.getBoundingClientRect()[e]},re=function(t,e){return e==="y"?t.scrollHeight:t.scrollWidth},W=function(t,e){h.string(t)&&(t=parseFloat(t));var n=Math.pow(10,e||0);return Math.round(t*n)/n};var F=function r(t){if(!h.object(t)&&!h.array(t)||h.animeInstance(t)||t instanceof Element)return t;var e=h.array(t)?[]:{};for(var n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));return e},$=function r(t,e){for(var n=Pe({},t),i=0,o=Object.entries(e);i<o.length;i++){var a=ye(o[i],2),l=a[0],s=a[1],u=l;if(h.object(n[u])&&!h.empty(n[u])){if(!h.object(s))continue;n[u]=r(n[u],s)}else n[u]=s}return n},D=function(t){throw new Error(t)},ne=function(t,e){return[t,e].sort(function(n,i){return n-i})},z=function(t){var e={value:0,unit:""},n=/^(-?\d*\.?\d+)(px|%)$/.exec(t);return n&&(e={value:parseFloat(n[1]),unit:n[2]}),e},ie=function(t){return t.split(/\s+/).map(function(e){return z(e)})};function I(r){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(r)}function ke(r,t){return Re(r)||Le(r,t)||se(r,t)||xe()}function xe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Le(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;s=!1}else for(;!(s=(n=o.call(e)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Re(r){if(Array.isArray(r))return r}function oe(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function E(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oe(Object(e),!0).forEach(function(n){S(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):oe(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function S(r,t,e){return t=ue(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function ae(r){return Ie(r)||De(r)||se(r)||Ae()}function Ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function se(r,t){if(!!r){if(typeof r=="string")return U(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return U(r,t)}}function De(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ie(r){if(Array.isArray(r))return U(r)}function U(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Ce(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function le(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,ue(n.key),n)}}function je(r,t,e){return t&&le(r.prototype,t),e&&le(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function ue(r){var t=Me(r,"string");return I(t)==="symbol"?t:String(t)}function Me(r,t){if(I(r)!=="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t||"default");if(I(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var ce=function(){function r(t){return Ce(this,r),this._it=t,this.setUtils(),this}return je(r,[{key:"setUtils",value:function(){var e=this;this.isVertical=function(){return e._it.axis==="y"},this.getRoot=function(n){return e._it._root?e._it._root:n==="resize"?window:n==="scroll"?document:document.documentElement},this.dirProps=function(){return e.isVertical()?{ref:"top",length:"height",refOpposite:"bottom",clientLength:document.documentElement.clientHeight}:{ref:"left",length:"width",refOpposite:"right",clientLength:document.documentElement.clientWidth}},this.setRootMargin=function(n,i){var o=e.dirProps(),a=o.length,l=o.clientLength,s=e._it._root?te(e._it._root,a):l,u=function(p,v){var g=p.value,m=p.unit,_=p.normal;return m==="%"?_*v:g};n.pixeled=u(n,s),i.pixeled=u(i,s),e._it._isREPGreater=n.pixeled>=i.pixeled;var c={fromRef:"".concat(-1*(e._it._isREPGreater?i.pixeled:n.pixeled),"px"),fromOppRef:"".concat((e._it._isREPGreater?n.pixeled:i.pixeled)-s,"px")},d=re(e.getRoot(),e.isVertical()?"x":"y");return e.isVertical()?"".concat(c.fromRef," ").concat(d,"px ").concat(c.fromOppRef," ").concat(d,"px"):"".concat(d,"px ").concat(c.fromOppRef," ").concat(d,"px ").concat(c.fromRef)},this.setThreshold=function(){var n=[0,1];return e._it.triggers.forEach(function(i){var o=e.getTriggerData(i),a=o.enter,l=o.leave,s=o.maxPosition;n.push(a,l,W(1-s,2))}),ae(new Set(n))},this.parseQuery=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger";return h.string(n)?ae(document.querySelectorAll(n)):h.array(n)?n:h.element(n)?[n]:D("".concat(i," parameter must be a valid selector, an element or array of elements"))},this.parseRoot=function(n){if(!n)return null;if(h.string(n)){var i=document.querySelector(n);return i||D("root parameter must be a valid selector")}return h.element(n)?n:D("root parameter must be an element")},this.validatePosition=function(n){return h.function(n)&&(n=n(e._it)),h.string(n)?n:D("enter, leave, rootEnter and rootLeave parameters must be a string.")},this.setPositionData=function(n){n=e.validatePosition(n);var i=n.trim(),o=z(i),a=W(o.value);return{original:i,unit:o.unit,value:a,normal:o.unit==="%"?a/100:0}},this.parsePositions=function(n,i,o,a){var l=[n,o,i,a].map(function(s){return e.setPositionData(e.validatePosition(s).trim())});return{tEP:l[0],rEP:l[1],tLP:l[2],rLP:l[3]}},this.deleteTriggerData=function(n){e._it._triggersData.delete(n)},this.hasTriggerData=function(n,i){var o=e._it._triggersData.has(n);return i?o&&i in e.getTriggerData(n):o},this.getTriggerData=function(n,i){return i?e.hasTriggerData(n,i)?e._it._triggersData.get(n)[i]:{}:e.hasTriggerData(n)&&e._it._triggersData.get(n)||{}},this.setTriggerData=function(n,i,o){if(o){var a=e.getTriggerData(n);"enter"in a&&e._it._triggersData.set(n,E(E({},a),i));return}e._it._triggersData.set(n,i)},this.getTriggerStates=function(n,i){var o=e.getTriggerData(n,"states");return i?o[i]:E(E({},o),{},{hasEnteredFromOneSide:o.hasEntered||o.hasEnteredBack})},this.setTriggerStates=function(n,i){var o=e.getTriggerData(n),a=o&&E(E({},o.states),i);e.setTriggerData(n,{states:a},!0)},this.setTriggerScrollStates=function(n,i,o){var a=e.getTriggerStates(n,"onScroll");if(a[i]=o,e.setTriggerStates(n,{onScroll:E({},a)}),o){e._it._states.runningScrollCbs===0&&e._it.addScrollListener(e._it._onScrollHandler),e._it._states.runningScrollCbs++;return}0<e._it._states.runningScrollCbs&&e._it._states.runningScrollCbs--,e._it._states.runningScrollCbs===0&&e._it.removeScrollListener(e._it._onScrollHandler)},this.onTriggerEnter=function(n){var i,o,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Enter",l=e.getTriggerStates(n),s=l.hasEnteredOnce,u=e.getTriggerData(n),c=u.onEnter,d=u.onEnterBack,f=u.toggleClass,p=u.animation,v=a==="Enter",g={callback:v?c:d,enterProp:v?"hasEntered":"hasEnteredBack",leaveProp:v?"hasLeftBack":"hasLeft",eventIndex:v?0:2};if(g.callback(n,e._it),e._it.killed)return e.kill();f&&e._it.toggleClass.toggle(n,f,g.eventIndex),p&&e._it.animation.animate(n,p,g.eventIndex);var m=s?(i={},S(i,g.enterProp,!0),S(i,g.leaveProp,!1),i):(o={},S(o,g.enterProp,!0),S(o,"hasLeft",!1),S(o,"hasLeftBack",!1),o);e.setTriggerStates(n,m),s||e.setTriggerStates(n,{hasEnteredOnce:!0})},this.onTriggerLeave=function(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Leave",a=e.getTriggerData(n),l=a.once,s=e.getTriggerStates(n),u=s.hasEnteredOnce,c=e.getTriggerData(n),d=c.onLeave,f=c.onLeaveBack,p=c.toggleClass,v=c.animation,g=o==="Leave",m={callback:g?d:f,leaveProp:g?"hasLeft":"hasLeftBack",eventIndex:g?1:3};if(m.callback(n,e._it),e._it.killed)return e.kill();p&&e._it.toggleClass.toggle(n,p,m.eventIndex),v&&e._it.animation.animate(n,v,m.eventIndex),e.setTriggerStates(n,(i={},S(i,m.leaveProp,!0),S(i,"hasEntered",!1),S(i,"hasEnteredBack",!1),i)),l&&u&&e._it.remove(n)},this.getPositions=function(n,i,o){var a=o.enter,l=o.leave,s=o.ref,u=o.refOpposite,c=o.length,d=e._it._isREPGreater;return[n[s]+a*n[c],n[s]+l*n[c],d?i[u]:i[s],d?i[s]:i[u]]},this.toggleActions=function(n){var i=n.getBoundingClientRect();e._it.rootBounds=e.getRootRect(e._it.observer.rootMargin);var o=e._it.rootBounds,a=e.getTriggerStates(n),l=a.hasEnteredFromOneSide,s=a.hasLeft,u=a.hasLeftBack,c=a.hasEnteredOnce,d=e.getTriggerData(n),f=d.enter,p=d.leave,v=e.dirProps(),g=v.ref,m=v.refOpposite,_=v.length,R=e.getPositions(i,o,{enter:f,leave:p,ref:g,refOpposite:m,length:_}),O=ke(R,4),P=O[0],y=O[1],b=O[2],x=O[3],T=!0;switch(!0){case(u&&b>P):e.onTriggerEnter(n);break;case(l&&x>y):e.onTriggerLeave(n);break;case(s&&c&&x<y):e.onTriggerEnter(n,"EnterBack");break;case(l&&b<P):e.onTriggerLeave(n,"hasLeftBack");break;default:T=!1;break}return T},this.parseRootMargin=function(n){var i=n||"0px",o=ie(i);return o[1]=o[1]||o[0],o[2]=o[2]||o[0],o[3]=o[3]||o[1],o},this.expandRectByRootMargin=function(n,i){var o=e.parseRootMargin(i).map(function(l,s){return l.unit==="px"?l.value:l.value*(s%2?n.width:n.height)/100}),a={top:n.top-o[0],right:n.right+o[1],bottom:n.bottom+o[2],left:n.left-o[3],width:0,height:0};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},this.getRootRect=function(n){var i;if(e._it._root&&!h.doc(e._it._root))return i=e._it._root.getBoundingClientRect(),e.expandRectByRootMargin(i,n);var o=h.doc(e._it._root)?e._it._root:document,a=o.documentElement,l=o.body;return i={top:0,left:0,right:a.clientWidth||l.clientWidth,width:a.clientWidth||l.clientWidth,bottom:a.clientHeight||l.clientHeight,height:a.clientHeight||l.clientHeight},e.expandRectByRootMargin(i,n)}}},{key:"kill",value:function(){this._it=void 0}}]),r}();function C(r){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(r)}function B(r){return We(r)||He(r)||V(r)||Be()}function Be(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function He(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function We(r){if(Array.isArray(r))return K(r)}function fe(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function ge(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fe(Object(e),!0).forEach(function(n){H(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):fe(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function he(r,t){return ze(r)||$e(r,t)||V(r,t)||Fe()}function Fe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $e(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;s=!1}else for(;!(s=(n=o.call(e)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function ze(r){if(Array.isArray(r))return r}function Ue(r,t){var e=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=V(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,a=!1,l;return{s:function(){e=e.call(r)},n:function(){var u=e.next();return o=u.done,u},e:function(u){a=!0,l=u},f:function(){try{!o&&e.return!=null&&e.return()}finally{if(a)throw l}}}}function V(r,t){if(!!r){if(typeof r=="string")return K(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return K(r,t)}}function K(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Ve(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function de(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,ve(n.key),n)}}function Ke(r,t,e){return t&&de(r.prototype,t),e&&de(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function H(r,t,e){return t=ve(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function ve(r){var t=Ge(r,"string");return C(t)==="symbol"?t:String(t)}function Ge(r,t){if(C(r)!=="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t||"default");if(C(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var G=[],w=[],pe=0,k=function(){function r(t){var e=this;Ve(this,r),H(this,"_rAFCallback",function(){e.triggers.forEach(function(n){var i=e._utils.getTriggerStates(n,"onScroll");for(var o in i){var a=o;i[a]&&i[a](n)}})}),H(this,"_onScrollHandler",function(){return e._rAFID=requestAnimationFrame(e._rAFCallback)}),H(this,"_observerCallback",function(n,i){var o=e._utils.dirProps(),a=o.ref,l=o.refOpposite,s=o.length,u=Ue(n),c;try{for(u.s();!(c=u.n()).done;){var d=c.value,f=d.target,p=d.boundingClientRect,v=d.isIntersecting;e.rootBounds=d.rootBounds||e._utils.getRootRect(i.rootMargin);var g=e.rootBounds,m=g[s],_=e._utils.getTriggerData(f),R=_.enter,O=_.leave,P=e._utils.getTriggerStates(f),y=P.hasEnteredFromOneSide,b=P.onScroll.backup,x=e._utils.getPositions(p,g,{enter:R,leave:O,ref:a,refOpposite:l,length:s}),T=he(x,4),N=T[0],j=T[1],Q=T[2],M=T[3],J=p[s]>=m,X=!!b;switch(!0){case e._states.oCbFirstInvoke:switch(!0){case(!v&&M>j):e._utils.onTriggerEnter(f),e._utils.onTriggerLeave(f);break;case v:switch(!0){case(Q>N&&M<j):e._utils.onTriggerEnter(f);break;case M>j:e._utils.onTriggerEnter(f),e._utils.onTriggerLeave(f);break}J&&e._utils.setTriggerScrollStates(f,"backup",e._utils.toggleActions);break}break;case!v:switch(X&&e._utils.setTriggerScrollStates(f,"backup"),!0){case(y&&M>j):e._utils.onTriggerLeave(f);break;case(y&&Q<N):e._utils.onTriggerLeave(f,"onLeaveBack");break}break;case(v&&!X):e._utils.toggleActions(f),J&&e._utils.setTriggerScrollStates(f,"backup",e._utils.toggleActions);break}}}catch(me){u.e(me)}finally{u.f()}e._states.oCbFirstInvoke=!1}),this._userOptions=t||{},this.triggers=[],this._triggersData=new WeakMap,this._utils=new ce(this),this.id=pe,pe++,w.push(this),this.animation=void 0,this.toggleClass=void 0,this.guides=void 0,this._states={oCbFirstInvoke:!0,runningScrollCbs:0},this._setInstance()}return Ke(r,[{key:"_setPlugin",value:function(e){var n=r.getRegisteredPlugins(),i=n.find(function(o){return e===o.pluginName});i&&(this[e]=new i(this))}},{key:"_addResizeListener",value:function(){var e=this;this._removeResizeListener(),this._onResizeHandler=function(){return e.update()},this._utils.getRoot("resize").addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){this._utils.getRoot("resize").removeEventListener("resize",this._onResizeHandler,!1)}},{key:"addScrollListener",value:function(e){this._utils.getRoot("scroll").addEventListener("scroll",e,!1)}},{key:"removeScrollListener",value:function(e){this._utils.getRoot("scroll").removeEventListener("scroll",e,!1)}},{key:"_createInstance",value:function(){this._rootMargin=this._utils.setRootMargin(this._positionsData.rEP,this._positionsData.rLP),this._threshold=this._utils.setThreshold(),this.observer=new IntersectionObserver(this._observerCallback,{root:this._root,rootMargin:this._rootMargin,threshold:this._threshold}),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin)}},{key:"_setInstance",value:function(){this._defaultOptions=Y,this._options=$(this._defaultOptions,this._userOptions);var e=this._options,n=e.axis,i=e.name,o=e.root,a=e.defaults,l=a.enter,s=a.leave,u=e.onScroll,c=e.rootEnter,d=e.rootLeave,f=e.guides;return this.axis=n,this.name=i,this._root=this._utils.parseRoot(o),this._positionsData=this._utils.parsePositions(l,s,c,d),this.customScrollHandler=u,this._createInstance(),this._addResizeListener(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),f&&(this._setPlugin("guides"),this.guides.init(f)),this}},{key:"add",value:function(e,n){var i=this,o=this._utils.parseQuery(e),a=this._options.defaults,l=n||{},s=function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"tEP";return b?i._utils.setPositionData(b).normal:i._positionsData[x].normal},u=function(b){return!i[b]&&i._setPlugin(b),i[b]},c=$(a,l),d=c.enter,f=c.leave,p=c.toggleClass,v=c.animation,g=ge(ge({},c),{},{enter:s(d),leave:s(f,"tLP"),toggleClass:p?u("toggleClass").parse(p):void 0,animation:v?u("animation").parse(v):void 0,states:Z}),m=ne(g.enter,g.leave),_=he(m,2),R=_[0],O=_[1];g.minPosition=R,g.maxPosition=O,this.triggers=B(new Set([].concat(B(this.triggers),B(o))));var P=!1;return[g.enter,g.leave].forEach(function(y){return!i._threshold.some(function(b){return y===b})&&(P=!0)}),P?(o.forEach(function(y){return i._utils.setTriggerData(y,F(g))}),this.update()):o.forEach(function(y){i._utils.setTriggerData(y,F(g)),i.observer.observe(y)}),this.guides&&this.guides.update(),this}},{key:"remove",value:function(e){var n=this,i=this._utils.parseQuery(e);i.forEach(function(a){n._utils.deleteTriggerData(a),n.observer.unobserve(a)});var o=this.triggers.filter(function(a){var l=i.some(function(s){return a===s});return!l});return this.triggers=o,this.guides&&this.guides.update(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=void 0}},{key:"update",value:function(){var e=this;this._disconnect(),this._createInstance(),this.triggers.forEach(function(n){return e.observer&&e.observer.observe(n)}),this.guides&&this.guides.update()}},{key:"kill",value:function(){this.killed=!0,this._disconnect(),this.removeScrollListener(this._onScrollHandler),this.removeScrollListener(this.customScrollHandler),this._removeResizeListener(),this._rAFID&&cancelAnimationFrame(this._rAFID),this.guides&&this.guides.kill(),this.toggleClass&&this.toggleClass.kill(),this.animation&&this.animation.kill(),this.triggers=[],this.animation=this.toggleClass=this.guides=this._utils=void 0;var e=w.indexOf(this);~e&&w.splice(e,1)}}]),r}();k.getInstances=function(){return w};k.getInstanceById=function(r){return w.find(function(t){return t.id===r})};k.update=function(){return w.forEach(function(r){return r.update()})};k.kill=function(){return w.forEach(function(r){return r.kill()})};k.registerPlugins=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.push.apply(G,B(r))};k.getRegisteredPlugins=function(){return G};var et=k;export{et as default};
//# sourceMappingURL=core.esm.browser.min.js.map
