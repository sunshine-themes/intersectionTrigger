/*
* IntersectionTrigger v1.1.0 
* IntersectionTrigger utilizes the most modern web technology to trigger anything by intersection. Including scroll-based animations.
* https://sunshine-themes.com/?appID=ss_app_1
*
* Copyright 2023, Sunshine. All rights reserved.
* @license: Released under the personal 'no charge' license can be viewed at http://sunshine-themes.com/?appID=ss_app_1&tab=license, Licensees of commercial or business license are granted additional rights. See http://sunshine-themes.com/?appID=ss_app_1&tab=license for details..
* @author: Sherif Magdy, sherifmagdy@sunshine-themes.com
*
* Released on: February 17, 2023
*/

var A=function(){};var Y={defaults:{enter:"0%",leave:"100%",once:!1,onEnter:A,onLeave:A,onEnterBack:A,onLeaveBack:A,toggleClass:void 0,animation:void 0},rootEnter:"100%",rootLeave:"0%",axis:"y",name:"",root:null,guides:!1,onScroll:A};var Z={hasEntered:!1,hasEnteredBack:!1,hasLeft:!0,hasLeftBack:!0,hasEnteredOnce:!1,onScroll:{backup:void 0,animate:void 0},ids:{snapTimeOutId:0}};function mt(e,r){return St(e)||_t(e,r)||bt(e,r)||yt()}function yt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bt(e,r){if(!!e){if(typeof e=="string")return q(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(e,r)}}function q(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _t(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==r);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function St(e){if(Array.isArray(e))return e}function tt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Ot(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tt(Object(t),!0).forEach(function(n){Pt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Pt(e,r,t){return r=Tt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Tt(e){var r=Et(e,"string");return L(r)==="symbol"?r:String(r)}function Et(e,r){if(L(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(L(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function L(e){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},L(e)}var v={function:function(r){return typeof r=="function"},string:function(r){return typeof r=="string"},boolean:function(r){return typeof r=="boolean"},object:function(r){return!!r&&L(r)==="object"&&r!==null&&!(r instanceof Array)},num:function(r){return typeof r=="number"},array:function(r){return r instanceof Array},element:function(r){return r instanceof HTMLElement},empty:function(r){return Object.keys(r).length===0},doc:function(r){return v.element(r)&&r.nodeType===9},anime:function(r){return v.object(r)&&r.hasOwnProperty("animatables")&&!r.hasOwnProperty("add")},tl:function(r){return v.object(r)&&r.hasOwnProperty("add")&&v.function(r.add)},animeInstance:function(r){return v.anime(r)||v.tl(r)},pixel:function(r){return r.includes("px")},inObject:function(r,t){return v.object(r)&&t in r},percent:function(r){return r.includes("%")},scrollable:function(r,t){return t?t==="y"?r.scrollHeight>r.clientHeight:r.scrollWidth>r.clientWidth:r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth}};var et=function(r,t){return r&&r.getBoundingClientRect()[t]},rt=function(r,t){return t==="y"?r.scrollHeight:r.scrollWidth},W=function(r,t){v.string(r)&&(r=parseFloat(r));var n=Math.pow(10,t||0);return Math.round(r*n)/n};var F=function e(r,t){for(var n=Ot({},r),i=0,o=Object.entries(t);i<o.length;i++){var a=mt(o[i],2),l=a[0],s=a[1],u=l;if(v.object(n[u])&&!v.empty(n[u])){if(!v.object(s))continue;n[u]=e(n[u],s)}else n[u]=s}return n},D=function(r){throw new Error(r)},nt=function(r,t){return[r,t].sort(function(n,i){return n-i})},$=function(r){var t={value:0,unit:""},n=/^(-?\d*\.?\d+)(px|%)$/.exec(r);return n&&(t={value:parseFloat(n[1]),unit:n[2]}),t},it=function(r){return r.split(/\s+/).map(function(t){return $(t)})};function I(e){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},I(e)}function wt(e,r){return Lt(e)||xt(e,r)||st(e,r)||kt()}function kt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xt(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==r);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Lt(e){if(Array.isArray(e))return e}function ot(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ot(Object(t),!0).forEach(function(n){S(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ot(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function S(e,r,t){return r=ut(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function at(e){return Dt(e)||At(e)||st(e)||Rt()}function Rt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function st(e,r){if(!!e){if(typeof e=="string")return z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(e,r)}}function At(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dt(e){if(Array.isArray(e))return z(e)}function z(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function It(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ut(n.key),n)}}function jt(e,r,t){return r&&lt(e.prototype,r),t&&lt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ut(e){var r=Ct(e,"string");return I(r)==="symbol"?r:String(r)}function Ct(e,r){if(I(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(I(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ct=function(){function e(r){return It(this,e),this._it=r,this.setUtils(),this}return jt(e,[{key:"setUtils",value:function(){var t=this;this.isVertical=function(){return t._it.axis==="y"},this.getRoot=function(n){return t._it._root?t._it._root:n==="resize"?window:n==="scroll"?document:document.documentElement},this.dirProps=function(){return t.isVertical()?{ref:"top",length:"height",refOpposite:"bottom",clientLength:document.documentElement.clientHeight}:{ref:"left",length:"width",refOpposite:"right",clientLength:document.documentElement.clientWidth}},this.setRootMargin=function(n,i){var o=t.dirProps(),a=o.length,l=o.clientLength,s=t._it._root?et(t._it._root,a):l,u=function(p,d){var g=p.value,m=p.unit,_=p.normal;return m==="%"?_*d:g};n.pixeled=u(n,s),i.pixeled=u(i,s),t._it._isREPGreater=n.pixeled>=i.pixeled;var c={fromRef:"".concat(-1*(t._it._isREPGreater?i.pixeled:n.pixeled),"px"),fromOppRef:"".concat((t._it._isREPGreater?n.pixeled:i.pixeled)-s,"px")},h=rt(t.getRoot(),t.isVertical()?"x":"y");return t.isVertical()?"".concat(c.fromRef," ").concat(h,"px ").concat(c.fromOppRef," ").concat(h,"px"):"".concat(h,"px ").concat(c.fromOppRef," ").concat(h,"px ").concat(c.fromRef)},this.setThreshold=function(){var n=[0,1];return t._it.triggers.forEach(function(i){var o=t.getTriggerData(i),a=o.enter,l=o.leave,s=o.maxPosition;n.push(a,l,W(1-s,2))}),at(new Set(n))},this.parseQuery=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"trigger";return v.string(n)?at(document.querySelectorAll(n)):v.array(n)?n:v.element(n)?[n]:D("".concat(i," parameter must be a valid selector, an element or array of elements"))},this.parseRoot=function(n){if(!n)return null;if(v.string(n)){var i=document.querySelector(n);return i||D("root parameter must be a valid selector")}return v.element(n)?n:D("root parameter must be an element")},this.validatePosition=function(n){return v.function(n)&&(n=n(t._it)),v.string(n)?n:D("enter, leave, rootEnter and rootLeave parameters must be a string.")},this.setPositionData=function(n){n=t.validatePosition(n);var i=n.trim(),o=$(i),a=W(o.value);return{original:i,unit:o.unit,value:a,normal:o.unit==="%"?a/100:0}},this.parsePositions=function(n,i,o,a){var l=[n,o,i,a].map(function(s){return t.setPositionData(t.validatePosition(s).trim())});return{tEP:l[0],rEP:l[1],tLP:l[2],rLP:l[3]}},this.deleteTriggerData=function(n){t._it._triggersData.delete(n)},this.hasTriggerData=function(n,i){var o=t._it._triggersData.has(n);return i?o&&i in t.getTriggerData(n):o},this.getTriggerData=function(n,i){return i?t.hasTriggerData(n,i)?t._it._triggersData.get(n)[i]:{}:t.hasTriggerData(n)&&t._it._triggersData.get(n)||{}},this.setTriggerData=function(n,i,o){if(o){var a=t.getTriggerData(n);"enter"in a&&t._it._triggersData.set(n,E(E({},a),i));return}t._it._triggersData.set(n,i)},this.getTriggerStates=function(n,i){var o=t.getTriggerData(n,"states");return i?o[i]:E(E({},o),{},{hasEnteredFromOneSide:o.hasEntered||o.hasEnteredBack})},this.setTriggerStates=function(n,i){var o=t.getTriggerData(n),a=o&&E(E({},o.states),i);t.setTriggerData(n,{states:a},!0)},this.setTriggerScrollStates=function(n,i,o){var a=t.getTriggerStates(n,"onScroll");if(a[i]=o,t.setTriggerStates(n,{onScroll:E({},a)}),o){t._it._states.runningScrollCbs===0&&t._it.addScrollListener(t._it._onScrollHandler),t._it._states.runningScrollCbs++;return}0<t._it._states.runningScrollCbs&&t._it._states.runningScrollCbs--,t._it._states.runningScrollCbs===0&&t._it.removeScrollListener(t._it._onScrollHandler)},this.onTriggerEnter=function(n){var i,o,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Enter",l=t.getTriggerStates(n),s=l.hasEnteredOnce,u=t.getTriggerData(n),c=u.onEnter,h=u.onEnterBack,f=u.toggleClass,p=u.animation,d=a==="Enter",g={callback:d?c:h,enterProp:d?"hasEntered":"hasEnteredBack",leaveProp:d?"hasLeftBack":"hasLeft",eventIndex:d?0:2};if(g.callback(n,t._it),t._it.killed)return t.kill();f&&t._it.toggleClass.toggle(n,f,g.eventIndex),p&&t._it.animation.animate(n,p,g.eventIndex);var m=s?(i={},S(i,g.enterProp,!0),S(i,g.leaveProp,!1),i):(o={},S(o,g.enterProp,!0),S(o,"hasLeft",!1),S(o,"hasLeftBack",!1),o);t.setTriggerStates(n,m),s||t.setTriggerStates(n,{hasEnteredOnce:!0})},this.onTriggerLeave=function(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Leave",a=t.getTriggerData(n),l=a.once,s=t.getTriggerStates(n),u=s.hasEnteredOnce,c=t.getTriggerData(n),h=c.onLeave,f=c.onLeaveBack,p=c.toggleClass,d=c.animation,g=o==="Leave",m={callback:g?h:f,leaveProp:g?"hasLeft":"hasLeftBack",eventIndex:g?1:3};if(m.callback(n,t._it),t._it.killed)return t.kill();p&&t._it.toggleClass.toggle(n,p,m.eventIndex),d&&t._it.animation.animate(n,d,m.eventIndex),t.setTriggerStates(n,(i={},S(i,m.leaveProp,!0),S(i,"hasEntered",!1),S(i,"hasEnteredBack",!1),i)),l&&u&&t._it.remove(n)},this.getPositions=function(n,i,o){var a=o.enter,l=o.leave,s=o.ref,u=o.refOpposite,c=o.length,h=t._it._isREPGreater;return[n[s]+a*n[c],n[s]+l*n[c],h?i[u]:i[s],h?i[s]:i[u]]},this.toggleActions=function(n){var i=n.getBoundingClientRect();t._it.rootBounds=t.getRootRect(t._it.observer.rootMargin);var o=t._it.rootBounds,a=t.getTriggerStates(n),l=a.hasEnteredFromOneSide,s=a.hasLeft,u=a.hasLeftBack,c=a.hasEnteredOnce,h=t.getTriggerData(n),f=h.enter,p=h.leave,d=t.dirProps(),g=d.ref,m=d.refOpposite,_=d.length,R=t.getPositions(i,o,{enter:f,leave:p,ref:g,refOpposite:m,length:_}),O=wt(R,4),P=O[0],y=O[1],b=O[2],x=O[3],T=!0;switch(!0){case(u&&b>P):t.onTriggerEnter(n);break;case(l&&x>y):t.onTriggerLeave(n);break;case(s&&c&&x<y):t.onTriggerEnter(n,"EnterBack");break;case(l&&b<P):t.onTriggerLeave(n,"hasLeftBack");break;default:T=!1;break}return T},this.parseRootMargin=function(n){var i=n||"0px",o=it(i);return o[1]=o[1]||o[0],o[2]=o[2]||o[0],o[3]=o[3]||o[1],o},this.expandRectByRootMargin=function(n,i){var o=t.parseRootMargin(i).map(function(l,s){return l.unit==="px"?l.value:l.value*(s%2?n.width:n.height)/100}),a={top:n.top-o[0],right:n.right+o[1],bottom:n.bottom+o[2],left:n.left-o[3],width:0,height:0};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},this.getRootRect=function(n){var i;if(t._it._root&&!v.doc(t._it._root))return i=t._it._root.getBoundingClientRect(),t.expandRectByRootMargin(i,n);var o=v.doc(t._it._root)?t._it._root:document,a=o.documentElement,l=o.body;return i={top:0,left:0,right:a.clientWidth||l.clientWidth,width:a.clientWidth||l.clientWidth,bottom:a.clientHeight||l.clientHeight,height:a.clientHeight||l.clientHeight},t.expandRectByRootMargin(i,n)}}},{key:"kill",value:function(){this._it=void 0}}]),e}();function j(e){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},j(e)}function B(e){return Ht(e)||Bt(e)||V(e)||Mt()}function Mt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bt(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ht(e){if(Array.isArray(e))return K(e)}function ft(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function U(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ft(Object(t),!0).forEach(function(n){H(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ft(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gt(e,r){return $t(e)||Ft(e,r)||V(e,r)||Wt()}function Wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ft(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==r);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function $t(e){if(Array.isArray(e))return e}function zt(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=V(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,a=!1,l;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return o=u.done,u},e:function(u){a=!0,l=u},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function V(e,r){if(!!e){if(typeof e=="string")return K(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K(e,r)}}function K(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ut(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ht(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dt(n.key),n)}}function Vt(e,r,t){return r&&ht(e.prototype,r),t&&ht(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e,r,t){return r=dt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function dt(e){var r=Kt(e,"string");return j(r)==="symbol"?r:String(r)}function Kt(e,r){if(j(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(j(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var G=[],w=[],vt=0,k=function(){function e(r){var t=this;Ut(this,e),H(this,"_rAFCallback",function(){t.triggers.forEach(function(n){var i=t._utils.getTriggerStates(n,"onScroll");for(var o in i){var a=o;i[a]&&i[a](n)}})}),H(this,"_onScrollHandler",function(){return t._rAFID=requestAnimationFrame(t._rAFCallback)}),H(this,"_observerCallback",function(n,i){var o=t._utils.dirProps(),a=o.ref,l=o.refOpposite,s=o.length,u=zt(n),c;try{for(u.s();!(c=u.n()).done;){var h=c.value,f=h.target,p=h.boundingClientRect,d=h.isIntersecting;t.rootBounds=h.rootBounds||t._utils.getRootRect(i.rootMargin);var g=t.rootBounds,m=g[s],_=t._utils.getTriggerData(f),R=_.enter,O=_.leave,P=t._utils.getTriggerStates(f),y=P.hasEnteredFromOneSide,b=P.onScroll.backup,x=t._utils.getPositions(p,g,{enter:R,leave:O,ref:a,refOpposite:l,length:s}),T=gt(x,4),N=T[0],C=T[1],Q=T[2],M=T[3],J=p[s]>=m,X=!!b;switch(!0){case t._states.oCbFirstInvoke:switch(!0){case(!d&&M>C):t._utils.onTriggerEnter(f),t._utils.onTriggerLeave(f);break;case d:switch(!0){case(Q>N&&M<C):t._utils.onTriggerEnter(f);break;case M>C:t._utils.onTriggerEnter(f),t._utils.onTriggerLeave(f);break}J&&t._utils.setTriggerScrollStates(f,"backup",t._utils.toggleActions);break}break;case!d:switch(X&&t._utils.setTriggerScrollStates(f,"backup"),!0){case(y&&M>C):t._utils.onTriggerLeave(f);break;case(y&&Q<N):t._utils.onTriggerLeave(f,"onLeaveBack");break}break;case(d&&!X):t._utils.toggleActions(f),J&&t._utils.setTriggerScrollStates(f,"backup",t._utils.toggleActions);break}}}catch(pt){u.e(pt)}finally{u.f()}t._states.oCbFirstInvoke=!1}),this._userOptions=r||{},this.triggers=[],this._triggersData=new WeakMap,this._utils=new ct(this),this.id=vt,vt++,w.push(this),this.animation=void 0,this.toggleClass=void 0,this.guides=void 0,this._states={oCbFirstInvoke:!0,runningScrollCbs:0},this._setInstance()}return Vt(e,[{key:"_setPlugin",value:function(t){var n=e.getRegisteredPlugins(),i=n.find(function(o){return t===o.pluginName});i&&(this[t]=new i(this))}},{key:"_addResizeListener",value:function(){var t=this;this._removeResizeListener(),this._onResizeHandler=function(){return t.update()},this._utils.getRoot("resize").addEventListener("resize",this._onResizeHandler,!1)}},{key:"_removeResizeListener",value:function(){this._utils.getRoot("resize").removeEventListener("resize",this._onResizeHandler,!1)}},{key:"addScrollListener",value:function(t){this._utils.getRoot("scroll").addEventListener("scroll",t,!1)}},{key:"removeScrollListener",value:function(t){this._utils.getRoot("scroll").removeEventListener("scroll",t,!1)}},{key:"_createInstance",value:function(){this._rootMargin=this._utils.setRootMargin(this._positionsData.rEP,this._positionsData.rLP),this._threshold=this._utils.setThreshold(),this.observer=new IntersectionObserver(this._observerCallback,{root:this._root,rootMargin:this._rootMargin,threshold:this._threshold}),this._root=this.observer.root,this.rootBounds=this._utils.getRootRect(this.observer.rootMargin)}},{key:"_setInstance",value:function(){this._defaultOptions=Y,this._options=F(this._defaultOptions,this._userOptions);var t=this._options,n=t.axis,i=t.name,o=t.root,a=t.defaults,l=a.enter,s=a.leave,u=t.onScroll,c=t.rootEnter,h=t.rootLeave,f=t.guides;return this.axis=n,this.name=i,this._root=this._utils.parseRoot(o),this._positionsData=this._utils.parsePositions(l,s,c,h),this.customScrollHandler=u,this._createInstance(),this._addResizeListener(),this.customScrollHandler&&this.addScrollListener(this.customScrollHandler),f&&(this._setPlugin("guides"),this.guides.init(f)),this}},{key:"add",value:function(t,n){var i=this,o=this._utils.parseQuery(t),a=this._options.defaults,l=n||{},s=function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"tEP";return b?i._utils.setPositionData(b).normal:i._positionsData[x].normal},u=function(b){return!i[b]&&i._setPlugin(b),i[b]},c=F(a,l),h=c.enter,f=c.leave,p=c.toggleClass,d=c.animation,g=U(U({},c),{},{enter:s(h),leave:s(f,"tLP"),toggleClass:p?u("toggleClass").parse(p):void 0,animation:d?u("animation").parse(d):void 0,states:U({},Z)}),m=nt(g.enter,g.leave),_=gt(m,2),R=_[0],O=_[1];g.minPosition=R,g.maxPosition=O,this.triggers=B(new Set([].concat(B(this.triggers),B(o))));var P=!1;return[g.enter,g.leave].forEach(function(y){return!i._threshold.some(function(b){return y===b})&&(P=!0)}),P?(o.forEach(function(y){return i._utils.setTriggerData(y,g)}),this.update()):o.forEach(function(y){i._utils.setTriggerData(y,g),i.observer.observe(y)}),this.guides&&this.guides.update(),this}},{key:"remove",value:function(t){var n=this,i=this._utils.parseQuery(t);i.forEach(function(a){n._utils.deleteTriggerData(a),n.observer.unobserve(a)});var o=this.triggers.filter(function(a){var l=i.some(function(s){return a===s});return!l});return this.triggers=o,this.guides&&this.guides.update(),this}},{key:"_disconnect",value:function(){this.observer&&this.observer.disconnect(),this.observer=void 0}},{key:"update",value:function(){var t=this;this._disconnect(),this._createInstance(),this.triggers.forEach(function(n){return t.observer&&t.observer.observe(n)}),this.guides&&this.guides.update()}},{key:"kill",value:function(){this.killed=!0,this._disconnect(),this.removeScrollListener(this._onScrollHandler),this.removeScrollListener(this.customScrollHandler),this._removeResizeListener(),this._rAFID&&cancelAnimationFrame(this._rAFID),this.guides&&this.guides.kill(),this.toggleClass&&this.toggleClass.kill(),this.animation&&this.animation.kill(),this.triggers=[],this.animation=this.toggleClass=this.guides=this._utils=void 0;var t=w.indexOf(this);~t&&w.splice(t,1)}}]),e}();k.getInstances=function(){return w};k.getInstanceById=function(e){return w.find(function(r){return r.id===e})};k.update=function(){return w.forEach(function(e){return e.update()})};k.kill=function(){return w.forEach(function(e){return e.kill()})};k.registerPlugins=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.push.apply(G,B(e))};k.getRegisteredPlugins=function(){return G};var qt=k;export{qt as default};
//# sourceMappingURL=core.esm.browser.min.js.map
